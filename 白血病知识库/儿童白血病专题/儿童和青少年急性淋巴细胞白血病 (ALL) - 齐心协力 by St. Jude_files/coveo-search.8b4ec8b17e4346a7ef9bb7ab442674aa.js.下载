var r0="st_jude",ua,Dp,St=!1,ul=!1,ro=typeof window!="undefined"?window:{},Gn=ro.document||{head:{}},ur=ro.HTMLElement||class{},Rt={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,n)=>e.addEventListener(t,r,n),rel:(e,t,r,n)=>e.removeEventListener(t,r,n),ce:(e,t)=>new CustomEvent(e,t)},n0=e=>Promise.resolve(e),i0=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(e){}return!1})(),yd="http://www.w3.org/1999/xlink",Ar=(e,t="")=>()=>{},bd=new WeakMap,a0=(e,t,r)=>{let n=xa.get(e);i0&&r?(n=n||new CSSStyleSheet,typeof n=="string"?n=t:n.replaceSync(t)):n=t,xa.set(e,n)},o0=(e,t,r,n)=>{let i=jp(t),a=xa.get(i);if(e=e.nodeType===11?e:Gn,a)if(typeof a=="string"){e=e.head||e;let o=bd.get(e),s;o||bd.set(e,o=new Set),o.has(i)||(s=Gn.createElement("style"),s.innerHTML=a,e.insertBefore(s,e.querySelector("link")),o&&o.add(i))}else e.adoptedStyleSheets.includes(a)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,a]);return i},s0=e=>{let t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,i=Ar("attachStyles",t.$tagName$),a=o0(r.shadowRoot?r.shadowRoot:r.getRootNode(),t);n&10&&(r["s-sc"]=a,r.classList.add(a+"-h")),i()},jp=(e,t)=>"sc-"+e.$tagName$,Sd={},l0="http://www.w3.org/2000/svg",u0="http://www.w3.org/1999/xhtml",c0=e=>e!=null,su=e=>(e=typeof e,e==="object"||e==="function"),Y=(e,t,...r)=>{let n=null,i=!1,a=!1,o=[],s=u=>{for(let d=0;d<u.length;d++)n=u[d],Array.isArray(n)?s(n):n!=null&&typeof n!="boolean"&&((i=typeof e!="function"&&!su(n))&&(n=String(n)),i&&a?o[o.length-1].$text$+=n:o.push(i?Oa(null,n):n),a=i)};if(s(r),t){let u=t.className||t.class;u&&(t.class=typeof u!="object"?u:Object.keys(u).filter(d=>u[d]).join(" "))}if(typeof e=="function")return e(t===null?{}:t,o,p0);let l=Oa(e,null);return l.$attrs$=t,o.length>0&&(l.$children$=o),l},Oa=(e,t)=>{let r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.$attrs$=null,r},d0={},f0=e=>e&&e.$tag$===d0,p0={forEach:(e,t)=>e.map(wd).forEach(t),map:(e,t)=>e.map(wd).map(t).map(h0)},wd=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),h0=e=>{if(typeof e.vtag=="function"){let r=Object.assign({},e.vattrs);return e.vkey&&(r.key=e.vkey),e.vname&&(r.name=e.vname),Y(e.vtag,r,...e.vchildren||[])}let t=Oa(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},Cd=(e,t,r,n,i,a)=>{if(r!==n){let o=kd(e,t),s=t.toLowerCase();if(t==="class"){let l=e.classList,u=$d(r),d=$d(n);l.remove(...u.filter(f=>f&&!d.includes(f))),l.add(...d.filter(f=>f&&!u.includes(f)))}else if(t==="style"){for(let l in r)(!n||n[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(let l in n)(!r||n[l]!==r[l])&&(l.includes("-")?e.style.setProperty(l,n[l]):e.style[l]=n[l])}else if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):kd(ro,s)?t=s.slice(2):t=s[2]+t.slice(3),r&&Rt.rel(e,t,r,!1),n&&Rt.ael(e,t,n,!1);else{let l=su(n);if((o||l&&n!==null)&&!i)try{if(e.tagName.includes("-"))e[t]=n;else{let d=n==null?"":n;t==="list"?o=!1:(r==null||e[t]!=d)&&(e[t]=d)}}catch(d){}let u=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,u=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(u?e.removeAttributeNS(yd,t):e.removeAttribute(t)):(!o||a&4||i)&&!l&&(n=n===!0?"":n,u?e.setAttributeNS(yd,t,n):e.setAttribute(t,n))}}},g0=/\s/,$d=e=>e?e.split(g0):[],Tp=(e,t,r,n)=>{let i=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||Sd,o=t.$attrs$||Sd;for(n in a)n in o||Cd(i,n,a[n],void 0,r,t.$flags$);for(n in o)Cd(i,n,a[n],o[n],r,t.$flags$)},lu=(e,t,r,n)=>{let i=t.$children$[r],a=0,o,s;if(i.$text$!==null)o=i.$elm$=Gn.createTextNode(i.$text$);else{if(St||(St=i.$tag$==="svg"),o=i.$elm$=Gn.createElementNS(St?l0:u0,i.$tag$),St&&i.$tag$==="foreignObject"&&(St=!1),Tp(null,i,St),c0(ua)&&o["s-si"]!==ua&&o.classList.add(o["s-si"]=ua),i.$children$)for(a=0;a<i.$children$.length;++a)s=lu(e,i,a),s&&o.appendChild(s);i.$tag$==="svg"?St=!1:o.tagName==="foreignObject"&&(St=!0)}return o},Fp=(e,t,r,n,i,a)=>{let o=e,s;for(o.shadowRoot&&o.tagName===Dp&&(o=o.shadowRoot);i<=a;++i)n[i]&&(s=lu(null,r,i),s&&(n[i].$elm$=s,o.insertBefore(s,t)))},_p=(e,t,r,n,i)=>{for(;t<=r;++t)(n=e[t])&&(i=n.$elm$,Pp(n),i.remove())},m0=(e,t,r,n)=>{let i=0,a=0,o=t.length-1,s=t[0],l=t[o],u=n.length-1,d=n[0],f=n[u],g;for(;i<=o&&a<=u;)s==null?s=t[++i]:l==null?l=t[--o]:d==null?d=n[++a]:f==null?f=n[--u]:ea(s,d)?(Mn(s,d),s=t[++i],d=n[++a]):ea(l,f)?(Mn(l,f),l=t[--o],f=n[--u]):ea(s,f)?(Mn(s,f),e.insertBefore(s.$elm$,l.$elm$.nextSibling),s=t[++i],f=n[--u]):ea(l,d)?(Mn(l,d),e.insertBefore(l.$elm$,s.$elm$),l=t[--o],d=n[++a]):(g=lu(t&&t[a],r,a),d=n[++a],g&&s.$elm$.parentNode.insertBefore(g,s.$elm$));i>o?Fp(e,n[u+1]==null?null:n[u+1].$elm$,r,n,a,u):a>u&&_p(t,i,o)},ea=(e,t)=>e.$tag$===t.$tag$,Mn=(e,t)=>{let r=t.$elm$=e.$elm$,n=e.$children$,i=t.$children$,a=t.$tag$,o=t.$text$;o===null?(St=a==="svg"?!0:a==="foreignObject"?!1:St,Tp(e,t,St),n!==null&&i!==null?m0(r,n,t,i):i!==null?(e.$text$!==null&&(r.textContent=""),Fp(r,null,t,i,0,i.length-1)):n!==null&&_p(n,0,n.length-1),St&&a==="svg"&&(St=!1)):e.$text$!==o&&(r.data=o)},Pp=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(Pp)},v0=(e,t)=>{let r=e.$hostElement$,n=e.$vnode$||Oa(null,null),i=f0(t)?t:Y(null,null,t);Dp=r.tagName,i.$tag$=null,i.$flags$|=4,e.$vnode$=i,i.$elm$=n.$elm$=r.shadowRoot||r,ua=r["s-sc"],Mn(n,i)},y0=(e,t,r)=>{let n=Rt.ce(t,r);return e.dispatchEvent(n),n},Mp=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(r=>e.$onRenderResolve$=r))},no=(e,t)=>{if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}return Mp(e,e.$ancestorComponent$),_0(()=>b0(e,t))},b0=(e,t)=>{let r=e.$hostElement$,n=Ar("scheduleUpdate",e.$cmpMeta$.$tagName$),i=r,a;return t&&(a=Up(i,"componentWillLoad")),n(),O0(a,()=>S0(e,i,t))},S0=async(e,t,r)=>{let n=e.$hostElement$,i=Ar("update",e.$cmpMeta$.$tagName$),a=n["s-rc"];r&&s0(e);let o=Ar("render",e.$cmpMeta$.$tagName$);w0(e,t),a&&(a.map(s=>s()),n["s-rc"]=void 0),o(),i();{let s=n["s-p"],l=()=>C0(e);s.length===0?l():(Promise.all(s).then(l),e.$flags$|=4,s.length=0)}},w0=(e,t,r)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,v0(e,t)}catch(n){uu(n,e.$hostElement$)}return null},C0=e=>{let t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,n=Ar("postUpdate",t),i=r,a=e.$ancestorComponent$;e.$flags$&64?n():(e.$flags$|=64,Lp(r),Up(i,"componentDidLoad"),n(),e.$onReadyResolve$(r),a||k0()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&cu(()=>no(e,!1)),e.$flags$&=-517},$0=e=>{{let t=oi(e),r=t.$hostElement$.isConnected;return r&&(t.$flags$&18)===2&&no(t,!1),r}},k0=e=>{Lp(Gn.documentElement),cu(()=>y0(ro,"appload",{detail:{namespace:r0}}))},Up=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(n){uu(n)}},O0=(e,t)=>e&&e.then?e.then(t):t(),Lp=e=>e.classList.add("hydrated"),x0=(e,t)=>e!=null&&!su(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,I0=(e,t)=>oi(e).$instanceValues$.get(t),E0=(e,t,r,n)=>{let i=oi(e),a=i.$instanceValues$.get(t),o=i.$flags$;r=x0(r,n.$members$[t][0]);let s=Number.isNaN(a)&&Number.isNaN(r);r!==a&&!s&&(i.$instanceValues$.set(t,r),(o&18)===2&&no(i,!1))},q0=(e,t,r)=>{if(t.$members$){let n=Object.entries(t.$members$),i=e.prototype;n.map(([a,[o]])=>{(o&31||o&32)&&Object.defineProperty(i,a,{get(){return I0(this,a)},set(s){E0(this,a,s,t)},configurable:!0,enumerable:!0})});{let a=new Map;i.attributeChangedCallback=function(o,s,l){Rt.jmp(()=>{let u=a.get(o);if(this.hasOwnProperty(u))l=this[u],delete this[u];else if(i.hasOwnProperty(u)&&typeof this[u]=="number"&&this[u]==l)return;this[u]=l===null&&typeof this[u]=="boolean"?!1:l})},e.observedAttributes=n.filter(([o,s])=>s[0]&15).map(([o,s])=>{let l=s[1]||o;return a.set(l,o),l})}}return e},R0=async(e,t,r,n,i)=>{if(!(t.$flags$&32)&&(i=e.constructor,t.$flags$|=32,customElements.whenDefined(r.$tagName$).then(()=>t.$flags$|=128),i.style)){let s=i.style,l=jp(r);if(!xa.has(l)){let u=Ar("registerStyles",r.$tagName$);a0(l,s,!!(r.$flags$&1)),u()}}let a=t.$ancestorComponent$,o=()=>no(t,!0);a&&a["s-rc"]?a["s-rc"].push(o):o()},A0=e=>{if(!(Rt.$flags$&1)){let t=oi(e),r=t.$cmpMeta$,n=Ar("connectedCallback",r.$tagName$);if(!(t.$flags$&1)){t.$flags$|=1;{let i=e;for(;i=i.parentNode||i.host;)if(i["s-p"]){Mp(t,t.$ancestorComponent$=i);break}}r.$members$&&Object.entries(r.$members$).map(([i,[a]])=>{if(a&31&&e.hasOwnProperty(i)){let o=e[i];delete e[i],e[i]=o}}),R0(e,t,r)}n()}},D0=e=>{Rt.$flags$&1||oi(e)},cr=(e,t)=>{let r={$flags$:t[0],$tagName$:t[1]};r.$members$=t[2];let n=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){T0(this,r)},connectedCallback(){A0(this),n&&n.call(this)},disconnectedCallback(){D0(this),i&&i.call(this)},__attachShadow(){this.attachShadow({mode:"open"})}}),e.is=r.$tagName$,q0(e,r)},rM=e=>Rt.$resourcesUrl$=e,nM=e=>Object.assign(Rt,e),j0=(e,t)=>t,Vp=new WeakMap,oi=e=>Vp.get(e),T0=(e,t)=>{let r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return r.$onReadyPromise$=new Promise(n=>r.$onReadyResolve$=n),e["s-p"]=[],e["s-rc"]=[],Vp.set(e,r)},kd=(e,t)=>t in e,uu=(e,t)=>(0,console.error)(e,t),xa=new Map,Od=[],zp=[],F0=(e,t)=>r=>{e.push(r),ul||(ul=!0,t&&Rt.$flags$&4?cu(cl):Rt.raf(cl))},xd=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(r){uu(r)}e.length=0},cl=()=>{xd(Od),xd(zp),(ul=Od.length>0)&&Rt.raf(cl)},cu=e=>n0().then(e),_0=F0(zp,!0);function du(){return customElements.whenDefined("atomic-search-interface").then(()=>{let e=new CustomEvent("atomicSearchInterfaceLoaded",{detail:{message:"Atomic search interface is loaded"}});window.dispatchEvent(e)})}var Id="main-c-search",P0=e=>{let t=[{key:"sj_site",order:4,dictionary:{"About St. Jude":1,"About Memphis":2,"Care & Treatment at St. Jude":3,"Global Reach":4,"St. Jude Graduate School":5,"Jobs, Trainings & Opportunities":6,"Patient Education":7,Research:8,"Survivorship Studies":9,"Treatment at St. Jude":99}},{key:"sj_category",order:2,dictionary:{Departments:1,Labs:2,"Clinical Research":3,"Our Progress":4,"Press Releases/Media":5,Videos:6}},{key:"ytparenttitle",order:3,dictionary:{"St. Jude: 5 Things to Know":1,"Learn Biology":2,"St. Jude Talent Talks":3,"St. Jude - A Great Place to Work":4,"St. Jude Research":5}},{key:"sj_survivorscategory",order:1,dictionary:{"Childhood Cancer Survivor Study ( CCSS )":1,"Long-Term Follow-Up Study ( LTFU )":2,"St Jude LIFE Study ( SJLIFE )":3}},{key:"sj_trialstatus",order:5,dictionary:{Recruiting:1,"Open, not recruiting":2,Closed:3,"Published results":4}},{key:"sj_disease_category",order:6,dictionary:{}},{key:"sj_disease",order:7,dictionary:{}},{key:"sj_treatment_type",order:8,dictionary:{}},{key:"sj_age",order:9,dictionary:{"Infant, 0-1 Years":1,"Toddler, 2-4 Years":2,"Child, 5-12 Years":3,"Teen, 13-19 Years":4,"Adult, 20+ Years":5}},{key:"sj_non_therapeutictrials",order:10,dictionary:{}},{key:"sj_treatmentcategory",order:0,dictionary:{"Clinical Trials":1,"Diseases Treated":2,"Clinics and Services":3,"Campus Information":4}},{key:"sj_togethercategory",order:0,dictionary:{Conditions:1,"Treatments, Tests and Procedures":2,"Medical Care":3,"Emotional Support and Daily Life":4,"Teens&20s":5,Videos:6,"Blog Posts":7}}];return stjude.shared.sjSiteFacetName&&t[0].dictionary[stjude.shared.sjSiteFacetName]&&(t[0].dictionary[stjude.shared.sjSiteFacetName]=0),e.body.facets.sort((r,n)=>{var i,a;return(((i=t.find(o=>o.key===r.facetId))===null||i===void 0?void 0:i.order)||0)>(((a=t.find(o=>o.key===n.facetId))===null||a===void 0?void 0:a.order)||0)?1:-1}),e.body.facets.map(r=>{for(let n of t){if(r.facetId===n.key&&r.facetId!=="sj_survivorscategory"&&Object.keys(n.dictionary).length>0)return r.values.sort((i,a)=>n.dictionary[i.value.replace(/;Videos/g,"")]>n.dictionary[a.value.replace(/;Videos/g,"")]?1:-1);if(r.facetId==="sj_survivorscategory"&&n.key==="sj_survivorscategory")return r.values.sort(i=>i.value.indexOf(stjude.shared.coveoSearchHub)==-1?1:-1)}return r}),e};async function M0(){stjude.shared.coveoSearchHub==="Treatment_ClinicalTrials"&&!window.location.hash&&(window.location.hash="#f-sj_trialstatus=Recruiting"),await du();let e=document.querySelectorAll("atomic-search-interface");if(!e)return;let t=document.getElementById(Id);t?(await Ed(t),e.length>1&&e.forEach(async r=>{r.id!=Id&&t.engine&&r.initializeWithSearchEngine(t.engine)}),t.executeFirstSearch()):e.forEach(async r=>{Ed(r),r.dataset.redirect||r.executeFirstSearch()})}async function Ed(e){let t="https://platform.cloud.coveo.com",r=stjude.shared.coveoOrg,n=stjude.shared.coveoApiKey;await e.initialize({accessToken:n,organizationId:r,platformUrl:t,search:{searchHub:stjude.shared.coveoSearchHub||"default",preprocessSearchResponseMiddleware:P0}}),e.i18n.addResourceBundle("en","translation",{sites_facet_label:"Search All St. Jude Content","showing-results-of-with-query_plural":"Showing results {{first}}-{{last}} of {{total}} for {{query}}","showing-results-of-with-query":"Showing result {{first}} of {{total}} for {{query}}","showing-results-of_plural":"Showing result {{first}}-{{last}} of {{total}}","showing-results-of":"Showing result {{first}}-{{last}} of {{total}}",category_facet_label:"Search by Research Category",video_category_facet_label:"Video Category",YouTube:"YouTube",Playlist:"Playlist"})}M0();var U0=`<style>
    /* RG 9/8/23, commit #eee3b56a90b, AEM-2885 - Updated !important values from rem to px so they will remain the same across sites even when we change root rem % */

    .field {
      display: inline-flex;
      align-items: center;
    }

    .field-label {
      font-weight: bold;
      margin-right: 0.25rem;
    }

    atomic-result-link a atomic-result-text {
      color: var(--atomic-link-color);
      font-weight: var(--atomic-font-bold);
    }

    atomic-result-link a atomic-result-text b {
      font-weight: var(--atomic-font-bold);
    }

    atomic-result-section-visual {
      height: auto !important;
    }

    atomic-result-badge::part(result-badge-label){
      color: #d11947;
      font-size: 0.9rem
    }

    atomic-result-badge::part(result-badge-element){
      padding: 0;
      background-color: white;
    }

    atomic-result-section-badges {
      margin-bottom: 0.5rem !important;
    }

    atomic-result-text[field="excerpt"] {
      font-size: var(--atomic-text-xl);
      font-weight: 300;
    }

    /* St. Jude Styles */
    atomic-result-section-excerpt {
      margin-top: 8px !important;
      max-height: 46.4px !important;
    }

    atomic-result-section-bottom-metadata {
      margin-top: .75rem !important;
      max-height: initial !important;
      display: inline;
    }
    .atomic-result-section-bottom-metadata {
      flex-wrap: wrap;
    }
    @media screen and (min-width: 400px) and (max-width: 1024px) {
      .image-large, .image-small {
        grid-template-areas:
          "badges badges . actions"
          "visual title title title"
          "visual title-metadata title-metadata title-metadata"
          "visual emphasized emphasized emphasized"
          "visual excerpt excerpt excerpt"
          "visual bottom-metadata bottom-metadata bottom-metadata"
          "visual children children children" !important;
        grid-template-rows: repeat(6, auto) minmax(0px, 1fr) repeat(3, auto) !important;
      }
      atomic-result-section-visual {
        margin-bottom: 0 !important;
      }
    }
    @media screen and (max-width: 399px) {
      atomic-result-section-visual {
        margin-bottom: .25rem !important;
      }
    }
    atomic-result-image {
      height: initial !important;
    }
    atomic-field-condition:not(:first-child)::before {
      display: inline-block;
      max-height: .8125rem;
      overflow: hidden;
      padding: 0 3px;
    }
    @media screen and (max-width: 599px) {
      atomic-result-text {
        --font-size: var(--atomic-text-lg) !important;
        font-size: var(--atomic-text-lg) !important;
        line-height: 1.4;
      }
    }

    atomic-result-section-visual {
      width: initial !important;
      margin: 0 !important;
    }
    atomic-result-image {
      display: block;
      margin-right: 16px;
    }

    @media screen and (min-width: 1024px) {
      atomic-result-image {
        width: 160px !important;
      }
    }

    @media screen and (max-width: 1023px) {
      atomic-result-image {
        width: 24vw !important;
      }
    }

    atomic-result-image img {
      object-fit: cover !important;
      aspect-ratio: 3/2;
    }

    atomic-result-section-excerpt atomic-result-text b {
      font-weight: 700;
    }
</style>
<atomic-result-section-badges>
    <atomic-field-condition must-match-is-top-result="true">
        <atomic-result-badge label="Featured"></atomic-result-badge>
    </atomic-field-condition>
</atomic-result-section-badges>
<atomic-result-section-visual image-size="small">
    <atomic-field-condition if-defined="sj_pagethumbnail">
        <sj-result-link image-url="sj_pagethumbnail"></sj-result-link>
    </atomic-field-condition>
</atomic-result-section-visual>

<atomic-result-section-title>
    <sj-result-link></sj-result-link>
</atomic-result-section-title>

<atomic-result-section-excerpt>
    <atomic-result-text field="excerpt"></atomic-result-text>
</atomic-result-section-excerpt>`,L0=`<style>
	/* RG 9/8/23, commit #eee3b56a90b, AEM-2885 - Updated !important values from rem to px so they will remain the same across sites even when we change root rem % */

	/* images */

	atomic-result-section-visual {
		height: auto !important;
	}

	@media screen and (min-width: 400px) and (max-width: 1024px) {
		.image-large, .image-small {
			grid-template-areas:
				"badges badges . actions"
				"visual title title title"
				"visual title-metadata title-metadata title-metadata"
				"visual emphasized emphasized emphasized"
				"visual excerpt excerpt excerpt"
				"visual bottom-metadata bottom-metadata bottom-metadata"
				"visual children children children" !important;
			grid-template-rows: repeat(6, auto) minmax(0px, 1fr) repeat(3, auto) !important;
		}

		atomic-result-section-visual {
			margin-bottom: 0 !important;
		}
	}

	@media screen and (max-width: 399px) {
		atomic-result-section-visual {
			margin-bottom: .25rem !important;
		}
	}

	atomic-result-image {
		height: initial !important;
	}

	atomic-result-section-visual {
		width: initial !important;
		margin: 0 !important;
	}

	atomic-result-image {
		display: block;
		margin-right: 3rem;
	}

	@media screen and (min-width: 1024px) {
		atomic-result-image {
			width: 160px !important;
		}
	}

    @media print {
      atomic-result-section-visual {
        display: none;
      }
    }

	@media screen and (max-width: 1023px) {
		atomic-result-image {
			width: 24vw !important;
			margin-right: 2rem;
		}
	}

	atomic-result-image img {
		object-fit: cover !important;
		aspect-ratio: 3/2;
	}

	/* text */

	atomic-result-text,
	atomic-result-section-excerpt,
	atomic-result-badge::part(result-badge-element) {
		font-family: "SJ Sans", "Open Sans", "Helvetica Neue", "Helvetica", "Arial", "sans-serif";
		line-height: 2.4rem;

		@media screen and (min-width: 1024px) {
			line-height: 2.6rem;
		}
	}

	atomic-result-section-badges { /* featured badge */
		margin-bottom: 1.5rem !important;
		max-height: none !important;
	}

	atomic-result-badge::part(result-badge-element) { /* featured badge */
		padding: .3rem .8rem;
		font-size: 1.4rem;
		font-weight: 600;
		color: #121212;
		background: #d5d4d4;
		border-radius: 0;
		border-top-right-radius: 10px;
		border-bottom-left-radius: 10px;
	}

	atomic-result-link a { /* title */
		font-size: 1.8rem;
		color: #121212 !important;
		font-weight: 600;
		text-decoration: underline;
		text-underline-offset: 2px;

		@media screen and (min-width: 1024px) {
			font-size: 2rem;
		}
	}

	atomic-result-link a b { /* title bold */
		font-weight: 600;
	}

	atomic-result-link a atomic-result-text:after { /* title arrow */
		background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='750' height='750'%3E%3Cpath fill='%23d11947' d='M475.5,568.6c-6.4-5.1-8.9-12.7-8.9-21.6c0-7.6,2.5-15.2,8.9-20.3l120.7-121.9H80.5c-17.8,0-30.5-12.7-30.5-30.5c0-16.5,12.7-30.5,30.5-30.5h515.7L475.5,223.3c-12.7-11.4-12.7-30.5,0-41.9c11.4-12.7,30.5-12.7,43.2,0l172.7,172.7c11.4,11.4,11.4,30.5,0,41.9L518.7,568.6C506,581.3,486.9,581.3,475.5,568.6z'/%3E%3C/svg%3E");
		background-position: center;
		background-size: 1.8rem;
		background-repeat: no-repeat;
		margin-left: -3px;
		padding-right: 4rem;
		vertical-align: middle;
		content: '\\00a0';
	}

	atomic-result-link a:hover,
	atomic-result-link a:focus { /* title */
		color: #d11947 !important;
	}

	atomic-result-section-excerpt { /* description */
		display: block !important;
		margin: 1.5rem 0 0 !important;
		max-height: none !important;
	}

	atomic-result-section-excerpt atomic-result-text { /* description */
		color: #252525;
		font-size: 1.5rem;
		font-weight: 400;

		@media screen and (min-width: 1024px) {
			font-size: 1.6rem;
		}
	}
</style>

<atomic-result-section-badges>
  <atomic-field-condition must-match-is-top-result="true">
    <atomic-result-badge label="Featured"></atomic-result-badge>
  </atomic-field-condition>
</atomic-result-section-badges>
<atomic-result-section-visual image-size="small">
  <atomic-field-condition if-defined="sj_pagethumbnail">
    <sj-result-link image-url="sj_pagethumbnail"></sj-result-link>
  </atomic-field-condition>
</atomic-result-section-visual>

<atomic-result-section-title>
  <sj-result-link></sj-result-link>
</atomic-result-section-title>

<atomic-result-section-excerpt>
  <atomic-result-text field="excerpt"></atomic-result-text>
</atomic-result-section-excerpt>
`,V0=`<style>
    .field {
      display: inline-flex;
      align-items: center;
    }

    .field-label {
      font-weight: bold;
      margin-right: 0.25rem;
    }
    atomic-result-section-bottom-metadata {
      display: flex;
    }
    atomic-result-section-bottom-metadata atomic-field-condition:not(:first-child)::before {
        content: "\\00B7";
        font-size: 30px;
        padding: 0 5px;
        transform: translateY(5px);
        display: inline-block;
    }

    atomic-result-section-title-metadata span {
      font-weight: bold;
    }

    atomic-result-link a atomic-result-text {
      color: var(--atomic-link-color);
      font-weight: bold;
    }

    /* St. Jude Styles */
    atomic-result-section-excerpt {
      margin: var(--atomic-result-section-excerpt-margin, 15px 0 .5rem 0) !important;
      max-height: var(--atomic-result-section-excerpt-max-height, 5rem) !important;
    }

    atomic-result-text[field="excerpt"] {
        font-family: var(--atomic-font-family, 'SJ Sans','Open Sans', sans-serif);
        font-size: var(--atomic-result-text-font-size-mobile, 14px);
        font-weight: var(--atomic-result-text-font-weight, 400);
        line-height: var(--atomic-result-text-line-height, 140%);
        color: var(--atomic-result-text-color, #252525);
    }

    atomic-result-text[field="excerpt"] b {
        font-weight: var(--atomic-result-text-font-weight-bold, bolder);
    }

    atomic-result-section-visual {
      height: initial !important;
    }

    atomic-result-section-bottom-metadata {
        display: inline;
        margin-top: 0 !important;
        max-height: initial !important;
    }

    atomic-result-section-title-metadata, atomic-result-section-bottom-metadata .field {
      font-size: var(--atomic-video-metadata-font-size-mobile, 12px);
      font-weight: var(--atomic-video-metadata-font-weight, 400);
      color: var(--atomic-result-text-color, #252525) !important;
      line-height: 100%;
      display: inline-block;
    }

    atomic-result-section-title-metadata {
        display: inline-flex;
        margin-top: 0 !important;
        line-height: 100% !important;
        font-size: 12px !important;
    }

    atomic-result-section-visual {
      width: initial !important;
      margin: 0 !important;
    }


    @media screen and (min-width: 450px) and (max-width: 1024px) {
      .result-root.with-sections.display-list.image-large, .result-root.with-sections.display-list.image-small {
        grid-template-areas:
          "badges badges . actions"
          "visual title title title"
          "visual title-metadata title-metadata title-metadata"
          "visual emphasized emphasized emphasized"
          "visual excerpt excerpt excerpt"
          "visual bottom-metadata bottom-metadata bottom-metadata"
          "visual children children children" !important;
          grid-template-rows: repeat(6, auto) minmax(0px, 1fr) repeat(3, auto) !important;
      }
      atomic-result-section-visual {
        margin-bottom: 0 !important;
      }
    }
    @media screen and (max-width: 449px) {
      atomic-result-section-visual {
        margin-bottom: .25rem !important;
      }
    }
    @media screen and (min-width: 1024px) {
        atomic-result-text[field="excerpt"] {
            font-size: var(--atomic-result-text-font-size, 16px);
        }

        atomic-result-section-title-metadata, atomic-result-section-bottom-metadata .field {
          font-size: var(--atomic-video-metadata-font-size, 14px);
        }

        atomic-result-section-title-metadata {
            font-size: 14px !important;
        }
    }


</style>

<atomic-result-section-visual image-size="small">
    <video-quick-view image-url="image_url"></video-quick-view>
</atomic-result-section-visual>

<atomic-result-section-title>
    <video-quick-view></video-quick-view>
</atomic-result-section-title>

<atomic-result-section-excerpt>
    <atomic-result-text field="excerpt"></atomic-result-text>
</atomic-result-section-excerpt>
<atomic-result-section-bottom-metadata>
    <atomic-result-section-title-metadata>
        <span>YouTube</span>
    </atomic-result-section-title-metadata>
    <atomic-field-condition class="field" if-defined="ytparenttitle">
    <span class="field-label"><atomic-text value="Playlist"></atomic-text>:</span>
        <atomic-result-text field="ytparenttitle"></atomic-result-text>
    </atomic-field-condition>
    <atomic-field-condition class="field" if-defined="ytvideoduration">
    <span class="field-label"><atomic-text value="Duration"></atomic-text>:</span>
        <atomic-result-timespan field="ytvideoduration" format="HH:mm" unit="m"></atomic-result-timespan>
    </atomic-field-condition>
</atomic-result-section-bottom-metadata>
`,z0=`<style>
	/* RG 9/8/23, commit #eee3b56a90b, AEM-2885 - Updated !important values from rem to px so they will remain the same across sites even when we change root rem % */

	atomic-result-link a atomic-result-text,
	atomic-result-multi-value-text::part(result-multi-value-text-value),
	.field-label,
	atomic-result-section-excerpt,
	atomic-html,
	sj-clinical-trial-tags {
		font-family: "SJ Sans", "Open Sans", "Helvetica Neue", "Helvetica", "Arial", "sans-serif";
		line-height: normal;
	}

	.result-root { /* each result */
		display: block !important;
	}

	atomic-result-section-title { /* title */
		display: block;
		margin-bottom: 1.5rem;
	}

	atomic-result-link a { /* title */
		font-size: 1.8rem;
		color: #121212 !important;
		font-weight: 600;
		text-decoration: underline;
		text-underline-offset: 2px;

		@media screen and (min-width: 1024px) {
			font-size: 2rem;
		}
	}

	atomic-result-link a:hover,
	atomic-result-link a:focus { /* title */
		color: #d11947 !important;
	}

	atomic-result-link a atomic-result-text:after { /* title arrow */
		background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='750' height='750'%3E%3Cpath fill='%23d11947' d='M475.5,568.6c-6.4-5.1-8.9-12.7-8.9-21.6c0-7.6,2.5-15.2,8.9-20.3l120.7-121.9H80.5c-17.8,0-30.5-12.7-30.5-30.5c0-16.5,12.7-30.5,30.5-30.5h515.7L475.5,223.3c-12.7-11.4-12.7-30.5,0-41.9c11.4-12.7,30.5-12.7,43.2,0l172.7,172.7c11.4,11.4,11.4,30.5,0,41.9L518.7,568.6C506,581.3,486.9,581.3,475.5,568.6z'/%3E%3C/svg%3E");
		background-position: center;
		background-size: 1.8rem;
		background-repeat: no-repeat;
		margin-left: -3px;
		padding-right: 4rem;
		vertical-align: middle;
		content: '\\00a0';
	}

	atomic-result-multi-value-text::part(result-multi-value-text-value-more),
	atomic-result-multi-value-text::part(result-multi-value-text-separator) {
		display: none;
	}

	atomic-result-section-badges { /* trial status */
		margin-bottom: 0 !important;
	}

	span[slot=result-multi-value-text-value-recruiting],
	span[slot=result-multi-value-text-value-open\\,-not-recruiting],
	span[slot=result-multi-value-text-value-closed],
	span[slot=result-multi-value-text-value-published-results] { /* trial status */
		display: inline-block;
		margin-right: .5rem;
		padding: .3rem .8rem;
		font-size: 1.4rem;
		font-weight: 600;
		color: #121212;
		background: #d5d4d4;
		border-top-right-radius: 10px;
		border-bottom-left-radius: 10px;
	}

	span[slot=result-multi-value-text-value-recruiting] {
		background: #00437b;
		color: #fff;
	}

	atomic-result-section-excerpt, /* study goal */
	atomic-result-section-bottom-metadata { /* diagnosis, age, categories */
		display: block !important;
		margin: 0 !important;
		max-height: none !important;
	}

	atomic-result-html,
	atomic-html,
	atomic-html::part(text-link) {
		color: #252525;
	}

	atomic-html::part(text-link) { /* diagnosis links */
		font-weight: 600;
		text-underline-offset: 2px;
	}

	atomic-html::part(text-link):hover,
	atomic-html::part(text-link):focus {
		color: #d11947;
	}

	atomic-field-condition {
		display: block;
		margin-bottom: 1.5rem;
	}

	.field-label {
		padding-right: 5px;
		font-size: 1.5rem;
		font-weight: 600;
		color: #252525;

		@media screen and (min-width: 1024px) {
			font-size: 1.6rem;
		}
	}

	atomic-html,
	sj-clinical-trial-tags {
		font-size: 1.5rem;
		font-weight: 400;

		@media screen and (min-width: 1024px) {
			font-size: 1.6rem;
		}
	}

	sj-clinical-trial-tags {
		display: inline;
	}

	sj-clinical-trial-tags::part(clinical-trial-tags-link),
	sj-clinical-trial-tags::part(clinical-trial-tags-nolink) {
		display: inline-block;
		border: 1px solid #252525;
		border-radius: 100px;
		background: #fff;
		margin: 0 .8rem .5rem 0;
		padding: .1rem 1rem;
		text-decoration: none;
		color: #252525;
		font-size: 1.3rem;
		font-weight: 600;
		transition: background .3s;
	}

	sj-clinical-trial-tags::part(clinical-trial-tags-link):hover,
	sj-clinical-trial-tags::part(clinical-trial-tags-link):focus {
		background: #f4f4f4;
	}
</style>

<atomic-result-section-badges>
  <atomic-field-condition class="field" if-defined="sj_trialstatus">
    <atomic-result-multi-value-text label="sj_trialstatus" field="sj_trialstatus" class="sj_trialstatus">
		<span slot="result-multi-value-text-value-recruiting">Recruiting</span>
		<span slot="result-multi-value-text-value-open,-not-recruiting">Open, not recruiting</span>
		<span slot="result-multi-value-text-value-closed">Closed</span>
		<span slot="result-multi-value-text-value-published-results">Published results</span>
	</atomic-result-multi-value-text>
  </atomic-field-condition>
</atomic-result-section-badges>

<atomic-result-section-title>
  <sj-result-link ct-link="true"></sj-result-link>
</atomic-result-section-title>

<atomic-result-section-excerpt>
  <atomic-field-condition class="field" if-defined="sj_study_goal">
    <span class="field-label"><atomic-text value="Study goal:"></atomic-text></span>
    <atomic-result-html field="sj_study_goal" sanitize="false"></atomic-result-html>
  </atomic-field-condition>
</atomic-result-section-excerpt>

<atomic-result-section-bottom-metadata>
  <atomic-field-condition class="field" if-defined="sj_diagnosis">
    <span class="field-label"><atomic-text value="Diagnosis:"></atomic-text></span>
    <atomic-result-html field="sj_diagnosis" sanitize="false"></atomic-result-html>
  </atomic-field-condition>

  <atomic-field-condition class="field" if-defined="sj_display_age">
    <span class="field-label"><atomic-text value="Age:"></atomic-text></span>
    <atomic-result-html field="sj_display_age" sanitize="false"></atomic-result-html>
  </atomic-field-condition>

  <atomic-field-condition class="field" if-defined="sj_clinical_trial_categories">
    <span class="field-label"><atomic-text value="Clinical trial categories:"></atomic-text></span>
    <sj-clinical-trial-tags></sj-clinical-trial-tags>
  </atomic-field-condition>
</atomic-result-section-bottom-metadata>`,N0=`<style>
	atomic-result-section-title { /* title */
		display: block;
		margin-bottom: 15px;
	}

	atomic-result-link a { /* title */
		font-size: 18px;
		color: #17818f !important;
		font-weight: 600;

		@media screen and (min-width: 1024px) {
			font-size: 20px;
		}
	}

	atomic-result-link a:hover,
	atomic-result-link a:focus {
		color: #d11947 !important;
		text-decoration: none !important;
	}

	atomic-result-section-badges {
		display: none !important;
	}

	atomic-result-section-excerpt {
		margin-top: 0 !important;
	}

	atomic-result-text[field="excerpt"] {
		font-size: 14px;
		font-weight: 400;

		@media screen and (min-width: 1024px) {
			font-size: 16px;
		}
    }

	atomic-result-text b {
		font-weight: 600;
    }

	atomic-result-html,
	atomic-html,
	atomic-html::part(text-link) {
		color: #252525;
	}

	/* images */
	atomic-result-section-visual {
		width: initial !important;
		height: auto !important;
		margin: 0 !important;
    }

	@media screen and (max-width: 399px) {
		atomic-result-section-visual {
			margin-bottom: .25rem !important;
		}
	}

	@media screen and (min-width: 400px) and (max-width: 1024px) {
		atomic-result-section-visual {
			margin-bottom: 0 !important;
		}
	}

	atomic-field-condition {
		margin-bottom: 15px;
	}

	atomic-result-image {
		display: block;
		height: initial !important;
		margin-right: 16px;
	}

	@media screen and (min-width: 1024px) {
		atomic-result-image {
			width: 160px !important;
		}
	}

	@media screen and (max-width: 1023px) {
		atomic-result-image {
			width: 24vw !important;
		}
	}

	atomic-result-image img {
		object-fit: cover !important;
		aspect-ratio: 3/2;
	}

	@media screen and (min-width: 400px) and (max-width: 1024px) {
		.image-large, .image-small {
			grid-template-areas:
			"badges badges . actions"
			"visual title title title"
			"visual title-metadata title-metadata title-metadata"
			"visual emphasized emphasized emphasized"
			"visual excerpt excerpt excerpt"
			"visual bottom-metadata bottom-metadata bottom-metadata"
			"visual children children children" !important;
			grid-template-rows: repeat(6, auto) minmax(0px, 1fr) repeat(3, auto) !important;
		}
	}
</style>
<atomic-result-section-badges>
    <atomic-field-condition must-match-is-top-result="true">
        <atomic-result-badge label="Featured"></atomic-result-badge>
    </atomic-field-condition>
</atomic-result-section-badges>
<atomic-result-section-visual image-size="small">
    <atomic-field-condition if-defined="sj_pagethumbnail">
        <sj-result-link part="sj-result-link" image-url="sj_pagethumbnail"></sj-result-link>
    </atomic-field-condition>
</atomic-result-section-visual>

<atomic-result-section-title part="result-section-title">
    <sj-result-link part="sj-result-link"></sj-result-link>
</atomic-result-section-title>

<atomic-result-section-excerpt part="result-section-excerpt">
    <atomic-result-text part="result-text" field="excerpt"></atomic-result-text>
</atomic-result-section-excerpt>
`,Q0=class extends ur{constructor(){super(),this.__registerHost()}async componentWillLoad(){return du()}render(){return Y("atomic-result-list",null,Y("atomic-result-template",{"must-match-filetype":"YouTubeVideo"},Y("template",{innerHTML:V0})),stjude.shared.coveoSearchHub==="Treatment_ClinicalTrials"?Y("atomic-result-template",{"must-not-match-sj_trialstatus":"null"},Y("template",{innerHTML:z0})):"",stjude.shared.coveoSearchHub==="SJ-Together"?Y("atomic-result-template",null,Y("template",{innerHTML:N0})):"",stjude.shared.coveoSearchHub==="Treatment"?Y("atomic-result-template",null,Y("template",{innerHTML:L0})):Y("atomic-result-template",null,Y("template",{innerHTML:U0})))}};function Np(e,t){return new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0,composed:!0})}var H0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function B0(e,t,r){return r={path:t,exports:{},require:function(n,i){return W0()}},e(r,r.exports),r.exports}function W0(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}B0(function(e,t){(function(r,n){e.exports=n()})(H0,function(){function r(J){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},r(J)}function n(J,K){return n=Object.setPrototypeOf||function(de,Le){return de.__proto__=Le,de},n(J,K)}function i(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(J){return!1}}function a(J,K,ae){return i()?a=Reflect.construct:a=function(Le,jt,Qt){var Tt=[null];Tt.push.apply(Tt,jt);var qn=Function.bind.apply(Le,Tt),Rn=new qn;return Qt&&n(Rn,Qt.prototype),Rn},a.apply(null,arguments)}function o(J){return s(J)||l(J)||u(J)||f()}function s(J){if(Array.isArray(J))return d(J)}function l(J){if(typeof Symbol!="undefined"&&J[Symbol.iterator]!=null||J["@@iterator"]!=null)return Array.from(J)}function u(J,K){if(J){if(typeof J=="string")return d(J,K);var ae=Object.prototype.toString.call(J).slice(8,-1);if(ae==="Object"&&J.constructor&&(ae=J.constructor.name),ae==="Map"||ae==="Set")return Array.from(J);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return d(J,K)}}function d(J,K){(K==null||K>J.length)&&(K=J.length);for(var ae=0,de=new Array(K);ae<K;ae++)de[ae]=J[ae];return de}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g=Object.hasOwnProperty,y=Object.setPrototypeOf,m=Object.isFrozen,c=Object.getPrototypeOf,h=Object.getOwnPropertyDescriptor,p=Object.freeze,v=Object.seal,S=Object.create,E=typeof Reflect!="undefined"&&Reflect,D=E.apply,U=E.construct;D||(D=function(K,ae,de){return K.apply(ae,de)}),p||(p=function(K){return K}),v||(v=function(K){return K}),U||(U=function(K,ae){return a(K,o(ae))});var L=O(Array.prototype.forEach),w=O(Array.prototype.pop),I=O(Array.prototype.push),b=O(String.prototype.toLowerCase),q=O(String.prototype.match),T=O(String.prototype.replace),x=O(String.prototype.indexOf),$=O(String.prototype.trim),k=O(RegExp.prototype.test),C=j(TypeError);function O(J){return function(K){for(var ae=arguments.length,de=new Array(ae>1?ae-1:0),Le=1;Le<ae;Le++)de[Le-1]=arguments[Le];return D(J,K,de)}}function j(J){return function(){for(var K=arguments.length,ae=new Array(K),de=0;de<K;de++)ae[de]=arguments[de];return U(J,ae)}}function R(J,K,ae){ae=ae||b,y&&y(J,null);for(var de=K.length;de--;){var Le=K[de];if(typeof Le=="string"){var jt=ae(Le);jt!==Le&&(m(K)||(K[de]=jt),Le=jt)}J[Le]=!0}return J}function H(J){var K=S(null),ae;for(ae in J)D(g,J,[ae])&&(K[ae]=J[ae]);return K}function Z(J,K){for(;J!==null;){var ae=h(J,K);if(ae){if(ae.get)return O(ae.get);if(typeof ae.value=="function")return O(ae.value)}J=c(J)}function de(Le){return console.warn("fallback value for",Le),null}return de}var W=p(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),re=p(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),me=p(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ce=p(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qe=p(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Re=p(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oe=p(["#text"]),se=p(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ye=p(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Be=p(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ue=p(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Vt=v(/\{\{[\w\W]*|[\w\W]*\}\}/gm),zt=v(/<%[\w\W]*|[\w\W]*%>/gm),Nt=v(/^data-[\-\w.\u00B7-\uFFFF]/),zo=v(/^aria-[\-\w]+$/),qb=v(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Rb=v(/^(?:\w+script|data):/i),Ab=v(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Db=v(/^html$/i),jb=function(){return typeof window=="undefined"?null:window},Tb=function(K,ae){if(r(K)!=="object"||typeof K.createPolicy!="function")return null;var de=null,Le="data-tt-policy-suffix";ae.currentScript&&ae.currentScript.hasAttribute(Le)&&(de=ae.currentScript.getAttribute(Le));var jt="dompurify"+(de?"#"+de:"");try{return K.createPolicy(jt,{createHTML:function(Tt){return Tt},createScriptURL:function(Tt){return Tt}})}catch(Qt){return console.warn("TrustedTypes policy "+jt+" could not be created."),null}};function Yc(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jb(),K=function(A){return Yc(A)};if(K.version="2.3.10",K.removed=[],!J||!J.document||J.document.nodeType!==9)return K.isSupported=!1,K;var ae=J.document,de=J.document,Le=J.DocumentFragment,jt=J.HTMLTemplateElement,Qt=J.Node,Tt=J.Element,qn=J.NodeFilter,Rn=J.NamedNodeMap,_b=Rn===void 0?J.NamedNodeMap||J.MozNamedAttrMap:Rn,Pb=J.HTMLFormElement,Mb=J.DOMParser,Bi=J.trustedTypes,Wi=Tt.prototype,Ub=Z(Wi,"cloneNode"),Lb=Z(Wi,"nextSibling"),Vb=Z(Wi,"childNodes"),No=Z(Wi,"parentNode");if(typeof jt=="function"){var Qo=de.createElement("template");Qo.content&&Qo.content.ownerDocument&&(de=Qo.content.ownerDocument)}var It=Tb(Bi,ae),Jc=It?It.createHTML(""):"",Yi=de,Ho=Yi.implementation,zb=Yi.createNodeIterator,Nb=Yi.createDocumentFragment,Qb=Yi.getElementsByTagName,Hb=ae.importNode,Kc={};try{Kc=H(de).documentMode?de.documentMode:{}}catch(X){}var Ft={};K.isSupported=typeof No=="function"&&Ho&&typeof Ho.createHTMLDocument!="undefined"&&Kc!==9;var Bo=Vt,Wo=zt,Bb=Nt,Wb=zo,Yb=Rb,Gc=Ab,Yo=qb,Ge=null,Zc=R({},[].concat(o(W),o(re),o(me),o(qe),o(oe))),rt=null,Xc=R({},[].concat(o(se),o(ye),o(Be),o(Ue))),We=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),An=null,Jo=null,ed=!0,Ko=!0,td=!1,Qr=!1,dr=!1,Go=!1,Zo=!1,Hr=!1,Ji=!1,Ki=!1,rd=!0,Xo=!0,Dn=!1,Br={},Wr=null,nd=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),id=null,ad=R({},["audio","video","img","source","image","track"]),es=null,od=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ts="http://www.w3.org/1998/Math/MathML",rs="http://www.w3.org/2000/svg",Zt="http://www.w3.org/1999/xhtml",Gi=Zt,ns=!1,Yr,Jb=["application/xhtml+xml","text/html"],Kb="text/html",Ze,Jr=null,Gb=de.createElement("form"),sd=function(A){return A instanceof RegExp||A instanceof Function},is=function(A){Jr&&Jr===A||((!A||r(A)!=="object")&&(A={}),A=H(A),Yr=Jb.indexOf(A.PARSER_MEDIA_TYPE)===-1?Yr=Kb:Yr=A.PARSER_MEDIA_TYPE,Ze=Yr==="application/xhtml+xml"?function(B){return B}:b,Ge="ALLOWED_TAGS"in A?R({},A.ALLOWED_TAGS,Ze):Zc,rt="ALLOWED_ATTR"in A?R({},A.ALLOWED_ATTR,Ze):Xc,es="ADD_URI_SAFE_ATTR"in A?R(H(od),A.ADD_URI_SAFE_ATTR,Ze):od,id="ADD_DATA_URI_TAGS"in A?R(H(ad),A.ADD_DATA_URI_TAGS,Ze):ad,Wr="FORBID_CONTENTS"in A?R({},A.FORBID_CONTENTS,Ze):nd,An="FORBID_TAGS"in A?R({},A.FORBID_TAGS,Ze):{},Jo="FORBID_ATTR"in A?R({},A.FORBID_ATTR,Ze):{},Br="USE_PROFILES"in A?A.USE_PROFILES:!1,ed=A.ALLOW_ARIA_ATTR!==!1,Ko=A.ALLOW_DATA_ATTR!==!1,td=A.ALLOW_UNKNOWN_PROTOCOLS||!1,Qr=A.SAFE_FOR_TEMPLATES||!1,dr=A.WHOLE_DOCUMENT||!1,Hr=A.RETURN_DOM||!1,Ji=A.RETURN_DOM_FRAGMENT||!1,Ki=A.RETURN_TRUSTED_TYPE||!1,Zo=A.FORCE_BODY||!1,rd=A.SANITIZE_DOM!==!1,Xo=A.KEEP_CONTENT!==!1,Dn=A.IN_PLACE||!1,Yo=A.ALLOWED_URI_REGEXP||Yo,Gi=A.NAMESPACE||Zt,A.CUSTOM_ELEMENT_HANDLING&&sd(A.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(We.tagNameCheck=A.CUSTOM_ELEMENT_HANDLING.tagNameCheck),A.CUSTOM_ELEMENT_HANDLING&&sd(A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(We.attributeNameCheck=A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),A.CUSTOM_ELEMENT_HANDLING&&typeof A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(We.allowCustomizedBuiltInElements=A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Qr&&(Ko=!1),Ji&&(Hr=!0),Br&&(Ge=R({},o(oe)),rt=[],Br.html===!0&&(R(Ge,W),R(rt,se)),Br.svg===!0&&(R(Ge,re),R(rt,ye),R(rt,Ue)),Br.svgFilters===!0&&(R(Ge,me),R(rt,ye),R(rt,Ue)),Br.mathMl===!0&&(R(Ge,qe),R(rt,Be),R(rt,Ue))),A.ADD_TAGS&&(Ge===Zc&&(Ge=H(Ge)),R(Ge,A.ADD_TAGS,Ze)),A.ADD_ATTR&&(rt===Xc&&(rt=H(rt)),R(rt,A.ADD_ATTR,Ze)),A.ADD_URI_SAFE_ATTR&&R(es,A.ADD_URI_SAFE_ATTR,Ze),A.FORBID_CONTENTS&&(Wr===nd&&(Wr=H(Wr)),R(Wr,A.FORBID_CONTENTS,Ze)),Xo&&(Ge["#text"]=!0),dr&&R(Ge,["html","head","body"]),Ge.table&&(R(Ge,["tbody"]),delete An.tbody),p&&p(A),Jr=A)},ld=R({},["mi","mo","mn","ms","mtext"]),ud=R({},["foreignobject","desc","title","annotation-xml"]),Zb=R({},["title","style","font","a","script"]),Zi=R({},re);R(Zi,me),R(Zi,ce);var as=R({},qe);R(as,Re);var Xb=function(A){var B=No(A);(!B||!B.tagName)&&(B={namespaceURI:Zt,tagName:"template"});var G=b(A.tagName),be=b(B.tagName);return A.namespaceURI===rs?B.namespaceURI===Zt?G==="svg":B.namespaceURI===ts?G==="svg"&&(be==="annotation-xml"||ld[be]):!!Zi[G]:A.namespaceURI===ts?B.namespaceURI===Zt?G==="math":B.namespaceURI===rs?G==="math"&&ud[be]:!!as[G]:A.namespaceURI===Zt?B.namespaceURI===rs&&!ud[be]||B.namespaceURI===ts&&!ld[be]?!1:!as[G]&&(Zb[G]||!Zi[G]):!1},Ht=function(A){I(K.removed,{element:A});try{A.parentNode.removeChild(A)}catch(B){try{A.outerHTML=Jc}catch(G){A.remove()}}},cd=function(A,B){try{I(K.removed,{attribute:B.getAttributeNode(A),from:B})}catch(G){I(K.removed,{attribute:null,from:B})}if(B.removeAttribute(A),A==="is"&&!rt[A])if(Hr||Ji)try{Ht(B)}catch(G){}else try{B.setAttribute(A,"")}catch(G){}},dd=function(A){var B,G;if(Zo)A="<remove></remove>"+A;else{var be=q(A,/^[\r\n\t ]+/);G=be&&be[0]}Yr==="application/xhtml+xml"&&(A='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+A+"</body></html>");var pt=It?It.createHTML(A):A;if(Gi===Zt)try{B=new Mb().parseFromString(pt,Yr)}catch(nt){}if(!B||!B.documentElement){B=Ho.createDocument(Gi,"template",null);try{B.documentElement.innerHTML=ns?"":pt}catch(nt){}}var at=B.body||B.documentElement;return A&&G&&at.insertBefore(de.createTextNode(G),at.childNodes[0]||null),Gi===Zt?Qb.call(B,dr?"html":"body")[0]:dr?B.documentElement:at},fd=function(A){return zb.call(A.ownerDocument||A,A,qn.SHOW_ELEMENT|qn.SHOW_COMMENT|qn.SHOW_TEXT,null,!1)},e0=function(A){return A instanceof Pb&&(typeof A.nodeName!="string"||typeof A.textContent!="string"||typeof A.removeChild!="function"||!(A.attributes instanceof _b)||typeof A.removeAttribute!="function"||typeof A.setAttribute!="function"||typeof A.namespaceURI!="string"||typeof A.insertBefore!="function")},jn=function(A){return r(Qt)==="object"?A instanceof Qt:A&&r(A)==="object"&&typeof A.nodeType=="number"&&typeof A.nodeName=="string"},Bt=function(A,B,G){Ft[A]&&L(Ft[A],function(be){be.call(K,B,G,Jr)})},pd=function(A){var B;if(Bt("beforeSanitizeElements",A,null),e0(A)||k(/[\u0080-\uFFFF]/,A.nodeName))return Ht(A),!0;var G=Ze(A.nodeName);if(Bt("uponSanitizeElement",A,{tagName:G,allowedTags:Ge}),A.hasChildNodes()&&!jn(A.firstElementChild)&&(!jn(A.content)||!jn(A.content.firstElementChild))&&k(/<[/\w]/g,A.innerHTML)&&k(/<[/\w]/g,A.textContent)||G==="select"&&k(/<template/i,A.innerHTML))return Ht(A),!0;if(!Ge[G]||An[G]){if(!An[G]&&gd(G)&&(We.tagNameCheck instanceof RegExp&&k(We.tagNameCheck,G)||We.tagNameCheck instanceof Function&&We.tagNameCheck(G)))return!1;if(Xo&&!Wr[G]){var be=No(A)||A.parentNode,pt=Vb(A)||A.childNodes;if(pt&&be)for(var at=pt.length,nt=at-1;nt>=0;--nt)be.insertBefore(Ub(pt[nt],!0),Lb(A))}return Ht(A),!0}return A instanceof Tt&&!Xb(A)||(G==="noscript"||G==="noembed")&&k(/<\/no(script|embed)/i,A.innerHTML)?(Ht(A),!0):(Qr&&A.nodeType===3&&(B=A.textContent,B=T(B,Bo," "),B=T(B,Wo," "),A.textContent!==B&&(I(K.removed,{element:A.cloneNode()}),A.textContent=B)),Bt("afterSanitizeElements",A,null),!1)},hd=function(A,B,G){if(rd&&(B==="id"||B==="name")&&(G in de||G in Gb))return!1;if(!(Ko&&!Jo[B]&&k(Bb,B))){if(!(ed&&k(Wb,B))){if(!rt[B]||Jo[B]){if(!(gd(A)&&(We.tagNameCheck instanceof RegExp&&k(We.tagNameCheck,A)||We.tagNameCheck instanceof Function&&We.tagNameCheck(A))&&(We.attributeNameCheck instanceof RegExp&&k(We.attributeNameCheck,B)||We.attributeNameCheck instanceof Function&&We.attributeNameCheck(B))||B==="is"&&We.allowCustomizedBuiltInElements&&(We.tagNameCheck instanceof RegExp&&k(We.tagNameCheck,G)||We.tagNameCheck instanceof Function&&We.tagNameCheck(G))))return!1}else if(!es[B]){if(!k(Yo,T(G,Gc,""))){if(!((B==="src"||B==="xlink:href"||B==="href")&&A!=="script"&&x(G,"data:")===0&&id[A])){if(!(td&&!k(Yb,T(G,Gc,"")))){if(G)return!1}}}}}}return!0},gd=function(A){return A.indexOf("-")>0},md=function(A){var B,G,be,pt;Bt("beforeSanitizeAttributes",A,null);var at=A.attributes;if(at){var nt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rt};for(pt=at.length;pt--;){B=at[pt];var Xi=B,ft=Xi.name,os=Xi.namespaceURI;if(G=ft==="value"?B.value:$(B.value),be=Ze(ft),nt.attrName=be,nt.attrValue=G,nt.keepAttr=!0,nt.forceKeepAttr=void 0,Bt("uponSanitizeAttribute",A,nt),G=nt.attrValue,!nt.forceKeepAttr&&(cd(ft,A),!!nt.keepAttr)){if(k(/\/>/i,G)){cd(ft,A);continue}Qr&&(G=T(G,Bo," "),G=T(G,Wo," "));var vd=Ze(A.nodeName);if(hd(vd,be,G)){if(It&&r(Bi)==="object"&&typeof Bi.getAttributeType=="function"&&!os)switch(Bi.getAttributeType(vd,be)){case"TrustedHTML":G=It.createHTML(G);break;case"TrustedScriptURL":G=It.createScriptURL(G);break}try{os?A.setAttributeNS(os,ft,G):A.setAttribute(ft,G),w(K.removed)}catch(tM){}}}}Bt("afterSanitizeAttributes",A,null)}},t0=function X(A){var B,G=fd(A);for(Bt("beforeSanitizeShadowDOM",A,null);B=G.nextNode();)Bt("uponSanitizeShadowNode",B,null),!pd(B)&&(B.content instanceof Le&&X(B.content),md(B));Bt("afterSanitizeShadowDOM",A,null)};return K.sanitize=function(X,A){var B,G,be,pt,at;if(ns=!X,ns&&(X="<!-->"),typeof X!="string"&&!jn(X)){if(typeof X.toString!="function")throw C("toString is not a function");if(X=X.toString(),typeof X!="string")throw C("dirty is not a string, aborting")}if(!K.isSupported){if(r(J.toStaticHTML)==="object"||typeof J.toStaticHTML=="function"){if(typeof X=="string")return J.toStaticHTML(X);if(jn(X))return J.toStaticHTML(X.outerHTML)}return X}if(Go||is(A),K.removed=[],typeof X=="string"&&(Dn=!1),Dn){if(X.nodeName){var nt=Ze(X.nodeName);if(!Ge[nt]||An[nt])throw C("root node is forbidden and cannot be sanitized in-place")}}else if(X instanceof Qt)B=dd("<!---->"),G=B.ownerDocument.importNode(X,!0),G.nodeType===1&&G.nodeName==="BODY"||G.nodeName==="HTML"?B=G:B.appendChild(G);else{if(!Hr&&!Qr&&!dr&&X.indexOf("<")===-1)return It&&Ki?It.createHTML(X):X;if(B=dd(X),!B)return Hr?null:Ki?Jc:""}B&&Zo&&Ht(B.firstChild);for(var Xi=fd(Dn?X:B);be=Xi.nextNode();)be.nodeType===3&&be===pt||pd(be)||(be.content instanceof Le&&t0(be.content),md(be),pt=be);if(pt=null,Dn)return X;if(Hr){if(Ji)for(at=Nb.call(B.ownerDocument);B.firstChild;)at.appendChild(B.firstChild);else at=B;return rt.shadowroot&&(at=Hb.call(ae,at,!0)),at}var ft=dr?B.outerHTML:B.innerHTML;return dr&&Ge["!doctype"]&&B.ownerDocument&&B.ownerDocument.doctype&&B.ownerDocument.doctype.name&&k(Db,B.ownerDocument.doctype.name)&&(ft="<!DOCTYPE "+B.ownerDocument.doctype.name+`>
`+ft),Qr&&(ft=T(ft,Bo," "),ft=T(ft,Wo," ")),It&&Ki?It.createHTML(ft):ft},K.setConfig=function(X){is(X),Go=!0},K.clearConfig=function(){Jr=null,Go=!1},K.isValidAttribute=function(X,A,B){Jr||is({});var G=Ze(X),be=Ze(A);return hd(G,be,B)},K.addHook=function(X,A){typeof A=="function"&&(Ft[X]=Ft[X]||[],I(Ft[X],A))},K.removeHook=function(X){if(Ft[X])return w(Ft[X])},K.removeHooks=function(X){Ft[X]&&(Ft[X]=[])},K.removeAllHooks=function(){Ft={}},K}var Fb=Yc();return Fb})});function Ia(e,t){return e?e.matches(t)?e:e.parentNode instanceof ShadowRoot?Ia(e.parentNode.host,t):Ia(e.parentElement,t):null}var Y0="atomic/initializeComponent",Qp=["atomic-recs-interface","atomic-search-interface","atomic-relevance-inspector","atomic-insight-interface","atomic-external"];function J0(e){return new Promise((t,r)=>{let n=Np(Y0,i=>t(i));e.dispatchEvent(n),Ia(e,Qp.join(", "))||r(new dl(e.nodeName.toLowerCase()))})}var dl=class extends Error{constructor(t){super(`The "${t}" element must be the child of the following elements: ${Qp.join(", ")}`)}};var K0=Object.create,io=Object.defineProperty,G0=Object.getOwnPropertyDescriptor,Z0=Object.getOwnPropertyNames,X0=Object.getPrototypeOf,eS=Object.prototype.hasOwnProperty,Hp=e=>io(e,"__esModule",{value:!0}),Oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),fu=(e,t)=>{Hp(e);for(var r in t)io(e,r,{get:t[r],enumerable:!0})},Bp=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Z0(t))!eS.call(e,n)&&n!=="default"&&io(e,n,{get:()=>t[n],enumerable:!(r=G0(t,n))||r.enumerable});return e},Je=e=>Bp(Hp(io(e!=null?K0(X0(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),tS=Oe((e,t)=>{function r(n,i,a){return i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),rS=Oe((e,t)=>{var r=tS();function n(a,o){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);o&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),s.push.apply(s,l)}return s}function i(a){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?n(Object(s),!0).forEach(function(l){r(a,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(s,l))})}return a}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),ao=Oe(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=rS();function r(p){return p&&typeof p=="object"&&"default"in p?p:{default:p}}var n=r(t);function i(p){return"Minified Redux error #"+p+"; visit https://redux.js.org/Errors?code="+p+" for the full message or use the non-minified dev environment for full errors. "}var a=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function l(p){if(typeof p!="object"||p===null)return!1;for(var v=p;Object.getPrototypeOf(v)!==null;)v=Object.getPrototypeOf(v);return Object.getPrototypeOf(p)===v}function u(p,v,S){var E;if(typeof v=="function"&&typeof S=="function"||typeof S=="function"&&typeof arguments[3]=="function")throw new Error(i(0));if(typeof v=="function"&&typeof S=="undefined"&&(S=v,v=void 0),typeof S!="undefined"){if(typeof S!="function")throw new Error(i(1));return S(u)(p,v)}if(typeof p!="function")throw new Error(i(2));var D=p,U=v,L=[],w=L,I=!1;function b(){w===L&&(w=L.slice())}function q(){if(I)throw new Error(i(3));return U}function T(C){if(typeof C!="function")throw new Error(i(4));if(I)throw new Error(i(5));var O=!0;return b(),w.push(C),function(){if(O){if(I)throw new Error(i(6));O=!1,b();var j=w.indexOf(C);w.splice(j,1),L=null}}}function x(C){if(!l(C))throw new Error(i(7));if(typeof C.type=="undefined")throw new Error(i(8));if(I)throw new Error(i(9));try{I=!0,U=D(U,C)}finally{I=!1}for(var O=L=w,j=0;j<O.length;j++){var R=O[j];R()}return C}function $(C){if(typeof C!="function")throw new Error(i(10));D=C,x({type:s.REPLACE})}function k(){var C,O=T;return C={subscribe:function(j){if(typeof j!="object"||j===null)throw new Error(i(11));function R(){j.next&&j.next(q())}R();var H=O(R);return{unsubscribe:H}}},C[a]=function(){return this},C}return x({type:s.INIT}),E={dispatch:x,subscribe:T,getState:q,replaceReducer:$},E[a]=k,E}var d=u;function f(p){Object.keys(p).forEach(function(v){var S=p[v],E=S(void 0,{type:s.INIT});if(typeof E=="undefined")throw new Error(i(12));if(typeof S(void 0,{type:s.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(i(13))})}function g(p){for(var v=Object.keys(p),S={},E=0;E<v.length;E++){var D=v[E];typeof p[D]=="function"&&(S[D]=p[D])}var U=Object.keys(S),L;try{f(S)}catch(w){L=w}return function(w,I){if(w===void 0&&(w={}),L)throw L;for(var b=!1,q={},T=0;T<U.length;T++){var x=U[T],$=S[x],k=w[x],C=$(k,I);if(typeof C=="undefined")throw new Error(i(14));q[x]=C,b=b||C!==k}return b=b||U.length!==Object.keys(w).length,b?q:w}}function y(p,v){return function(){return v(p.apply(this,arguments))}}function m(p,v){if(typeof p=="function")return y(p,v);if(typeof p!="object"||p===null)throw new Error(i(16));var S={};for(var E in p){var D=p[E];typeof D=="function"&&(S[E]=y(D,v))}return S}function c(){for(var p=arguments.length,v=new Array(p),S=0;S<p;S++)v[S]=arguments[S];return v.length===0?function(E){return E}:v.length===1?v[0]:v.reduce(function(E,D){return function(){return E(D.apply(void 0,arguments))}})}function h(){for(var p=arguments.length,v=new Array(p),S=0;S<p;S++)v[S]=arguments[S];return function(E){return function(){var D=E.apply(void 0,arguments),U=function(){throw new Error(i(15))},L={getState:D.getState,dispatch:function(){return U.apply(void 0,arguments)}},w=v.map(function(I){return I(L)});return U=c.apply(void 0,w)(D.dispatch),n.default(n.default({},D),{},{dispatch:U})}}}e.__DO_NOT_USE__ActionTypes=s,e.applyMiddleware=h,e.bindActionCreators=m,e.combineReducers=g,e.compose=c,e.createStore=u,e.legacy_createStore=d}),nS=Oe((e,t)=>{function r(i){try{return JSON.stringify(i)}catch(a){return'"[Circular]"'}}t.exports=n;function n(i,a,o){var s=o&&o.stringify||r,l=1;if(typeof i=="object"&&i!==null){var u=a.length+l;if(u===1)return i;var d=new Array(u);d[0]=s(i);for(var f=1;f<u;f++)d[f]=s(a[f]);return d.join(" ")}if(typeof i!="string")return i;var g=a.length;if(g===0)return i;for(var y="",m=1-l,c=-1,h=i&&i.length||0,p=0;p<h;){if(i.charCodeAt(p)===37&&p+1<h){switch(c=c>-1?c:0,i.charCodeAt(p+1)){case 100:case 102:if(m>=g||a[m]==null)break;c<p&&(y+=i.slice(c,p)),y+=Number(a[m]),c=p+2,p++;break;case 105:if(m>=g||a[m]==null)break;c<p&&(y+=i.slice(c,p)),y+=Math.floor(Number(a[m])),c=p+2,p++;break;case 79:case 111:case 106:if(m>=g||a[m]===void 0)break;c<p&&(y+=i.slice(c,p));var v=typeof a[m];if(v==="string"){y+="'"+a[m]+"'",c=p+2,p++;break}if(v==="function"){y+=a[m].name||"<anonymous>",c=p+2,p++;break}y+=s(a[m]),c=p+2,p++;break;case 115:if(m>=g)break;c<p&&(y+=i.slice(c,p)),y+=String(a[m]),c=p+2,p++;break;case 37:c<p&&(y+=i.slice(c,p)),y+="%",c=p+2,p++,m--;break}++m}++p}return c===-1?i:(c<h&&(y+=i.slice(c)),y)}}),oo=Oe((e,t)=>{var r=nS();t.exports=o;var n=L().console||{},i={mapHttpRequest:h,mapHttpResponse:h,wrapRequestSerializer:p,wrapResponseSerializer:p,wrapErrorSerializer:p,req:h,res:h,err:m};function a(w,I){return Array.isArray(w)?w.filter(function(b){return b!=="!stdSerializers.err"}):w===!0?Object.keys(I):!1}function o(w){w=w||{},w.browser=w.browser||{};let I=w.browser.transmit;if(I&&typeof I.send!="function")throw Error("pino: transmit option must have a send function");let b=w.browser.write||n;w.browser.write&&(w.browser.asObject=!0);let q=w.serializers||{},T=a(w.browser.serialize,q),x=w.browser.serialize;Array.isArray(w.browser.serialize)&&w.browser.serialize.indexOf("!stdSerializers.err")>-1&&(x=!1);let $=["error","fatal","warn","info","debug","trace"];typeof b=="function"&&(b.error=b.fatal=b.warn=b.info=b.debug=b.trace=b),w.enabled===!1&&(w.level="silent");let k=w.level||"info",C=Object.create(b);C.log||(C.log=v),Object.defineProperty(C,"levelVal",{get:j}),Object.defineProperty(C,"level",{get:R,set:H});let O={transmit:I,serialize:T,asObject:w.browser.asObject,levels:$,timestamp:c(w)};C.levels=o.levels,C.level=k,C.setMaxListeners=C.getMaxListeners=C.emit=C.addListener=C.on=C.prependListener=C.once=C.prependOnceListener=C.removeListener=C.removeAllListeners=C.listeners=C.listenerCount=C.eventNames=C.write=C.flush=v,C.serializers=q,C._serialize=T,C._stdErrSerialize=x,C.child=Z,I&&(C._logEvent=y());function j(){return this.level==="silent"?1/0:this.levels.values[this.level]}function R(){return this._level}function H(W){if(W!=="silent"&&!this.levels.values[W])throw Error("unknown level "+W);this._level=W,s(O,C,"error","log"),s(O,C,"fatal","error"),s(O,C,"warn","error"),s(O,C,"info","log"),s(O,C,"debug","log"),s(O,C,"trace","log")}function Z(W,re){if(!W)throw new Error("missing bindings for child Pino");re=re||{},T&&W.serializers&&(re.serializers=W.serializers);let me=re.serializers;if(T&&me){var ce=Object.assign({},q,me),qe=w.browser.serialize===!0?Object.keys(ce):T;delete W.serializers,d([W],qe,ce,this._stdErrSerialize)}function Re(oe){this._childLevel=(oe._childLevel|0)+1,this.error=f(oe,W,"error"),this.fatal=f(oe,W,"fatal"),this.warn=f(oe,W,"warn"),this.info=f(oe,W,"info"),this.debug=f(oe,W,"debug"),this.trace=f(oe,W,"trace"),ce&&(this.serializers=ce,this._serialize=qe),I&&(this._logEvent=y([].concat(oe._logEvent.bindings,W)))}return Re.prototype=this,new Re(this)}return C}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=i,o.stdTimeFunctions=Object.assign({},{nullTime:S,epochTime:E,unixTime:D,isoTime:U});function s(w,I,b,q){let T=Object.getPrototypeOf(I);I[b]=I.levelVal>I.levels.values[b]?v:T[b]?T[b]:n[b]||n[q]||v,l(w,I,b)}function l(w,I,b){!w.transmit&&I[b]===v||(I[b]=function(q){return function(){let T=w.timestamp(),x=new Array(arguments.length),$=Object.getPrototypeOf&&Object.getPrototypeOf(this)===n?n:this;for(var k=0;k<x.length;k++)x[k]=arguments[k];if(w.serialize&&!w.asObject&&d(x,this._serialize,this.serializers,this._stdErrSerialize),w.asObject?q.call($,u(this,b,x,T)):q.apply($,x),w.transmit){let C=w.transmit.level||I.level,O=o.levels.values[C],j=o.levels.values[b];if(j<O)return;g(this,{ts:T,methodLevel:b,methodValue:j,transmitLevel:C,transmitValue:o.levels.values[w.transmit.level||I.level],send:w.transmit.send,val:I.levelVal},x)}}}(I[b]))}function u(w,I,b,q){w._serialize&&d(b,w._serialize,w.serializers,w._stdErrSerialize);let T=b.slice(),x=T[0],$={};q&&($.time=q),$.level=o.levels.values[I];let k=(w._childLevel|0)+1;if(k<1&&(k=1),x!==null&&typeof x=="object"){for(;k--&&typeof T[0]=="object";)Object.assign($,T.shift());x=T.length?r(T.shift(),T):void 0}else typeof x=="string"&&(x=r(T.shift(),T));return x!==void 0&&($.msg=x),$}function d(w,I,b,q){for(let T in w)if(q&&w[T]instanceof Error)w[T]=o.stdSerializers.err(w[T]);else if(typeof w[T]=="object"&&!Array.isArray(w[T]))for(let x in w[T])I&&I.indexOf(x)>-1&&x in b&&(w[T][x]=b[x](w[T][x]))}function f(w,I,b){return function(){let q=new Array(1+arguments.length);q[0]=I;for(var T=1;T<q.length;T++)q[T]=arguments[T-1];return w[b].apply(this,q)}}function g(w,I,b){let q=I.send,T=I.ts,x=I.methodLevel,$=I.methodValue,k=I.val,C=w._logEvent.bindings;d(b,w._serialize||Object.keys(w.serializers),w.serializers,w._stdErrSerialize===void 0?!0:w._stdErrSerialize),w._logEvent.ts=T,w._logEvent.messages=b.filter(function(O){return C.indexOf(O)===-1}),w._logEvent.level.label=x,w._logEvent.level.value=$,q(x,w._logEvent,k),w._logEvent=y(C)}function y(w){return{ts:0,messages:[],bindings:w||[],level:{label:"",value:0}}}function m(w){let I={type:w.constructor.name,msg:w.message,stack:w.stack};for(let b in w)I[b]===void 0&&(I[b]=w[b]);return I}function c(w){return typeof w.timestamp=="function"?w.timestamp:w.timestamp===!1?S:E}function h(){return{}}function p(w){return w}function v(){}function S(){return!1}function E(){return Date.now()}function D(){return Math.round(Date.now()/1e3)}function U(){return new Date(Date.now()).toISOString()}function L(){function w(I){return typeof I!="undefined"&&I}try{return typeof globalThis!="undefined"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(I){return w(self)||w(window)||w(this)||{}}}}),iS=Oe((e,t)=>{var r="[object Object]";function n(m){var c=!1;if(m!=null&&typeof m.toString!="function")try{c=!!(m+"")}catch(h){}return c}function i(m,c){return function(h){return m(c(h))}}var a=Function.prototype,o=Object.prototype,s=a.toString,l=o.hasOwnProperty,u=s.call(Object),d=o.toString,f=i(Object.getPrototypeOf,Object);function g(m){return!!m&&typeof m=="object"}function y(m){if(!g(m)||d.call(m)!=r||n(m))return!1;var c=f(m);if(c===null)return!0;var h=l.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==u}t.exports=y}),aS=Oe(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=ao(),r=iS(),n=i(r);function i(l){return l&&l.__esModule?l:{default:l}}function a(l){if(Array.isArray(l)){for(var u=0,d=Array(l.length);u<l.length;u++)d[u]=l[u];return d}else return Array.from(l)}var o=function(l){return typeof l=="function"};function s(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function d(){var g=[],y=[],m={getState:function(){return o(u)?u(g):u},getActions:function(){return g},dispatch:function(c){if(!(0,n.default)(c))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof c.type=="undefined")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant? Action: '+JSON.stringify(c));g.push(c);for(var h=0;h<y.length;h++)y[h]();return c},clearActions:function(){g=[]},subscribe:function(c){return o(c)&&y.push(c),function(){var h=y.indexOf(c);h<0||y.splice(h,1)}},replaceReducer:function(c){if(!o(c))throw new Error("Expected the nextReducer to be a function.")}};return m}var f=t.applyMiddleware.apply(void 0,a(l))(d);return f()}}}),oS=Oe((e,t)=>{t.exports=fetch}),sS=Oe(e=>{var t=e&&e.__assign||function(){return t=Object.assign||function(i){for(var a,o=1,s=arguments.length;o<s;o++){a=arguments[o];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};function n(i){var a=t(t({},r),i);return a.numOfAttempts<1&&(a.numOfAttempts=1),a}e.getSanitizedOptions=n}),lS=Oe(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(r){var n=Math.random()*r;return Math.round(n)}e.fullJitter=t}),uS=Oe(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(r){return r}e.noJitter=t}),cS=Oe(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=lS(),r=uS();function n(i){switch(i.jitter){case"full":return t.fullJitter;case"none":default:return r.noJitter}}e.JitterFactory=n}),Wp=Oe(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=cS(),r=function(){function n(i){this.options=i,this.attempt=0}return n.prototype.apply=function(){var i=this;return new Promise(function(a){return setTimeout(a,i.jitteredDelay)})},n.prototype.setAttemptNumber=function(i){this.attempt=i},Object.defineProperty(n.prototype,"jitteredDelay",{get:function(){var i=t.JitterFactory(this.options);return i(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delay",{get:function(){var i=this.options.startingDelay,a=this.options.timeMultiple,o=this.numOfDelayedAttempts,s=i*Math.pow(a,o);return Math.min(s,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),n}();e.Delay=r}),dS=Oe(e=>{var t=e&&e.__extends||function(){var o=function(s,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])},o(s,l)};return function(s,l){o(s,l);function u(){this.constructor=s}s.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),r=e&&e.__awaiter||function(o,s,l,u){function d(f){return f instanceof l?f:new l(function(g){g(f)})}return new(l||(l=Promise))(function(f,g){function y(h){try{c(u.next(h))}catch(p){g(p)}}function m(h){try{c(u.throw(h))}catch(p){g(p)}}function c(h){h.done?f(h.value):d(h.value).then(y,m)}c((u=u.apply(o,s||[])).next())})},n=e&&e.__generator||function(o,s){var l={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,d,f,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(c){return function(h){return m([c,h])}}function m(c){if(u)throw new TypeError("Generator is already executing.");for(;l;)try{if(u=1,d&&(f=c[0]&2?d.return:c[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,c[1])).done)return f;switch(d=0,f&&(c=[c[0]&2,f.value]),c[0]){case 0:case 1:f=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,d=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(f=l.trys,!(f=f.length>0&&f[f.length-1])&&(c[0]===6||c[0]===2)){l=0;continue}if(c[0]===3&&(!f||c[1]>f[0]&&c[1]<f[3])){l.label=c[1];break}if(c[0]===6&&l.label<f[1]){l.label=f[1],f=c;break}if(f&&l.label<f[2]){l.label=f[2],l.ops.push(c);break}f[2]&&l.ops.pop(),l.trys.pop();continue}c=s.call(o,l)}catch(h){c=[6,h],d=0}finally{u=f=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var i=Wp(),a=function(o){t(s,o);function s(){return o!==null&&o.apply(this,arguments)||this}return s.prototype.apply=function(){return r(this,void 0,void 0,function(){return n(this,function(l){return[2,this.isFirstAttempt?!0:o.prototype.apply.call(this)]})})},Object.defineProperty(s.prototype,"isFirstAttempt",{get:function(){return this.attempt===0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),s}(i.Delay);e.SkipFirstDelay=a}),fS=Oe(e=>{var t=e&&e.__extends||function(){var i=function(a,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])},i(a,o)};return function(a,o){i(a,o);function s(){this.constructor=a}a.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=Wp(),n=function(i){t(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a}(r.Delay);e.AlwaysDelay=n}),pS=Oe(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=dS(),r=fS();function n(a,o){var s=i(a);return s.setAttemptNumber(o),s}e.DelayFactory=n;function i(a){return a.delayFirstAttempt?new r.AlwaysDelay(a):new t.SkipFirstDelay(a)}}),hS=Oe(e=>{var t=e&&e.__awaiter||function(s,l,u,d){function f(g){return g instanceof u?g:new u(function(y){y(g)})}return new(u||(u=Promise))(function(g,y){function m(p){try{h(d.next(p))}catch(v){y(v)}}function c(p){try{h(d.throw(p))}catch(v){y(v)}}function h(p){p.done?g(p.value):f(p.value).then(m,c)}h((d=d.apply(s,l||[])).next())})},r=e&&e.__generator||function(s,l){var u={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},d,f,g,y;return y={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function m(h){return function(p){return c([h,p])}}function c(h){if(d)throw new TypeError("Generator is already executing.");for(;u;)try{if(d=1,f&&(g=h[0]&2?f.return:h[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,h[1])).done)return g;switch(f=0,g&&(h=[h[0]&2,g.value]),h[0]){case 0:case 1:g=h;break;case 4:return u.label++,{value:h[1],done:!1};case 5:u.label++,f=h[1],h=[0];continue;case 7:h=u.ops.pop(),u.trys.pop();continue;default:if(g=u.trys,!(g=g.length>0&&g[g.length-1])&&(h[0]===6||h[0]===2)){u=0;continue}if(h[0]===3&&(!g||h[1]>g[0]&&h[1]<g[3])){u.label=h[1];break}if(h[0]===6&&u.label<g[1]){u.label=g[1],g=h;break}if(g&&u.label<g[2]){u.label=g[2],u.ops.push(h);break}g[2]&&u.ops.pop(),u.trys.pop();continue}h=l.call(s,u)}catch(p){h=[6,p],f=0}finally{d=g=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var n=sS(),i=pS();function a(s,l){return l===void 0&&(l={}),t(this,void 0,void 0,function(){var u,d;return r(this,function(f){switch(f.label){case 0:return u=n.getSanitizedOptions(l),d=new o(s,u),[4,d.execute()];case 1:return[2,f.sent()]}})})}e.backOff=a;var o=function(){function s(l,u){this.request=l,this.options=u,this.attemptNumber=0}return s.prototype.execute=function(){return t(this,void 0,void 0,function(){var l,u;return r(this,function(d){switch(d.label){case 0:if(this.attemptLimitReached)return[3,7];d.label=1;case 1:return d.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return d.sent(),[4,this.request()];case 3:return[2,d.sent()];case 4:return l=d.sent(),this.attemptNumber++,[4,this.options.retry(l,this.attemptNumber)];case 5:if(u=d.sent(),!u||this.attemptLimitReached)throw l;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(s.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),s.prototype.applyDelay=function(){return t(this,void 0,void 0,function(){var l;return r(this,function(u){switch(u.label){case 0:return l=i.DelayFactory(this.options,this.attemptNumber),[4,l.apply()];case 1:return u.sent(),[2]}})})},s}()}),gS=Oe((e,t)=>{var r=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;if(!r)throw new Error("Unable to find global scope. Are you sure this is running in the browser?");if(!r.AbortController)throw new Error('Could not find "AbortController" in the global scope. You need to polyfill it first');t.exports=r.AbortController,t.exports.default=r.AbortController}),mS=Oe((e,t)=>{function r(a){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");if(a=`${a}`,a=a.replace(/[ \t\n\f\r]/g,""),a.length%4==0&&(a=a.replace(/==?$/,"")),a.length%4==1||/[^+/0-9A-Za-z]/.test(a))return null;let o="",s=0,l=0;for(let u=0;u<a.length;u++)s<<=6,s|=i(a[u]),l+=6,l===24&&(o+=String.fromCharCode((s&16711680)>>16),o+=String.fromCharCode((s&65280)>>8),o+=String.fromCharCode(s&255),s=l=0);return l===12?(s>>=4,o+=String.fromCharCode(s)):l===18&&(s>>=2,o+=String.fromCharCode((s&65280)>>8),o+=String.fromCharCode(s&255)),o}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function i(a){let o=n.indexOf(a);return o<0?void 0:o}t.exports=r}),vS=Oe((e,t)=>{function r(a){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let o;for(a=`${a}`,o=0;o<a.length;o++)if(a.charCodeAt(o)>255)return null;let s="";for(o=0;o<a.length;o+=3){let l=[void 0,void 0,void 0,void 0];l[0]=a.charCodeAt(o)>>2,l[1]=(a.charCodeAt(o)&3)<<4,a.length>o+1&&(l[1]|=a.charCodeAt(o+1)>>4,l[2]=(a.charCodeAt(o+1)&15)<<2),a.length>o+2&&(l[2]|=a.charCodeAt(o+2)>>6,l[3]=a.charCodeAt(o+2)&63);for(let u=0;u<l.length;u++)typeof l[u]=="undefined"?s+="=":s+=i(l[u])}return s}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function i(a){if(a>=0&&a<64)return n[a]}t.exports=r}),Yp=Oe((e,t)=>{var r=mS(),n=vS();t.exports={atob:r,btoa:n}}),pu=Oe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs=n()})(e,function(){var r=1e3,n=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",u="day",d="week",f="month",g="quarter",y="year",m="date",c="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},S=function(x,$,k){var C=String(x);return!C||C.length>=$?x:""+Array($+1-C.length).join(k)+x},E={s:S,z:function(x){var $=-x.utcOffset(),k=Math.abs($),C=Math.floor(k/60),O=k%60;return($<=0?"+":"-")+S(C,2,"0")+":"+S(O,2,"0")},m:function x($,k){if($.date()<k.date())return-x(k,$);var C=12*(k.year()-$.year())+(k.month()-$.month()),O=$.clone().add(C,f),j=k-O<0,R=$.clone().add(C+(j?-1:1),f);return+(-(C+(k-O)/(j?O-R:R-O))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:f,y,w:d,d:u,D:m,h:l,m:s,s:o,ms:a,Q:g}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},D="en",U={};U[D]=v;var L=function(x){return x instanceof q},w=function x($,k,C){var O;if(!$)return D;if(typeof $=="string"){var j=$.toLowerCase();U[j]&&(O=j),k&&(U[j]=k,O=j);var R=$.split("-");if(!O&&R.length>1)return x(R[0])}else{var H=$.name;U[H]=$,O=H}return!C&&O&&(D=O),O||!C&&D},I=function(x,$){if(L(x))return x.clone();var k=typeof $=="object"?$:{};return k.date=x,k.args=arguments,new q(k)},b=E;b.l=w,b.i=L,b.w=function(x,$){return I(x,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var q=function(){function x(k){this.$L=w(k.locale,null,!0),this.parse(k)}var $=x.prototype;return $.parse=function(k){this.$d=function(C){var O=C.date,j=C.utc;if(O===null)return new Date(NaN);if(b.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var R=O.match(h);if(R){var H=R[2]-1||0,Z=(R[7]||"0").substring(0,3);return j?new Date(Date.UTC(R[1],H,R[3]||1,R[4]||0,R[5]||0,R[6]||0,Z)):new Date(R[1],H,R[3]||1,R[4]||0,R[5]||0,R[6]||0,Z)}}return new Date(O)}(k),this.$x=k.x||{},this.init()},$.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},$.$utils=function(){return b},$.isValid=function(){return this.$d.toString()!==c},$.isSame=function(k,C){var O=I(k);return this.startOf(C)<=O&&O<=this.endOf(C)},$.isAfter=function(k,C){return I(k)<this.startOf(C)},$.isBefore=function(k,C){return this.endOf(C)<I(k)},$.$g=function(k,C,O){return b.u(k)?this[C]:this.set(O,k)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(k,C){var O=this,j=!!b.u(C)||C,R=b.p(k),H=function(oe,se){var ye=b.w(O.$u?Date.UTC(O.$y,se,oe):new Date(O.$y,se,oe),O);return j?ye:ye.endOf(u)},Z=function(oe,se){return b.w(O.toDate()[oe].apply(O.toDate("s"),(j?[0,0,0,0]:[23,59,59,999]).slice(se)),O)},W=this.$W,re=this.$M,me=this.$D,ce="set"+(this.$u?"UTC":"");switch(R){case y:return j?H(1,0):H(31,11);case f:return j?H(1,re):H(0,re+1);case d:var qe=this.$locale().weekStart||0,Re=(W<qe?W+7:W)-qe;return H(j?me-Re:me+(6-Re),re);case u:case m:return Z(ce+"Hours",0);case l:return Z(ce+"Minutes",1);case s:return Z(ce+"Seconds",2);case o:return Z(ce+"Milliseconds",3);default:return this.clone()}},$.endOf=function(k){return this.startOf(k,!1)},$.$set=function(k,C){var O,j=b.p(k),R="set"+(this.$u?"UTC":""),H=(O={},O[u]=R+"Date",O[m]=R+"Date",O[f]=R+"Month",O[y]=R+"FullYear",O[l]=R+"Hours",O[s]=R+"Minutes",O[o]=R+"Seconds",O[a]=R+"Milliseconds",O)[j],Z=j===u?this.$D+(C-this.$W):C;if(j===f||j===y){var W=this.clone().set(m,1);W.$d[H](Z),W.init(),this.$d=W.set(m,Math.min(this.$D,W.daysInMonth())).$d}else H&&this.$d[H](Z);return this.init(),this},$.set=function(k,C){return this.clone().$set(k,C)},$.get=function(k){return this[b.p(k)]()},$.add=function(k,C){var O,j=this;k=Number(k);var R=b.p(C),H=function(re){var me=I(j);return b.w(me.date(me.date()+Math.round(re*k)),j)};if(R===f)return this.set(f,this.$M+k);if(R===y)return this.set(y,this.$y+k);if(R===u)return H(1);if(R===d)return H(7);var Z=(O={},O[s]=n,O[l]=i,O[o]=r,O)[R]||1,W=this.$d.getTime()+k*Z;return b.w(W,this)},$.subtract=function(k,C){return this.add(-1*k,C)},$.format=function(k){var C=this,O=this.$locale();if(!this.isValid())return O.invalidDate||c;var j=k||"YYYY-MM-DDTHH:mm:ssZ",R=b.z(this),H=this.$H,Z=this.$m,W=this.$M,re=O.weekdays,me=O.months,ce=function(se,ye,Be,Ue){return se&&(se[ye]||se(C,j))||Be[ye].slice(0,Ue)},qe=function(se){return b.s(H%12||12,se,"0")},Re=O.meridiem||function(se,ye,Be){var Ue=se<12?"AM":"PM";return Be?Ue.toLowerCase():Ue},oe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:W+1,MM:b.s(W+1,2,"0"),MMM:ce(O.monthsShort,W,me,3),MMMM:ce(me,W),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:ce(O.weekdaysMin,this.$W,re,2),ddd:ce(O.weekdaysShort,this.$W,re,3),dddd:re[this.$W],H:String(H),HH:b.s(H,2,"0"),h:qe(1),hh:qe(2),a:Re(H,Z,!0),A:Re(H,Z,!1),m:String(Z),mm:b.s(Z,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:R};return j.replace(p,function(se,ye){return ye||oe[se]||R.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(k,C,O){var j,R=b.p(C),H=I(k),Z=(H.utcOffset()-this.utcOffset())*n,W=this-H,re=b.m(this,H);return re=(j={},j[y]=re/12,j[f]=re,j[g]=re/3,j[d]=(W-Z)/6048e5,j[u]=(W-Z)/864e5,j[l]=W/i,j[s]=W/n,j[o]=W/r,j)[R]||W,O?re:b.a(re)},$.daysInMonth=function(){return this.endOf(f).$D},$.$locale=function(){return U[this.$L]},$.locale=function(k,C){if(!k)return this.$L;var O=this.clone(),j=w(k,C,!0);return j&&(O.$L=j),O},$.clone=function(){return b.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},x}(),T=q.prototype;return I.prototype=T,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",u],["$M",f],["$y",y],["$D",m]].forEach(function(x){T[x[1]]=function($){return this.$g($,x[0],x[1])}}),I.extend=function(x,$){return x.$i||(x($,q,I),x.$i=!0),I},I.locale=w,I.isDayjs=L,I.unix=function(x){return I(1e3*x)},I.en=U[D],I.Ls=U,I.p={},I})}),yS=Oe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_quarterOfYear=n()})(e,function(){var r="month",n="quarter";return function(i,a){var o=a.prototype;o.quarter=function(u){return this.$utils().u(u)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(u-1))};var s=o.add;o.add=function(u,d){return u=Number(u),this.$utils().p(d)===n?this.add(3*u,r):s.bind(this)(u,d)};var l=o.startOf;o.startOf=function(u,d){var f=this.$utils(),g=!!f.u(d)||d;if(f.p(u)===n){var y=this.quarter()-1;return g?this.month(3*y).startOf(r).startOf("day"):this.month(3*y+2).endOf(r).endOf("day")}return l.bind(this)(u,d)}}})}),bS=Oe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_customParseFormat=n()})(e,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,a=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},l=function(c){return(c=+c)+(c>68?1900:2e3)},u=function(c){return function(h){this[c]=+h}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(c){(this.zone||(this.zone={})).offset=function(h){if(!h||h==="Z")return 0;var p=h.match(/([+-]|\d\d)/g),v=60*p[1]+(+p[2]||0);return v===0?0:p[0]==="+"?-v:v}(c)}],f=function(c){var h=s[c];return h&&(h.indexOf?h:h.s.concat(h.f))},g=function(c,h){var p,v=s.meridiem;if(v){for(var S=1;S<=24;S+=1)if(c.indexOf(v(S,0,h))>-1){p=S>12;break}}else p=c===(h?"pm":"PM");return p},y={A:[o,function(c){this.afternoon=g(c,!1)}],a:[o,function(c){this.afternoon=g(c,!0)}],S:[/\d/,function(c){this.milliseconds=100*+c}],SS:[i,function(c){this.milliseconds=10*+c}],SSS:[/\d{3}/,function(c){this.milliseconds=+c}],s:[a,u("seconds")],ss:[a,u("seconds")],m:[a,u("minutes")],mm:[a,u("minutes")],H:[a,u("hours")],h:[a,u("hours")],HH:[a,u("hours")],hh:[a,u("hours")],D:[a,u("day")],DD:[i,u("day")],Do:[o,function(c){var h=s.ordinal,p=c.match(/\d+/);if(this.day=p[0],h)for(var v=1;v<=31;v+=1)h(v).replace(/\[|\]/g,"")===c&&(this.day=v)}],M:[a,u("month")],MM:[i,u("month")],MMM:[o,function(c){var h=f("months"),p=(f("monthsShort")||h.map(function(v){return v.slice(0,3)})).indexOf(c)+1;if(p<1)throw new Error;this.month=p%12||p}],MMMM:[o,function(c){var h=f("months").indexOf(c)+1;if(h<1)throw new Error;this.month=h%12||h}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(c){this.year=l(c)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function m(c){var h,p;h=c,p=s&&s.formats;for(var v=(c=h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,b,q){var T=q&&q.toUpperCase();return b||p[q]||r[q]||p[T].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,$,k){return $||k.slice(1)})})).match(n),S=v.length,E=0;E<S;E+=1){var D=v[E],U=y[D],L=U&&U[0],w=U&&U[1];v[E]=w?{regex:L,parser:w}:D.replace(/^\[|\]$/g,"")}return function(I){for(var b={},q=0,T=0;q<S;q+=1){var x=v[q];if(typeof x=="string")T+=x.length;else{var $=x.regex,k=x.parser,C=I.slice(T),O=$.exec(C)[0];k.call(b,O),I=I.replace(O,"")}}return function(j){var R=j.afternoon;if(R!==void 0){var H=j.hours;R?H<12&&(j.hours+=12):H===12&&(j.hours=0),delete j.afternoon}}(b),b}}return function(c,h,p){p.p.customParseFormat=!0,c&&c.parseTwoDigitYear&&(l=c.parseTwoDigitYear);var v=h.prototype,S=v.parse;v.parse=function(E){var D=E.date,U=E.utc,L=E.args;this.$u=U;var w=L[1];if(typeof w=="string"){var I=L[2]===!0,b=L[3]===!0,q=I||b,T=L[2];b&&(T=L[2]),s=this.$locale(),!I&&T&&(s=p.Ls[T]),this.$d=function(C,O,j){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*C);var R=m(O)(C),H=R.year,Z=R.month,W=R.day,re=R.hours,me=R.minutes,ce=R.seconds,qe=R.milliseconds,Re=R.zone,oe=new Date,se=W||(H||Z?1:oe.getDate()),ye=H||oe.getFullYear(),Be=0;H&&!Z||(Be=Z>0?Z-1:oe.getMonth());var Ue=re||0,Vt=me||0,zt=ce||0,Nt=qe||0;return Re?new Date(Date.UTC(ye,Be,se,Ue,Vt,zt,Nt+60*Re.offset*1e3)):j?new Date(Date.UTC(ye,Be,se,Ue,Vt,zt,Nt)):new Date(ye,Be,se,Ue,Vt,zt,Nt)}catch(zo){return new Date("")}}(D,w,U),this.init(),T&&T!==!0&&(this.$L=this.locale(T).$L),q&&D!=this.format(w)&&(this.$d=new Date("")),s={}}else if(w instanceof Array)for(var x=w.length,$=1;$<=x;$+=1){L[1]=w[$-1];var k=p.apply(this,L);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}$===x&&(this.$d=new Date(""))}else S.call(this,E)}}})}),SS=Oe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_timezone=n()})(e,function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(i,a,o){var s,l=function(g,y,m){m===void 0&&(m={});var c=new Date(g),h=function(p,v){v===void 0&&(v={});var S=v.timeZoneName||"short",E=p+"|"+S,D=n[E];return D||(D=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:p,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:S}),n[E]=D),D}(y,m);return h.formatToParts(c)},u=function(g,y){for(var m=l(g,y),c=[],h=0;h<m.length;h+=1){var p=m[h],v=p.type,S=p.value,E=r[v];E>=0&&(c[E]=parseInt(S,10))}var D=c[3],U=D===24?0:D,L=c[0]+"-"+c[1]+"-"+c[2]+" "+U+":"+c[4]+":"+c[5]+":000",w=+g;return(o.utc(L).valueOf()-(w-=w%1e3))/6e4},d=a.prototype;d.tz=function(g,y){g===void 0&&(g=s);var m=this.utcOffset(),c=this.toDate(),h=c.toLocaleString("en-US",{timeZone:g}),p=Math.round((c-new Date(h))/1e3/60),v=o(h).$set("millisecond",this.$ms).utcOffset(15*-Math.round(c.getTimezoneOffset()/15)-p,!0);if(y){var S=v.utcOffset();v=v.add(m-S,"minute")}return v.$x.$timezone=g,v},d.offsetName=function(g){var y=this.$x.$timezone||o.tz.guess(),m=l(this.valueOf(),y,{timeZoneName:g}).find(function(c){return c.type.toLowerCase()==="timezonename"});return m&&m.value};var f=d.startOf;d.startOf=function(g,y){if(!this.$x||!this.$x.$timezone)return f.call(this,g,y);var m=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return f.call(m,g,y).tz(this.$x.$timezone,!0)},o.tz=function(g,y,m){var c=m&&y,h=m||y||s,p=u(+o(),h);if(typeof g!="string")return o(g).tz(h);var v=function(U,L,w){var I=U-60*L*1e3,b=u(I,w);if(L===b)return[I,L];var q=u(I-=60*(b-L)*1e3,w);return b===q?[I,b]:[U-60*Math.min(b,q)*1e3,Math.max(b,q)]}(o.utc(g,c).valueOf(),p,h),S=v[0],E=v[1],D=o(S).utcOffset(E);return D.$x.$timezone=h,D},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(g){s=g}}})}),wS=Oe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_utc=n()})(e,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,o,s){var l=o.prototype;s.utc=function(c){var h={date:c,utc:!0,args:arguments};return new o(h)},l.utc=function(c){var h=s(this.toDate(),{locale:this.$L,utc:!0});return c?h.add(this.utcOffset(),r):h},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(c){c.utc&&(this.$u=!0),this.$utils().u(c.$offset)||(this.$offset=c.$offset),u.call(this,c)};var d=l.init;l.init=function(){if(this.$u){var c=this.$d;this.$y=c.getUTCFullYear(),this.$M=c.getUTCMonth(),this.$D=c.getUTCDate(),this.$W=c.getUTCDay(),this.$H=c.getUTCHours(),this.$m=c.getUTCMinutes(),this.$s=c.getUTCSeconds(),this.$ms=c.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(c,h){var p=this.$utils().u;if(p(c))return this.$u?0:p(this.$offset)?f.call(this):this.$offset;if(typeof c=="string"&&(c=function(D){D===void 0&&(D="");var U=D.match(n);if(!U)return null;var L=(""+U[0]).match(i)||["-",0,0],w=L[0],I=60*+L[1]+ +L[2];return I===0?0:w==="+"?I:-I}(c),c===null))return this;var v=Math.abs(c)<=16?60*c:c,S=this;if(h)return S.$offset=v,S.$u=c===0,S;if(c!==0){var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(S=this.local().add(v+E,r)).$offset=v,S.$x.$localOffset=E}else S=this.utc();return S};var g=l.format;l.format=function(c){var h=c||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,h)},l.valueOf=function(){var c=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*c},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var y=l.toDate;l.toDate=function(c){return c==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():y.call(this)};var m=l.diff;l.diff=function(c,h,p){if(c&&this.$u===c.$u)return m.call(this,c,h,p);var v=this.local(),S=s(c).local();return m.call(v,S,h,p)}}})}),CS=Oe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):(r=typeof globalThis!="undefined"?globalThis:r||self,n(r["fast-equals"]={}))})(e,function(r){var n=typeof WeakSet=="function",i=Object.keys;function a(b,q){return b===q||b!==b&&q!==q}function o(b){return b.constructor===Object||b.constructor==null}function s(b){return!!b&&typeof b.then=="function"}function l(b){return!!(b&&b.$$typeof)}function u(){var b=[];return{add:function(q){b.push(q)},has:function(q){return b.indexOf(q)!==-1}}}var d=function(b){return b?function(){return new WeakSet}:u}(n);function f(b){return function(q){var T=b||q;return function(x,$,k){k===void 0&&(k=d());var C=!!x&&typeof x=="object",O=!!$&&typeof $=="object";if(C||O){var j=C&&k.has(x),R=O&&k.has($);if(j||R)return j&&R;C&&k.add(x),O&&k.add($)}return T(x,$,k)}}}function g(b,q,T,x){var $=b.length;if(q.length!==$)return!1;for(;$-- >0;)if(!T(b[$],q[$],x))return!1;return!0}function y(b,q,T,x){var $=b.size===q.size;if($&&b.size){var k={};b.forEach(function(C,O){if($){var j=!1,R=0;q.forEach(function(H,Z){!j&&!k[R]&&(j=T(O,Z,x)&&T(C,H,x),j&&(k[R]=!0)),R++}),$=j}})}return $}var m="_owner",c=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function h(b,q,T,x){var $=i(b),k=$.length;if(i(q).length!==k)return!1;if(k)for(var C=void 0;k-- >0;){if(C=$[k],C===m){var O=l(b),j=l(q);if((O||j)&&O!==j)return!1}if(!c(q,C)||!T(b[C],q[C],x))return!1}return!0}function p(b,q){return b.source===q.source&&b.global===q.global&&b.ignoreCase===q.ignoreCase&&b.multiline===q.multiline&&b.unicode===q.unicode&&b.sticky===q.sticky&&b.lastIndex===q.lastIndex}function v(b,q,T,x){var $=b.size===q.size;if($&&b.size){var k={};b.forEach(function(C){if($){var O=!1,j=0;q.forEach(function(R){!O&&!k[j]&&(O=T(C,R,x),O&&(k[j]=!0)),j++}),$=O}})}return $}var S=typeof Map=="function",E=typeof Set=="function";function D(b){var q=typeof b=="function"?b(T):T;function T(x,$,k){if(x===$)return!0;if(x&&$&&typeof x=="object"&&typeof $=="object"){if(o(x)&&o($))return h(x,$,q,k);var C=Array.isArray(x),O=Array.isArray($);return C||O?C===O&&g(x,$,q,k):(C=x instanceof Date,O=$ instanceof Date,C||O?C===O&&a(x.getTime(),$.getTime()):(C=x instanceof RegExp,O=$ instanceof RegExp,C||O?C===O&&p(x,$):s(x)||s($)?x===$:S&&(C=x instanceof Map,O=$ instanceof Map,C||O)?C===O&&y(x,$,q,k):E&&(C=x instanceof Set,O=$ instanceof Set,C||O)?C===O&&v(x,$,q,k):h(x,$,q,k)))}return x!==x&&$!==$}return T}var U=D(),L=D(function(){return a}),w=D(f()),I=D(f(a));r.circularDeepEqual=w,r.circularShallowEqual=I,r.createCustomEqual=D,r.deepEqual=U,r.sameValueZeroEqual=a,r.shallowEqual=L,Object.defineProperty(r,"__esModule",{value:!0})})}),$S={};fu($S,{buildMockCaseAssistEngine:()=>Uk,buildMockProductListingEngine:()=>Mk,buildMockProductRecommendationsAppEngine:()=>Pk,buildMockRaw:()=>Ag,buildMockRecommendationAppEngine:()=>_k,buildMockResult:()=>zk,buildMockSearchAppEngine:()=>Fk,createMockState:()=>Rg});var Jp={};fu(Jp,{MiddlewareArray:()=>nh,TaskAbortError:()=>di,addListener:()=>$h,clearAllListeners:()=>kh,configureStore:()=>e1,createAction:()=>F,createAsyncThunk:()=>we,createDraftSafeSelector:()=>Wt,createEntityAdapter:()=>f1,createImmutableStateInvariantMiddleware:()=>KS,createListenerMiddleware:()=>q1,createNextState:()=>lo,createReducer:()=>ne,createSelector:()=>eh,createSerializableStateInvariantMiddleware:()=>GS,createSlice:()=>o1,current:()=>yu,findNonSerializableValue:()=>ah,freeze:()=>so,getDefaultMiddleware:()=>Su,getType:()=>n1,isAllOf:()=>yl,isAnyOf:()=>ui,isAsyncThunkAction:()=>gh,isDraft:()=>Ot,isFulfilled:()=>hh,isImmutableDefault:()=>JS,isPending:()=>fh,isPlain:()=>ih,isPlainObject:()=>uo,isRejected:()=>Da,isRejectedWithValue:()=>ph,miniSerializeError:()=>uh,nanoid:()=>wu,original:()=>kS,removeListener:()=>Oh,unwrapResult:()=>ch});function $t(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ot(e){return!!e&&!!e[Ae]}function Jt(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===DS}(e)||Array.isArray(e)||!!e[Fd]||!!e.constructor[Fd]||hu(e)||gu(e))}function kS(e){return Ot(e)||$t(23,e),e[Ae].t}function Dr(e,t,r){r===void 0&&(r=!1),bn(e)===0?(r?Object.keys:tn)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function bn(e){var t=e[Ae];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:hu(e)?2:gu(e)?3:0}function en(e,t){return bn(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function OS(e,t){return bn(e)===2?e.get(t):e[t]}function Kp(e,t,r){var n=bn(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function Gp(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function hu(e){return RS&&e instanceof Map}function gu(e){return AS&&e instanceof Set}function fr(e){return e.o||e.t}function mu(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Xp(e);delete t[Ae];for(var r=tn(t),n=0;n<r.length;n++){var i=r[n],a=t[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function so(e,t){return t===void 0&&(t=!1),vu(e)||Ot(e)||!Jt(e)||(bn(e)>1&&(e.set=e.add=e.clear=e.delete=xS),Object.freeze(e),t&&Dr(e,function(r,n){return so(n,!0)},!0)),e}function xS(){$t(2)}function vu(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function _t(e){var t=gl[e];return t||$t(18,e),t}function IS(e,t){gl[e]||(gl[e]=t)}function fl(){return Zn}function ss(e,t){t&&(_t("Patches"),e.u=[],e.s=[],e.v=t)}function Ea(e){pl(e),e.p.forEach(ES),e.p=null}function pl(e){e===Zn&&(Zn=e.l)}function qd(e){return Zn={p:[],l:Zn,h:e,m:!0,_:0}}function ES(e){var t=e[Ae];t.i===0||t.i===1?t.j():t.O=!0}function ls(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||_t("ES5").S(t,e,n),n?(r[Ae].P&&(Ea(t),$t(4)),Jt(e)&&(e=qa(t,e),t.l||Ra(t,e)),t.u&&_t("Patches").M(r[Ae].t,e,t.u,t.s)):e=qa(t,r,[]),Ea(t),t.u&&t.v(t.u,t.s),e!==Zp?e:void 0}function qa(e,t,r){if(vu(t))return t;var n=t[Ae];if(!n)return Dr(t,function(a,o){return Rd(e,n,t,a,o,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Ra(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=mu(n.k):n.o;Dr(n.i===3?new Set(i):i,function(a,o){return Rd(e,n,i,a,o,r)}),Ra(e,i,!1),r&&e.u&&_t("Patches").R(n,r,e.u,e.s)}return n.o}function Rd(e,t,r,n,i,a){if(Ot(i)){var o=qa(e,i,a&&t&&t.i!==3&&!en(t.D,n)?a.concat(n):void 0);if(Kp(r,n,o),!Ot(o))return;e.m=!1}if(Jt(i)&&!vu(i)){if(!e.h.F&&e._<1)return;qa(e,i),t&&t.A.l||Ra(e,i)}}function Ra(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&so(t,r)}function us(e,t){var r=e[Ae];return(r?fr(r):e)[t]}function Ad(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function nr(e){e.P||(e.P=!0,e.l&&nr(e.l))}function cs(e){e.o||(e.o=mu(e.t))}function hl(e,t,r){var n=hu(t)?_t("MapSet").N(t,r):gu(t)?_t("MapSet").T(t,r):e.g?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:fl(),P:!1,I:!1,D:{},l:a,t:i,k:null,o:null,j:null,C:!1},l=s,u=Xn;o&&(l=[s],u=Un);var d=Proxy.revocable(l,u),f=d.revoke,g=d.proxy;return s.k=g,s.j=f,g}(t,r):_t("ES5").J(t,r);return(r?r.A:fl()).p.push(n),n}function yu(e){return Ot(e)||$t(22,e),function t(r){if(!Jt(r))return r;var n,i=r[Ae],a=bn(r);if(i){if(!i.P&&(i.i<4||!_t("ES5").K(i)))return i.t;i.I=!0,n=Dd(r,a),i.I=!1}else n=Dd(r,a);return Dr(n,function(o,s){i&&OS(i.t,o)===s||Kp(n,o,t(s))}),a===3?new Set(n):n}(e)}function Dd(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return mu(e)}function qS(){function e(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var l=this[Ae];return Xn.get(l,a)},set:function(l){var u=this[Ae];Xn.set(u,a,l)}},s}function t(a){for(var o=a.length-1;o>=0;o--){var s=a[o][Ae];if(!s.P)switch(s.i){case 5:n(s)&&nr(s);break;case 4:r(s)&&nr(s)}}}function r(a){for(var o=a.t,s=a.k,l=tn(s),u=l.length-1;u>=0;u--){var d=l[u];if(d!==Ae){var f=o[d];if(f===void 0&&!en(o,d))return!0;var g=s[d],y=g&&g[Ae];if(y?y.t!==f:!Gp(g,f))return!0}}var m=!!o[Ae];return l.length!==tn(o).length+(m?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};IS("ES5",{J:function(a,o){var s=Array.isArray(a),l=function(d,f){if(d){for(var g=Array(f.length),y=0;y<f.length;y++)Object.defineProperty(g,""+y,e(y,!0));return g}var m=Xp(f);delete m[Ae];for(var c=tn(m),h=0;h<c.length;h++){var p=c[h];m[p]=e(p,d||!!m[p].enumerable)}return Object.create(Object.getPrototypeOf(f),m)}(s,a),u={i:s?5:4,A:o?o.A:fl(),P:!1,I:!1,D:{},l:o,t:a,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Ae,{value:u,writable:!0}),l},S:function(a,o,s){s?Ot(o)&&o[Ae].A===a&&t(a.p):(a.u&&function l(u){if(u&&typeof u=="object"){var d=u[Ae];if(d){var f=d.t,g=d.k,y=d.D,m=d.i;if(m===4)Dr(g,function(S){S!==Ae&&(f[S]!==void 0||en(f,S)?y[S]||l(g[S]):(y[S]=!0,nr(d)))}),Dr(f,function(S){g[S]!==void 0||en(g,S)||(y[S]=!1,nr(d))});else if(m===5){if(n(d)&&(nr(d),y.length=!0),g.length<f.length)for(var c=g.length;c<f.length;c++)y[c]=!1;else for(var h=f.length;h<g.length;h++)y[h]=!0;for(var p=Math.min(g.length,f.length),v=0;v<p;v++)g.hasOwnProperty(v)||(y[v]=!0),y[v]===void 0&&l(g[v])}}}}(a.p[0]),t(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var jd,Zn,bu=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",RS=typeof Map!="undefined",AS=typeof Set!="undefined",Td=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Zp=bu?Symbol.for("immer-nothing"):((jd={})["immer-nothing"]=!0,jd),Fd=bu?Symbol.for("immer-draftable"):"__$immer_draftable",Ae=bu?Symbol.for("immer-state"):"__$immer_state",DS=""+Object.prototype.constructor,tn=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Xp=Object.getOwnPropertyDescriptors||function(e){var t={};return tn(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},gl={},Xn={get:function(e,t){if(t===Ae)return e;var r=fr(e);if(!en(r,t))return function(i,a,o){var s,l=Ad(a,o);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Jt(n)?n:n===us(e.t,t)?(cs(e),e.o[t]=hl(e.A.h,n,e)):n},has:function(e,t){return t in fr(e)},ownKeys:function(e){return Reflect.ownKeys(fr(e))},set:function(e,t,r){var n=Ad(fr(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=us(fr(e),t),a=i==null?void 0:i[Ae];if(a&&a.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(Gp(r,i)&&(r!==void 0||en(e.t,t)))return!0;cs(e),nr(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return us(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,cs(e),nr(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=fr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){$t(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){$t(12)}},Un={};Dr(Xn,function(e,t){Un[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Un.deleteProperty=function(e,t){return Un.set.call(this,e,t,void 0)},Un.set=function(e,t,r){return Xn.set.call(this,e[0],t,r,e[0])};var jS=function(){function e(r){var n=this;this.g=Td,this.F=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var l=n;return function(c){var h=this;c===void 0&&(c=s);for(var p=arguments.length,v=Array(p>1?p-1:0),S=1;S<p;S++)v[S-1]=arguments[S];return l.produce(c,function(E){var D;return(D=a).call.apply(D,[h,E].concat(v))})}}var u;if(typeof a!="function"&&$t(6),o!==void 0&&typeof o!="function"&&$t(7),Jt(i)){var d=qd(n),f=hl(n,i,void 0),g=!0;try{u=a(f),g=!1}finally{g?Ea(d):pl(d)}return typeof Promise!="undefined"&&u instanceof Promise?u.then(function(c){return ss(d,o),ls(c,d)},function(c){throw Ea(d),c}):(ss(d,o),ls(u,d))}if(!i||typeof i!="object"){if((u=a(i))===void 0&&(u=i),u===Zp&&(u=void 0),n.F&&so(u,!0),o){var y=[],m=[];_t("Patches").M(i,u,y,m),o(y,m)}return u}$t(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(u){for(var d=arguments.length,f=Array(d>1?d-1:0),g=1;g<d;g++)f[g-1]=arguments[g];return n.produceWithPatches(u,function(y){return i.apply(void 0,[y].concat(f))})};var o,s,l=n.produce(i,a,function(u,d){o=u,s=d});return typeof Promise!="undefined"&&l instanceof Promise?l.then(function(u){return[u,o,s]}):[l,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Jt(r)||$t(8),Ot(r)&&(r=yu(r));var n=qd(this),i=hl(this,r,void 0);return i[Ae].C=!0,pl(n),i},t.finishDraft=function(r,n){var i=r&&r[Ae],a=i.A;return ss(a,n),ls(void 0,a)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!Td&&$t(20),this.g=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=_t("Patches").$;return Ot(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},e}(),wt=new jS,TS=wt.produce;wt.produceWithPatches.bind(wt);wt.setAutoFreeze.bind(wt);wt.setUseProxies.bind(wt);wt.applyPatches.bind(wt);wt.createDraft.bind(wt);wt.finishDraft.bind(wt);var lo=TS;Bp(Jp,Je(ao()));var Aa="NOT_FOUND";function FS(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:Aa},put:function(r,n){t={key:r,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function _S(e,t){var r=[];function n(s){var l=r.findIndex(function(d){return t(s,d.key)});if(l>-1){var u=r[l];return l>0&&(r.splice(l,1),r.unshift(u)),u.value}return Aa}function i(s,l){n(s)===Aa&&(r.unshift({key:s,value:l}),r.length>e&&r.pop())}function a(){return r}function o(){r=[]}return{get:n,put:i,getEntries:a,clear:o}}var PS=function(e,t){return e===t};function MS(e){return function(t,r){if(t===null||r===null||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}}function US(e,t){var r=typeof t=="object"?t:{equalityCheck:t},n=r.equalityCheck,i=n===void 0?PS:n,a=r.maxSize,o=a===void 0?1:a,s=r.resultEqualityCheck,l=MS(i),u=o===1?FS(l):_S(o,l);function d(){var f=u.get(arguments);if(f===Aa){if(f=e.apply(null,arguments),s){var g=u.getEntries(),y=g.find(function(m){return s(m.value,f)});y&&(f=y.value)}u.put(arguments,f)}return f}return d.clearCache=function(){return u.clear()},d}function LS(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(n){return typeof n=="function"})){var r=t.map(function(n){return typeof n=="function"?"function "+(n.name||"unnamed")+"()":typeof n}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}function VS(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=0,u,d={memoizeOptions:void 0},f=o.pop();if(typeof f=="object"&&(d=f,f=o.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var g=d,y=g.memoizeOptions,m=y===void 0?r:y,c=Array.isArray(m)?m:[m],h=LS(o),p=e.apply(void 0,[function(){return l++,f.apply(null,arguments)}].concat(c)),v=e(function(){for(var S=[],E=h.length,D=0;D<E;D++)S.push(h[D].apply(null,arguments));return u=p.apply(null,S),u});return Object.assign(v,{resultFunc:f,memoizedResultFunc:p,dependencies:h,lastResult:function(){return u},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),v};return i}var eh=VS(US),ta=Je(ao()),_d=Je(ao());function th(e){var t=function(r){var n=r.dispatch,i=r.getState;return function(a){return function(o){return typeof o=="function"?o(n,i,e):a(o)}}};return t}var rh=th();rh.withExtraArgument=th;var ml=rh,zS=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),si=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},vn=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},NS=Object.defineProperty,QS=Object.defineProperties,HS=Object.getOwnPropertyDescriptors,Pd=Object.getOwnPropertySymbols,BS=Object.prototype.hasOwnProperty,WS=Object.prototype.propertyIsEnumerable,Md=function(e,t,r){return t in e?NS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},ht=function(e,t){for(var r in t||(t={}))BS.call(t,r)&&Md(e,r,t[r]);if(Pd)for(var n=0,i=Pd(t);n<i.length;n++){var r=i[n];WS.call(t,r)&&Md(e,r,t[r])}return e},ds=function(e,t){return QS(e,HS(t))},li=function(e,t,r){return new Promise(function(n,i){var a=function(l){try{s(r.next(l))}catch(u){i(u)}},o=function(l){try{s(r.throw(l))}catch(u){i(u)}},s=function(l){return l.done?n(l.value):Promise.resolve(l.value).then(a,o)};s((r=r.apply(e,t)).next())})},Wt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=eh.apply(void 0,e),n=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return r.apply(void 0,vn([Ot(i)?yu(i):i],a))};return n},YS=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_d.compose:_d.compose.apply(null,arguments)};function uo(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var nh=function(e){zS(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,vn([void 0],r[0].concat(this)))):new(t.bind.apply(t,vn([void 0],r.concat(this))))},t}(Array);function vl(e){return Jt(e)?lo(e,function(){}):e}function JS(e){return typeof e!="object"||e==null||Object.isFrozen(e)}function KS(e){return function(){return function(t){return function(r){return t(r)}}}}function ih(e){var t=typeof e;return e==null||t==="string"||t==="boolean"||t==="number"||Array.isArray(e)||uo(e)}function ah(e,t,r,n,i){t===void 0&&(t=""),r===void 0&&(r=ih),i===void 0&&(i=[]);var a;if(!r(e))return{keyPath:t||"<root>",value:e};if(typeof e!="object"||e===null)return!1;for(var o=n!=null?n(e):Object.entries(e),s=i.length>0,l=0,u=o;l<u.length;l++){var d=u[l],f=d[0],g=d[1],y=t?t+"."+f:f;if(!(s&&i.indexOf(y)>=0)){if(!r(g))return{keyPath:y,value:g};if(typeof g=="object"&&(a=ah(g,y,r,n,i),a))return a}}return!1}function GS(e){return function(){return function(t){return function(r){return t(r)}}}}function ZS(e){return typeof e=="boolean"}function XS(){return function(e){return Su(e)}}function Su(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t,n=new nh;return r&&(ZS(r)?n.push(ml):n.push(ml.withExtraArgument(r.extraArgument))),n}var Ud=!0;function e1(e){var t=XS(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?t():a,s=r.devTools,l=s===void 0?!0:s,u=r.preloadedState,d=u===void 0?void 0:u,f=r.enhancers,g=f===void 0?void 0:f,y;if(typeof i=="function")y=i;else if(uo(i))y=(0,ta.combineReducers)(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=o;if(typeof m=="function"&&(m=m(t),!Ud))throw new Error("when using a middleware builder function, an array of middleware must be returned");var c=ta.applyMiddleware.apply(void 0,m),h=ta.compose;l&&(h=YS(ht({trace:!Ud},typeof l=="object"&&l)));var p=[c];Array.isArray(g)?p=vn([c],g):typeof g=="function"&&(p=g(p));var v=h.apply(void 0,p);return(0,ta.createStore)(y,d,v)}function F(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var a=t.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return ht(ht({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function t1(e){return uo(e)&&typeof e.type=="string"&&Object.keys(e).every(r1)}function r1(e){return["type","payload","error","meta"].indexOf(e)>-1}function n1(e){return""+e}function oh(e){var t={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(s in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return e(i),[t,r,n]}function i1(e){return typeof e=="function"}function ne(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?oh(t):[t,r,n],a=i[0],o=i[1],s=i[2],l;if(i1(e))l=function(){return vl(e())};else{var u=vl(e);l=function(){return u}}function d(f,g){f===void 0&&(f=l());var y=vn([a[g.type]],o.filter(function(m){var c=m.matcher;return c(g)}).map(function(m){var c=m.reducer;return c}));return y.filter(function(m){return!!m}).length===0&&(y=[s]),y.reduce(function(m,c){if(c)if(Ot(m)){var h=m,p=c(h,g);return p===void 0?m:p}else{if(Jt(m))return lo(m,function(S){return c(S,g)});var p=c(m,g);if(p===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}return m},f)}return d.getInitialState=l,d}function a1(e,t){return e+"/"+t}function o1(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r=typeof e.initialState=="function"?e.initialState:vl(e.initialState),n=e.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(d){var f=n[d],g=a1(t,d),y,m;"reducer"in f?(y=f.reducer,m=f.prepare):y=f,a[d]=y,o[g]=y,s[d]=m?F(g,m):F(g)});function l(){var d=typeof e.extraReducers=="function"?oh(e.extraReducers):[e.extraReducers],f=d[0],g=f===void 0?{}:f,y=d[1],m=y===void 0?[]:y,c=d[2],h=c===void 0?void 0:c,p=ht(ht({},g),o);return ne(r,p,m,h)}var u;return{name:t,reducer:function(d,f){return u||(u=l()),u(d,f)},actions:s,caseReducers:a,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}function s1(){return{ids:[],entities:{}}}function l1(){function e(t){return t===void 0&&(t={}),Object.assign(s1(),t)}return{getInitialState:e}}function u1(){function e(t){var r=function(u){return u.ids},n=function(u){return u.entities},i=Wt(r,n,function(u,d){return u.map(function(f){return d[f]})}),a=function(u,d){return d},o=function(u,d){return u[d]},s=Wt(r,function(u){return u.length});if(!t)return{selectIds:r,selectEntities:n,selectAll:i,selectTotal:s,selectById:Wt(n,a,o)};var l=Wt(t,n);return{selectIds:Wt(t,r),selectEntities:l,selectAll:Wt(t,i),selectTotal:Wt(t,s),selectById:Wt(l,a,o)}}return{getSelectors:e}}function c1(e){var t=ze(function(r,n){return e(n)});return function(r){return t(r,void 0)}}function ze(e){return function(t,r){function n(a){return t1(a)}var i=function(a){n(r)?e(r.payload,a):e(r,a)};return Ot(t)?(i(t),t):lo(t,i)}}function Nn(e,t){var r=t(e);return r}function Cr(e){return Array.isArray(e)||(e=Object.values(e)),e}function sh(e,t,r){e=Cr(e);for(var n=[],i=[],a=0,o=e;a<o.length;a++){var s=o[a],l=Nn(s,t);l in r.entities?i.push({id:l,changes:s}):n.push(s)}return[n,i]}function lh(e){function t(m,c){var h=Nn(m,e);h in c.entities||(c.ids.push(h),c.entities[h]=m)}function r(m,c){m=Cr(m);for(var h=0,p=m;h<p.length;h++){var v=p[h];t(v,c)}}function n(m,c){var h=Nn(m,e);h in c.entities||c.ids.push(h),c.entities[h]=m}function i(m,c){m=Cr(m);for(var h=0,p=m;h<p.length;h++){var v=p[h];n(v,c)}}function a(m,c){m=Cr(m),c.ids=[],c.entities={},r(m,c)}function o(m,c){return s([m],c)}function s(m,c){var h=!1;m.forEach(function(p){p in c.entities&&(delete c.entities[p],h=!0)}),h&&(c.ids=c.ids.filter(function(p){return p in c.entities}))}function l(m){Object.assign(m,{ids:[],entities:{}})}function u(m,c,h){var p=h.entities[c.id],v=Object.assign({},p,c.changes),S=Nn(v,e),E=S!==c.id;return E&&(m[c.id]=S,delete h.entities[c.id]),h.entities[S]=v,E}function d(m,c){return f([m],c)}function f(m,c){var h={},p={};m.forEach(function(E){E.id in c.entities&&(p[E.id]={id:E.id,changes:ht(ht({},p[E.id]?p[E.id].changes:null),E.changes)})}),m=Object.values(p);var v=m.length>0;if(v){var S=m.filter(function(E){return u(h,E,c)}).length>0;S&&(c.ids=Object.keys(c.entities))}}function g(m,c){return y([m],c)}function y(m,c){var h=sh(m,e,c),p=h[0],v=h[1];f(v,c),r(p,c)}return{removeAll:c1(l),addOne:ze(t),addMany:ze(r),setOne:ze(n),setMany:ze(i),setAll:ze(a),updateOne:ze(d),updateMany:ze(f),upsertOne:ze(g),upsertMany:ze(y),removeOne:ze(o),removeMany:ze(s)}}function d1(e,t){var r=lh(e),n=r.removeOne,i=r.removeMany,a=r.removeAll;function o(v,S){return s([v],S)}function s(v,S){v=Cr(v);var E=v.filter(function(D){return!(Nn(D,e)in S.entities)});E.length!==0&&h(E,S)}function l(v,S){return u([v],S)}function u(v,S){v=Cr(v),v.length!==0&&h(v,S)}function d(v,S){v=Cr(v),S.entities={},S.ids=[],s(v,S)}function f(v,S){return g([v],S)}function g(v,S){for(var E=!1,D=0,U=v;D<U.length;D++){var L=U[D],w=S.entities[L.id];if(w){E=!0,Object.assign(w,L.changes);var I=e(w);L.id!==I&&(delete S.entities[L.id],S.entities[I]=w)}}E&&p(S)}function y(v,S){return m([v],S)}function m(v,S){var E=sh(v,e,S),D=E[0],U=E[1];g(U,S),s(D,S)}function c(v,S){if(v.length!==S.length)return!1;for(var E=0;E<v.length&&E<S.length;E++)if(v[E]!==S[E])return!1;return!0}function h(v,S){v.forEach(function(E){S.entities[e(E)]=E}),p(S)}function p(v){var S=Object.values(v.entities);S.sort(t);var E=S.map(e),D=v.ids;c(D,E)||(v.ids=E)}return{removeOne:n,removeMany:i,removeAll:a,addOne:ze(o),updateOne:ze(f),upsertOne:ze(y),setOne:ze(l),setMany:ze(u),setAll:ze(d),addMany:ze(s),updateMany:ze(g),upsertMany:ze(m)}}function f1(e){e===void 0&&(e={});var t=ht({sortComparer:!1,selectId:function(s){return s.id}},e),r=t.selectId,n=t.sortComparer,i=l1(),a=u1(),o=n?d1(r,n):lh(r);return ht(ht(ht({selectId:r,sortComparer:n},i),a),o)}var p1="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wu=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=p1[Math.random()*64|0];return t},h1=["name","message","stack","code"],fs=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),Ld=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),uh=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=h1;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};function we(e,t,r){var n=F(e+"/fulfilled",function(l,u,d,f){return{payload:l,meta:ds(ht({},f||{}),{arg:d,requestId:u,requestStatus:"fulfilled"})}}),i=F(e+"/pending",function(l,u,d){return{payload:void 0,meta:ds(ht({},d||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),a=F(e+"/rejected",function(l,u,d,f,g){return{payload:f,error:(r&&r.serializeError||uh)(l||"Rejected"),meta:ds(ht({},g||{}),{arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),o=typeof AbortController!="undefined"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function s(l){return function(u,d,f){var g=r!=null&&r.idGenerator?r.idGenerator(l):wu(),y=new o,m,c=new Promise(function(S,E){return y.signal.addEventListener("abort",function(){return E({name:"AbortError",message:m||"Aborted"})})}),h=!1;function p(S){h&&(m=S,y.abort())}var v=function(){return li(this,null,function(){var S,E,D,U,L,w;return si(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),U=(S=r==null?void 0:r.condition)==null?void 0:S.call(r,l,{getState:d,extra:f}),g1(U)?[4,U]:[3,2];case 1:U=I.sent(),I.label=2;case 2:if(U===!1)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return h=!0,u(i(g,l,(E=r==null?void 0:r.getPendingMeta)==null?void 0:E.call(r,{requestId:g,arg:l},{getState:d,extra:f}))),[4,Promise.race([c,Promise.resolve(t(l,{dispatch:u,getState:d,extra:f,requestId:g,signal:y.signal,rejectWithValue:function(b,q){return new fs(b,q)},fulfillWithValue:function(b,q){return new Ld(b,q)}})).then(function(b){if(b instanceof fs)throw b;return b instanceof Ld?n(b.payload,g,l,b.meta):n(b,g,l)})])];case 3:return D=I.sent(),[3,5];case 4:return L=I.sent(),D=L instanceof fs?a(null,g,l,L.payload,L.meta):a(L,g,l),[3,5];case 5:return w=r&&!r.dispatchConditionRejection&&a.match(D)&&D.meta.condition,w||u(D),[2,D]}})})}();return Object.assign(v,{abort:p,requestId:g,arg:l,unwrap:function(){return v.then(ch)}})}}return Object.assign(s,{pending:i,rejected:a,fulfilled:n,typePrefix:e})}function ch(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function g1(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var m1=function(e){return e&&typeof e.match=="function"},dh=function(e,t){return m1(e)?e.match(t):e(t)};function ui(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return e.some(function(n){return dh(n,r)})}}function yl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return e.every(function(n){return dh(n,r)})}}function co(e,t){if(!e||!e.meta)return!1;var r=typeof e.meta.requestId=="string",n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function ci(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function fh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return co(r,["pending"])}:ci(e)?function(r){var n=e.map(function(a){return a.pending}),i=ui.apply(void 0,n);return i(r)}:fh()(e[0])}function Da(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return co(r,["rejected"])}:ci(e)?function(r){var n=e.map(function(a){return a.rejected}),i=ui.apply(void 0,n);return i(r)}:Da()(e[0])}function ph(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(n){return n&&n.meta&&n.meta.rejectedWithValue};return e.length===0?function(n){var i=yl(Da.apply(void 0,e),r);return i(n)}:ci(e)?function(n){var i=yl(Da.apply(void 0,e),r);return i(n)}:ph()(e[0])}function hh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return co(r,["fulfilled"])}:ci(e)?function(r){var n=e.map(function(a){return a.fulfilled}),i=ui.apply(void 0,n);return i(r)}:hh()(e[0])}function gh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return co(r,["pending","fulfilled","rejected"])}:ci(e)?function(r){for(var n=[],i=0,a=e;i<a.length;i++){var o=a[i];n.push(o.pending,o.rejected,o.fulfilled)}var s=ui.apply(void 0,n);return s(r)}:gh()(e[0])}var Cu=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},v1=function(){},$u=function(e,t){return t===void 0&&(t=v1),e.catch(t),e},mh=function(e,t){e.addEventListener("abort",t,{once:!0})},rn=function(e,t){var r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},y1="task",vh="listener",yh="completed",ku="cancelled",b1="task-"+ku,S1="task-"+yh,bh=vh+"-"+ku,w1=vh+"-"+yh,di=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=y1+" "+ku+" (reason: "+t+")"}return e}(),nn=function(e){if(e.aborted)throw new di(e.reason)},Sh=function(e){return $u(new Promise(function(t,r){var n=function(){return r(new di(e.reason))};e.aborted?n():mh(e,n)}))},C1=function(e,t){return li(void 0,null,function(){var r,n;return si(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return r=i.sent(),[2,{status:"ok",value:r}];case 3:return n=i.sent(),[2,{status:n instanceof di?"cancelled":"rejected",error:n}];case 4:return t==null||t(),[7];case 5:return[2]}})})},ja=function(e){return function(t){return $u(Promise.race([Sh(e),t]).then(function(r){return nn(e),r}))}},wh=function(e){var t=ja(e);return function(r){return t(new Promise(function(n){return setTimeout(n,r)}))}},$1=Object.assign,Vd={},fi="listenerMiddleware",k1=function(e){var t=function(r){return mh(e,function(){return rn(r,e.reason)})};return function(r){Cu(r,"taskExecutor");var n=new AbortController;t(n);var i=C1(function(){return li(void 0,null,function(){var a;return si(this,function(o){switch(o.label){case 0:return nn(e),nn(n.signal),[4,r({pause:ja(n.signal),delay:wh(n.signal),signal:n.signal})];case 1:return a=o.sent(),nn(n.signal),[2,a]}})})},function(){return rn(n,S1)});return{result:ja(e)(i),cancel:function(){rn(n,b1)}}}},O1=function(e,t){var r=function(n,i){return li(void 0,null,function(){var a,o,s,l;return si(this,function(u){switch(u.label){case 0:nn(t),a=function(){},o=new Promise(function(d){a=e({predicate:n,effect:function(f,g){g.unsubscribe(),d([f,g.getState(),g.getOriginalState()])}})}),s=[Sh(t),o],i!=null&&s.push(new Promise(function(d){return setTimeout(d,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,Promise.race(s)];case 2:return l=u.sent(),nn(t),[2,l];case 3:return a(),[7];case 4:return[2]}})})};return function(n,i){return $u(r(n,i))}},Ch=function(e){var t=e.type,r=e.actionCreator,n=e.matcher,i=e.predicate,a=e.effect;if(t)i=F(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Cu(a,"options.listener"),{predicate:i,type:t,effect:a}},x1=function(e){var t=Ch(e),r=t.type,n=t.predicate,i=t.effect,a=wu(),o={id:a,effect:i,type:r,predicate:n,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},I1=function(e){return function(){e.forEach(bl),e.clear()}},zd=function(e,t,r){try{e(t,r)}catch(n){setTimeout(function(){throw n},0)}},$h=F(fi+"/add"),kh=F(fi+"/removeAll"),Oh=F(fi+"/remove"),E1=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,vn([fi+"/error"],e))},bl=function(e){e.pending.forEach(function(t){rn(t,bh)})};function q1(e){var t=this;e===void 0&&(e={});var r=new Map,n=e.extra,i=e.onError,a=i===void 0?E1:i;Cu(a,"onError");var o=function(y){return y.unsubscribe=function(){return r.delete(y.id)},r.set(y.id,y),function(m){y.unsubscribe(),m!=null&&m.cancelActive&&bl(y)}},s=function(y){for(var m=0,c=Array.from(r.values());m<c.length;m++){var h=c[m];if(y(h))return h}},l=function(y){var m=s(function(c){return c.effect===y.effect});return m||(m=x1(y)),o(m)},u=function(y){var m=Ch(y),c=m.type,h=m.effect,p=m.predicate,v=s(function(S){var E=typeof c=="string"?S.type===c:S.predicate===p;return E&&S.effect===h});return v&&(v.unsubscribe(),y.cancelActive&&bl(v)),!!v},d=function(y,m,c,h){return li(t,null,function(){var p,v,S;return si(this,function(E){switch(E.label){case 0:p=new AbortController,v=O1(l,p.signal),E.label=1;case 1:return E.trys.push([1,3,4,5]),y.pending.add(p),[4,Promise.resolve(y.effect(m,$1({},c,{getOriginalState:h,condition:function(D,U){return v(D,U).then(Boolean)},take:v,delay:wh(p.signal),pause:ja(p.signal),extra:n,signal:p.signal,fork:k1(p.signal),unsubscribe:y.unsubscribe,subscribe:function(){r.set(y.id,y)},cancelActiveListeners:function(){y.pending.forEach(function(D,U,L){D!==p&&(rn(D,bh),L.delete(D))})}})))];case 2:return E.sent(),[3,5];case 3:return S=E.sent(),S instanceof di||zd(a,S,{raisedBy:"effect"}),[3,5];case 4:return rn(p,w1),y.pending.delete(p),[7];case 5:return[2]}})})},f=I1(r),g=function(y){return function(m){return function(c){if($h.match(c))return l(c.payload);if(kh.match(c)){f();return}if(Oh.match(c))return u(c.payload);var h=y.getState(),p=function(){if(h===Vd)throw new Error(fi+": getOriginalState can only be called synchronously");return h},v;try{if(v=m(c),r.size>0)for(var S=y.getState(),E=Array.from(r.values()),D=0,U=E;D<U.length;D++){var L=U[D],w=!1;try{w=L.predicate(c,S,h)}catch(I){w=!1,zd(a,I,{raisedBy:"predicate"})}!w||d(L,c,y,p)}}finally{h=Vd}return v}}};return{middleware:g,startListening:l,stopListening:u,clearListeners:f}}qS();var R1=Je(oo()),A1=Je(aS());function D1(e,t){let r=`
  The following properties are invalid:

    ${e.join(`
	`)}

  ${t}
  `;return new Ou(r)}var Ou=class extends Error{constructor(e){super(e),this.name="SchemaValidationError"}},xu=class{constructor(e){this.definition=e}validate(e={},t=""){let r={...this.default,...e},n=[];for(let i in this.definition){let a=this.definition[i].validate(r[i]);a&&n.push(`${i}: ${a}`)}if(n.length)throw D1(n,t);return r}get default(){let e={};for(let t in this.definition){let r=this.definition[t].default;r!==void 0&&(e[t]=r)}return e}},ct=class{constructor(e={}){this.baseConfig=e}validate(e){return this.baseConfig.required&&Se(e)?"value is required.":null}get default(){return this.baseConfig.default instanceof Function?this.baseConfig.default():this.baseConfig.default}get required(){return this.baseConfig.required===!0}};function lt(e){return e===void 0}function j1(e){return e===null}function Se(e){return lt(e)||j1(e)}var he=class{constructor(e={}){this.config=e,this.value=new ct(e)}validate(e){return this.value.validate(e)||(T1(e)?e<this.config.min?`minimum value of ${this.config.min} not respected.`:e>this.config.max?`maximum value of ${this.config.max} not respected.`:null:"value is not a number.")}get default(){return this.value.default}get required(){return this.value.required}};function T1(e){return lt(e)||xh(e)}function xh(e){return typeof e=="number"&&!isNaN(e)}var Fe=class{constructor(e={}){this.value=new ct(e)}validate(e){return this.value.validate(e)||(F1(e)?null:"value is not a boolean.")}get default(){return this.value.default}get required(){return this.value.required}};function F1(e){return lt(e)||Ih(e)}function Ih(e){return typeof e=="boolean"}var _1=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i,le=class{constructor(e={}){this.config={emptyAllowed:!0,url:!1,...e},this.value=new ct(this.config)}validate(e){let{emptyAllowed:t,url:r,regex:n,constrainTo:i}=this.config;return this.value.validate(e)||(lt(e)?null:Iu(e)?!t&&!e.length?"value is an empty string.":r&&!_1.test(e)?"value is not a valid URL.":n&&!n.test(e)?`value did not match provided regex ${n}`:i&&!i.includes(e)?`value should be one of: ${i.join(", ")}.`:null:"value is not a string.")}get default(){return this.value.default}get required(){return this.value.required}};function Iu(e){return Object.prototype.toString.call(e)==="[object String]"}var ge=class{constructor(e={}){this.config={options:{required:!1},values:{},...e}}validate(e){if(lt(e))return this.config.options.required?"value is required and is currently undefined":null;if(!Eh(e))return"value is not an object";for(let[r,n]of Object.entries(this.config.values))if(n.required&&Se(e[r]))return`value does not contain ${r}`;let t="";for(let[r,n]of Object.entries(this.config.values)){let i=e[r],a=n.validate(i);a!==null&&(t+=" "+a)}return t===""?null:t}get default(){}get required(){return!!this.config.options.required}};function Eh(e){return e!==void 0&&typeof e=="object"}var Qe=class{constructor(e={}){this.config=e,this.value=new ct(this.config)}validate(e){if(!Se(e)&&!Array.isArray(e))return"value is not an array";let t=this.value.validate(e);if(t!==null)return t;if(Se(e))return null;if(this.config.max!==void 0&&e.length>this.config.max)return`value contains more than ${this.config.max}`;if(this.config.min!==void 0&&e.length<this.config.min)return`value contains less than ${this.config.min}`;if(this.config.each!==void 0){let r="";return e.forEach(n=>{this.config.each.required&&Se(n)&&(r=`value is null or undefined: ${e.join(",")}`);let i=this.validatePrimitiveValue(n,this.config.each);i!==null&&(r+=" "+i)}),r===""?null:r}return null}validatePrimitiveValue(e,t){return Ih(e)||Iu(e)||xh(e)||Eh(e)?t.validate(e):"value is not a primitive value"}get default(){}get required(){return this.value.required}};function qh(e){return Array.isArray(e)}var Rh=class{constructor(e){this.config=e,this.value=new ct(e)}validate(e){let t=this.value.validate(e);return t!==null?t:lt(e)||Object.values(this.config.enum).find(r=>r===e)?null:"value is not in enum."}get default(){return this.value.default}get required(){return this.value.required}};function pr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function P(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})}var je;(function(e){e.search="search",e.click="click",e.custom="custom",e.view="view",e.collect="collect"})(je||(je={}));function P1(){return typeof window!="undefined"}function Eu(){return typeof navigator!="undefined"}function Ah(){return typeof document!="undefined"}function Sl(){try{return typeof localStorage!="undefined"}catch(e){return!1}}function M1(){try{return typeof sessionStorage!="undefined"}catch(e){return!1}}function Dh(){return Eu()&&navigator.cookieEnabled}function U1(){return typeof crypto!="undefined"}function L1(){return U1()&&typeof crypto.getRandomValues!="undefined"}var V1=[je.click,je.custom,je.search,je.view],z1=(e,t)=>V1.indexOf(e)!==-1?Object.assign({language:Ah()?document.documentElement.lang:"unknown",userAgent:Eu()?navigator.userAgent:"unknown"},t):t,an=class{static set(e,t,r){var n,i,a,o,s;r?(a=new Date,a.setTime(a.getTime()+r),o="; expires="+a.toGMTString()):o="",s=window.location.hostname,s.indexOf(".")===-1?document.cookie=e+"="+t+o+"; path=/":(i=s.split("."),i.shift(),n="."+i.join("."),Nd({name:e,value:t,expires:o,domain:n}),(an.get(e)==null||an.get(e)!=t)&&(n="."+s,Nd({name:e,value:t,expires:o,domain:n})))}static get(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){var i=r[n];if(i=i.replace(/^\s+/,""),i.indexOf(t)==0)return i.substring(t.length,i.length)}return null}static erase(e){an.set(e,"",-1)}};function Nd(e){let{name:t,value:r,expires:n,domain:i}=e;document.cookie=`${t}=${r}${n}; path=/; domain=${i}; SameSite=Lax`}function N1(){return Sl()?localStorage:Dh()?new on:M1()?sessionStorage:new pi}var on=class{getItem(e){return an.get(`${on.prefix}${e}`)}removeItem(e){an.erase(`${on.prefix}${e}`)}setItem(e,t){an.set(`${on.prefix}${e}`,t)}};on.prefix="coveo_";var Q1=class{constructor(){this.cookieStorage=new on}getItem(e){return localStorage.getItem(e)||this.cookieStorage.getItem(e)}removeItem(e){this.cookieStorage.removeItem(e),localStorage.removeItem(e)}setItem(e,t){localStorage.setItem(e,t),this.cookieStorage.setItem(e,t)}},pi=class{getItem(e){return null}removeItem(e){}setItem(e,t){}},Ln="__coveo.analytics.history",jh=20,Th=1e3*60,Fh=75,Ta=class{constructor(e){this.store=e||N1()}addElement(e){e.internalTime=new Date().getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e));let t=this.getHistoryWithInternalTime();t!=null?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])}addElementAsync(e){return P(this,void 0,void 0,function*(){e.internalTime=new Date().getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e));let t=yield this.getHistoryWithInternalTimeAsync();t!=null?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])})}getHistory(){let e=this.getHistoryWithInternalTime();return this.stripEmptyQueries(this.stripInternalTime(e))}getHistoryAsync(){return P(this,void 0,void 0,function*(){let e=yield this.getHistoryWithInternalTimeAsync();return this.stripEmptyQueries(this.stripInternalTime(e))})}getHistoryWithInternalTime(){try{let e=this.store.getItem(Ln);return e&&typeof e=="string"?JSON.parse(e):[]}catch(e){return[]}}getHistoryWithInternalTimeAsync(){return P(this,void 0,void 0,function*(){try{let e=yield this.store.getItem(Ln);return e?JSON.parse(e):[]}catch(e){return[]}})}setHistory(e){try{this.store.setItem(Ln,JSON.stringify(e.slice(0,jh)))}catch(t){}}clear(){try{this.store.removeItem(Ln)}catch(e){}}getMostRecentElement(){let e=this.getHistoryWithInternalTime();return e!=null?e.sort((t,r)=>(r.internalTime||0)-(t.internalTime||0))[0]:null}cropQueryElement(e){return e.name&&e.value&&e.name.toLowerCase()==="query"&&(e.value=e.value.slice(0,Fh)),e}isValidEntry(e){let t=this.getMostRecentElement();return t&&t.value==e.value?(e.internalTime||0)-(t.internalTime||0)>Th:!0}stripInternalTime(e){return e.map(t=>{let{name:r,time:n,value:i}=t;return{name:r,time:n,value:i}})}stripEmptyQuery(e){let{name:t,time:r,value:n}=e;return t&&typeof n=="string"&&t.toLowerCase()==="query"&&n.trim()===""?{name:t,time:r}:e}stripEmptyQueries(e){return e.map(t=>this.stripEmptyQuery(t))}},_h=Object.freeze({__proto__:null,STORE_KEY:Ln,MAX_NUMBER_OF_HISTORY_ELEMENTS:jh,MIN_THRESHOLD_FOR_DUPLICATE_VALUE:Th,MAX_VALUE_SIZE:Fh,HistoryStore:Ta,default:Ta}),H1=(e,t)=>P(void 0,void 0,void 0,function*(){return e===je.view?(yield B1(t.contentIdValue),Object.assign({location:window.location.toString(),referrer:document.referrer,title:document.title},t)):t}),B1=e=>P(void 0,void 0,void 0,function*(){let t=new Ta,r={name:"PageView",value:e,time:JSON.stringify(new Date)};yield t.addElementAsync(r)}),ca=e=>e?(Number(e)^W1(new Uint8Array(1))[0]%16>>Number(e)/4).toString(16):("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,ca),W1=e=>{if(L1())return crypto.getRandomValues(e);for(var t=0,r=0;t<e.length;t++)!(t&3)&&(r=Math.random()*4294967296),e[t]=r>>>((t&3)<<3)&255;return e},At=Object.keys,Qd={id:"svc_ticket_id",subject:"svc_ticket_subject",description:"svc_ticket_description",category:"svc_ticket_category",productId:"svc_ticket_product_id",custom:"svc_ticket_custom"},Y1=At(Qd).map(e=>Qd[e]),J1=[...Y1].join("|"),K1=new RegExp(`^(${J1}$)`),G1={svcAction:"svc_action",svcActionData:"svc_action_data"},Z1=e=>K1.test(e),X1=[Z1],Hd={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",price:"pr",quantity:"qt",coupon:"cc",position:"ps",group:"group"},Bd={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",group:"group"},ot={action:"pa",list:"pal",listSource:"pls"},Fa={id:"ti",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",affiliation:"ta",step:"cos",option:"col"},ew=["loyaltyCardId","loyaltyTier","thirdPartyPersona","companyName","favoriteStore","storeName","userIndustry","userRole","userDepartment","businessUnit"],wl={id:"quoteId",affiliation:"quoteAffiliation"},Cl={id:"reviewId",rating:"reviewRating",comment:"reviewComment"},tw={add:ot,bookmark_add:ot,bookmark_remove:ot,click:ot,checkout:ot,checkout_option:ot,detail:ot,impression:ot,remove:ot,refund:Object.assign(Object.assign({},ot),Fa),purchase:Object.assign(Object.assign({},ot),Fa),quickview:ot,quote:Object.assign(Object.assign({},ot),wl),review:Object.assign(Object.assign({},ot),Cl)},rw=At(Hd).map(e=>Hd[e]),nw=At(Bd).map(e=>Bd[e]),iw=At(ot).map(e=>ot[e]),aw=At(Fa).map(e=>Fa[e]),ow=At(Cl).map(e=>Cl[e]),sw=At(wl).map(e=>wl[e]),lw=[...rw,"custom"].join("|"),uw=[...nw,"custom"].join("|"),Ph="(pr[0-9]+)",Mh="(il[0-9]+pi[0-9]+)",cw=new RegExp(`^${Ph}(${lw})$`),dw=new RegExp(`^(${Mh}(${uw}))|(il[0-9]+nm)$`),fw=new RegExp(`^(${iw.join("|")})$`),pw=new RegExp(`^(${aw.join("|")})$`),hw=new RegExp(`^${Ph}custom$`),gw=new RegExp(`^${Mh}custom$`),mw=new RegExp(`^(${[...ew,...ow,...sw].join("|")})$`),vw=e=>cw.test(e),yw=e=>dw.test(e),bw=e=>fw.test(e),Sw=e=>pw.test(e),ww=e=>mw.test(e),Cw=[yw,vw,bw,Sw,ww],$w=[hw,gw],kw={anonymizeIp:"aip"},Ow={eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",page:"dp",visitorId:"cid",clientId:"cid",userId:"uid",currencyCode:"cu"},xw={hitType:"t",pageViewId:"pid",encoding:"de",location:"dl",referrer:"dr",screenColor:"sd",screenResolution:"sr",title:"dt",userAgent:"ua",language:"ul",eventId:"z",time:"tm"},Iw=["contentId","contentIdKey","contentType","searchHub","tab","searchUid","permanentId","contentLocale"],Ew=Object.assign(Object.assign(Object.assign(Object.assign({},kw),Ow),xw),Iw.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:t}),{})),$l=Object.assign(Object.assign({},Ew),G1),qw=e=>{let t=!!e.action&&tw[e.action]||{};return At(e).reduce((r,n)=>{let i=t[n]||$l[n]||n;return Object.assign(Object.assign({},r),{[i]:e[n]})},{})},Rw=At($l).map(e=>$l[e]),Aw=e=>Rw.indexOf(e)!==-1,Dw=e=>e==="custom",jw=e=>[...Cw,...X1,Aw,Dw].some(t=>t(e)),Tw=e=>At(e).reduce((t,r)=>{let n=Fw(r);return n?Object.assign(Object.assign({},t),_w(n,e[r])):Object.assign(Object.assign({},t),{[r]:e[r]})},{}),Fw=e=>{let t;return[...$w].every(r=>{var n;return t=(n=r.exec(e))===null||n===void 0?void 0:n[1],!t}),t},_w=(e,t)=>At(t).reduce((r,n)=>Object.assign(Object.assign({},r),{[`${e}${n}`]:t[n]}),{}),Pw=class{constructor(e){this.opts=e}sendEvent(e,t){return P(this,void 0,void 0,function*(){if(!navigator.sendBeacon)throw new Error('navigator.sendBeacon is not supported in this browser. Consider adding a polyfill like "sendbeacon-polyfill".');let{baseUrl:r,preprocessRequest:n}=this.opts,i=this.encodeForEventType(e,t),a=yield this.getQueryParamsForEventType(e),o={url:`${r}/analytics/${e}?${a}`,body:new Blob([i],{type:"application/x-www-form-urlencoded"})},{url:s,body:l}=Object.assign(Object.assign({},o),n?yield n(o,"analyticsBeacon"):{});console.log(`Sending beacon for "${e}" with: `,JSON.stringify(t)),navigator.sendBeacon(s,l)})}deleteHttpCookieVisitorId(){return Promise.resolve()}encodeForEventType(e,t){return this.isEventTypeLegacy(e)?this.encodeForLegacyType(e,t):this.encodeForFormUrlEncoded(Object.assign({access_token:this.opts.token},t))}getQueryParamsForEventType(e){return P(this,void 0,void 0,function*(){let{token:t,visitorIdProvider:r}=this.opts,n=yield r.getCurrentVisitorId();return[t&&this.isEventTypeLegacy(e)?`access_token=${t}`:"",n?`visitorId=${n}`:"","discardVisitInfo=true"].filter(i=>!!i).join("&")})}isEventTypeLegacy(e){return[je.click,je.custom,je.search,je.view].indexOf(e)!==-1}encodeForLegacyType(e,t){return`${e}Event=${encodeURIComponent(JSON.stringify(t))}`}encodeForFormUrlEncoded(e){return Object.keys(e).filter(t=>!!e[t]).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(this.encodeValue(e[t]))}`).join("&")}encodeValue(e){return typeof e=="number"||typeof e=="string"||typeof e=="boolean"?e:JSON.stringify(e)}},Mw=class{sendEvent(e,t){return P(this,void 0,void 0,function*(){return Promise.resolve()})}deleteHttpCookieVisitorId(){return P(this,void 0,void 0,function*(){return Promise.resolve()})}},Wd=window.fetch,Uh=class{constructor(e){this.opts=e}sendEvent(e,t){return P(this,void 0,void 0,function*(){let{baseUrl:r,visitorIdProvider:n,preprocessRequest:i}=this.opts,a=this.shouldAppendVisitorId(e)?yield this.getVisitorIdParam():"",o={url:`${r}/analytics/${e}${a}`,credentials:"include",mode:"cors",headers:this.getHeaders(),method:"POST",body:JSON.stringify(t)},s=Object.assign(Object.assign({},o),i?yield i(o,"analyticsFetch"):{}),{url:l}=s,u=pr(s,["url"]),d=yield Wd(l,u);if(d.ok){let f=yield d.json();return f.visitorId&&n.setCurrentVisitorId(f.visitorId),f}else{try{d.json()}catch(f){}throw console.error(`An error has occured when sending the "${e}" event.`,d,t),new Error(`An error has occurred when sending the "${e}" event. Check the console logs for more details.`)}})}deleteHttpCookieVisitorId(){return P(this,void 0,void 0,function*(){let{baseUrl:e}=this.opts,t=`${e}/analytics/visit`;yield Wd(t,{headers:this.getHeaders(),method:"DELETE"})})}shouldAppendVisitorId(e){return[je.click,je.custom,je.search,je.view].indexOf(e)!==-1}getVisitorIdParam(){return P(this,void 0,void 0,function*(){let{visitorIdProvider:e}=this.opts,t=yield e.getCurrentVisitorId();return t?`?visitor=${t}`:""})}getHeaders(){let{token:e}=this.opts;return Object.assign(Object.assign({},e?{Authorization:`Bearer ${e}`}:{}),{"Content-Type":"application/json"})}},Uw=class{constructor(e,t){Sl()&&Dh()?this.storage=new Q1:Sl()?this.storage=localStorage:(console.warn("BrowserRuntime detected no valid storage available.",this),this.storage=new pi),this.client=new Uh(e),this.beaconClient=new Pw(e),window.addEventListener("beforeunload",()=>{let r=t();for(let{eventType:n,payload:i}of r)this.beaconClient.sendEvent(n,i)})}},Lw=class{constructor(e,t){this.storage=t||new pi,this.client=new Uh(e)}},Vw=class{constructor(){this.storage=new pi,this.client=new Mw}},zw="xx",Nw=e=>(e==null?void 0:e.startsWith(zw))||!1,Qw=`
        We've detected you're using React Native but have not provided the corresponding runtime,
        for an optimal experience please use the "coveo.analytics/react-native" subpackage.
        Follow the Readme on how to set it up: https://github.com/coveo/coveo.analytics.js#using-react-native
    `;function Hw(){return typeof navigator!="undefined"&&navigator.product=="ReactNative"}var Bw=["1",1,"yes",!0];function Lh(){return Eu()&&[navigator.globalPrivacyControl,navigator.doNotTrack,navigator.msDoNotTrack,window.doNotTrack].some(e=>Bw.indexOf(e)!==-1)}var Vh="v15",zh={default:"https://analytics.cloud.coveo.com/rest/ua",production:"https://analytics.cloud.coveo.com/rest/ua",hipaa:"https://analyticshipaa.cloud.coveo.com/rest/ua"};function Ww(e=zh.default,t=Vh){let r=e.indexOf(".cloud.coveo.com")!==-1;return`${e}${r?"":"/rest"}/${t}`}var Kr=class{constructor(e){if(!e)throw new Error("You have to pass options to this constructor");this.options=Object.assign(Object.assign({},this.defaultOptions),e),this.visitorId="",this.bufferedRequests=[],this.beforeSendHooks=[H1,z1].concat(this.options.beforeSendHooks),this.afterSendHooks=this.options.afterSendHooks,this.eventTypeMapping={};let t={baseUrl:this.baseUrl,token:this.options.token,visitorIdProvider:this,preprocessRequest:this.options.preprocessRequest};this.runtime=this.options.runtimeEnvironment||this.initRuntime(t),Lh()&&(this.clear(),this.runtime.storage=new pi)}get defaultOptions(){return{endpoint:zh.default,token:"",version:Vh,beforeSendHooks:[],afterSendHooks:[]}}initRuntime(e){return P1()&&Ah()?new Uw(e,()=>{let t=[...this.bufferedRequests];return this.bufferedRequests=[],t}):(Hw()&&console.warn(Qw),new Lw(e))}get storage(){return this.runtime.storage}determineVisitorId(){return P(this,void 0,void 0,function*(){try{return(yield this.storage.getItem("visitorId"))||ca()}catch(e){return console.log("Could not get visitor ID from the current runtime environment storage. Using a random ID instead.",e),ca()}})}getCurrentVisitorId(){return P(this,void 0,void 0,function*(){if(!this.visitorId){let e=yield this.determineVisitorId();yield this.setCurrentVisitorId(e)}return this.visitorId})}setCurrentVisitorId(e){return P(this,void 0,void 0,function*(){this.visitorId=e,yield this.storage.setItem("visitorId",e)})}getParameters(e,...t){return P(this,void 0,void 0,function*(){return yield this.resolveParameters(e,...t)})}getPayload(e,...t){return P(this,void 0,void 0,function*(){let r=yield this.resolveParameters(e,...t);return yield this.resolvePayloadForParameters(e,r)})}get currentVisitorId(){return typeof(this.visitorId||this.storage.getItem("visitorId"))!="string"&&this.setCurrentVisitorId(ca()),this.visitorId}set currentVisitorId(e){this.visitorId=e,this.storage.setItem("visitorId",e)}resolveParameters(e,...t){return P(this,void 0,void 0,function*(){let{variableLengthArgumentsNames:r=[],addVisitorIdParameter:n=!1,usesMeasurementProtocol:i=!1,addClientIdParameter:a=!1}=this.eventTypeMapping[e]||{};return yield[o=>r.length>0?this.parseVariableArgumentsPayload(r,o):o[0],o=>P(this,void 0,void 0,function*(){return Object.assign(Object.assign({},o),{visitorId:n?yield this.getCurrentVisitorId():""})}),o=>P(this,void 0,void 0,function*(){return a?Object.assign(Object.assign({},o),{clientId:yield this.getCurrentVisitorId()}):o}),o=>i?this.ensureAnonymousUserWhenUsingApiKey(o):o,o=>this.beforeSendHooks.reduce((s,l)=>P(this,void 0,void 0,function*(){let u=yield s;return yield l(e,u)}),o)].reduce((o,s)=>P(this,void 0,void 0,function*(){let l=yield o;return yield s(l)}),Promise.resolve(t))})}resolvePayloadForParameters(e,t){return P(this,void 0,void 0,function*(){let{usesMeasurementProtocol:r=!1}=this.eventTypeMapping[e]||{};return yield[n=>this.removeEmptyPayloadValues(n,e),n=>this.validateParams(n),n=>r?qw(n):n,n=>r?this.removeUnknownParameters(n):n,n=>r?this.processCustomParameters(n):n].reduce((n,i)=>P(this,void 0,void 0,function*(){let a=yield n;return yield i(a)}),Promise.resolve(t))})}makeEvent(e,...t){return P(this,void 0,void 0,function*(){let{newEventType:r=e}=this.eventTypeMapping[e]||{},n=yield this.resolveParameters(e,...t),i=yield this.resolvePayloadForParameters(e,n);return{eventType:r,payload:i,log:a=>P(this,void 0,void 0,function*(){return this.bufferedRequests.push({eventType:r,payload:Object.assign(Object.assign({},i),a)}),yield Promise.all(this.afterSendHooks.map(o=>o(e,Object.assign(Object.assign({},n),a)))),yield this.deferExecution(),yield this.sendFromBufferWithFetch()})}})}sendEvent(e,...t){return P(this,void 0,void 0,function*(){return(yield this.makeEvent(e,...t)).log({})})}deferExecution(){return new Promise(e=>setTimeout(e,0))}sendFromBufferWithFetch(){return P(this,void 0,void 0,function*(){let e=this.bufferedRequests.shift();if(e){let{eventType:t,payload:r}=e;return this.runtime.client.sendEvent(t,r)}})}clear(){this.storage.removeItem("visitorId"),new Ta().clear()}deleteHttpOnlyVisitorId(){this.runtime.client.deleteHttpCookieVisitorId()}makeSearchEvent(e){return P(this,void 0,void 0,function*(){return this.makeEvent(je.search,e)})}sendSearchEvent(e){var{searchQueryUid:t}=e,r=pr(e,["searchQueryUid"]);return P(this,void 0,void 0,function*(){return(yield this.makeSearchEvent(r)).log({searchQueryUid:t})})}makeClickEvent(e){return P(this,void 0,void 0,function*(){return this.makeEvent(je.click,e)})}sendClickEvent(e){var{searchQueryUid:t}=e,r=pr(e,["searchQueryUid"]);return P(this,void 0,void 0,function*(){return(yield this.makeClickEvent(r)).log({searchQueryUid:t})})}makeCustomEvent(e){return P(this,void 0,void 0,function*(){return this.makeEvent(je.custom,e)})}sendCustomEvent(e){var{lastSearchQueryUid:t}=e,r=pr(e,["lastSearchQueryUid"]);return P(this,void 0,void 0,function*(){return(yield this.makeCustomEvent(r)).log({lastSearchQueryUid:t})})}makeViewEvent(e){return P(this,void 0,void 0,function*(){return this.makeEvent(je.view,e)})}sendViewEvent(e){return P(this,void 0,void 0,function*(){return(yield this.makeViewEvent(e)).log({})})}getVisit(){return P(this,void 0,void 0,function*(){let e=yield(yield fetch(`${this.baseUrl}/analytics/visit`)).json();return this.visitorId=e.visitorId,e})}getHealth(){return P(this,void 0,void 0,function*(){return yield(yield fetch(`${this.baseUrl}/analytics/monitoring/health`)).json()})}registerBeforeSendEventHook(e){this.beforeSendHooks.push(e)}registerAfterSendEventHook(e){this.afterSendHooks.push(e)}addEventTypeMapping(e,t){this.eventTypeMapping[e]=t}parseVariableArgumentsPayload(e,t){let r={};for(let n=0,i=t.length;n<i;n++){let a=t[n];if(typeof a=="string")r[e[n]]=a;else if(typeof a=="object")return Object.assign(Object.assign({},r),a)}return r}isKeyAllowedEmpty(e,t){return({[je.search]:["queryText"]}[e]||[]).indexOf(t)!==-1}removeEmptyPayloadValues(e,t){let r=n=>typeof n!="undefined"&&n!==null&&n!=="";return Object.keys(e).filter(n=>this.isKeyAllowedEmpty(t,n)||r(e[n])).reduce((n,i)=>Object.assign(Object.assign({},n),{[i]:e[i]}),{})}removeUnknownParameters(e){return Object.keys(e).filter(t=>{if(jw(t))return!0;console.log(t,"is not processed by coveoua")}).reduce((t,r)=>Object.assign(Object.assign({},t),{[r]:e[r]}),{})}processCustomParameters(e){let{custom:t}=e,r=pr(e,["custom"]),n=this.lowercaseKeys(t),i=Tw(r);return Object.assign(Object.assign({},n),i)}lowercaseKeys(e){return Object.keys(e||{}).reduce((t,r)=>Object.assign(Object.assign({},t),{[r.toLowerCase()]:e[r]}),{})}validateParams(e){let{anonymizeIp:t}=e,r=pr(e,["anonymizeIp"]);return t!==void 0&&["0","false","undefined","null","{}","[]",""].indexOf(`${t}`.toLowerCase())==-1&&(r.anonymizeIp=1),r}ensureAnonymousUserWhenUsingApiKey(e){let{userId:t}=e,r=pr(e,["userId"]);return Nw(this.options.token)&&!t?(r.userId="anonymous",r):e}get baseUrl(){return Ww(this.options.endpoint,this.options.version)}},kl;(function(e){e.contextChanged="contextChanged",e.expandToFullUI="expandToFullUI"})(kl||(kl={}));var V;(function(e){e.interfaceLoad="interfaceLoad",e.interfaceChange="interfaceChange",e.didyoumeanAutomatic="didyoumeanAutomatic",e.didyoumeanClick="didyoumeanClick",e.resultsSort="resultsSort",e.searchboxSubmit="searchboxSubmit",e.searchboxClear="searchboxClear",e.searchboxAsYouType="searchboxAsYouType",e.breadcrumbFacet="breadcrumbFacet",e.breadcrumbResetAll="breadcrumbResetAll",e.documentQuickview="documentQuickview",e.documentOpen="documentOpen",e.omniboxAnalytics="omniboxAnalytics",e.omniboxFromLink="omniboxFromLink",e.searchFromLink="searchFromLink",e.triggerNotify="notify",e.triggerExecute="execute",e.triggerQuery="query",e.undoTriggerQuery="undoQuery",e.triggerRedirect="redirect",e.pagerResize="pagerResize",e.pagerNumber="pagerNumber",e.pagerNext="pagerNext",e.pagerPrevious="pagerPrevious",e.pagerScrolling="pagerScrolling",e.staticFilterClearAll="staticFilterClearAll",e.staticFilterSelect="staticFilterSelect",e.staticFilterDeselect="staticFilterDeselect",e.facetClearAll="facetClearAll",e.facetSearch="facetSearch",e.facetSelect="facetSelect",e.facetSelectAll="facetSelectAll",e.facetDeselect="facetDeselect",e.facetExclude="facetExclude",e.facetUnexclude="facetUnexclude",e.facetUpdateSort="facetUpdateSort",e.facetShowMore="showMoreFacetResults",e.facetShowLess="showLessFacetResults",e.queryError="query",e.queryErrorBack="errorBack",e.queryErrorClear="errorClearQuery",e.queryErrorRetry="errorRetry",e.recommendation="recommendation",e.recommendationInterfaceLoad="recommendationInterfaceLoad",e.recommendationOpen="recommendationOpen",e.likeSmartSnippet="likeSmartSnippet",e.dislikeSmartSnippet="dislikeSmartSnippet",e.expandSmartSnippet="expandSmartSnippet",e.collapseSmartSnippet="collapseSmartSnippet",e.openSmartSnippetFeedbackModal="openSmartSnippetFeedbackModal",e.closeSmartSnippetFeedbackModal="closeSmartSnippetFeedbackModal",e.sendSmartSnippetReason="sendSmartSnippetReason",e.expandSmartSnippetSuggestion="expandSmartSnippetSuggestion",e.collapseSmartSnippetSuggestion="collapseSmartSnippetSuggestion",e.showMoreSmartSnippetSuggestion="showMoreSmartSnippetSuggestion",e.showLessSmartSnippetSuggestion="showLessSmartSnippetSuggestion",e.openSmartSnippetSource="openSmartSnippetSource",e.openSmartSnippetSuggestionSource="openSmartSnippetSuggestionSource",e.openSmartSnippetInlineLink="openSmartSnippetInlineLink",e.openSmartSnippetSuggestionInlineLink="openSmartSnippetSuggestionInlineLink",e.recentQueryClick="recentQueriesClick",e.clearRecentQueries="clearRecentQueries",e.recentResultClick="recentResultClick",e.clearRecentResults="clearRecentResults",e.noResultsBack="noResultsBack",e.showMoreFoldedResults="showMoreFoldedResults",e.showLessFoldedResults="showLessFoldedResults",e.copyToClipboard="copyToClipboard",e.caseAttach="caseAttach",e.caseDetach="caseDetach"})(V||(V={}));var Yd={[V.triggerNotify]:"queryPipelineTriggers",[V.triggerExecute]:"queryPipelineTriggers",[V.triggerQuery]:"queryPipelineTriggers",[V.triggerRedirect]:"queryPipelineTriggers",[V.queryError]:"errors",[V.queryErrorBack]:"errors",[V.queryErrorClear]:"errors",[V.queryErrorRetry]:"errors",[V.pagerNext]:"getMoreResults",[V.pagerPrevious]:"getMoreResults",[V.pagerNumber]:"getMoreResults",[V.pagerResize]:"getMoreResults",[V.pagerScrolling]:"getMoreResults",[V.facetSearch]:"facet",[V.facetShowLess]:"facet",[V.facetShowMore]:"facet",[V.recommendation]:"recommendation",[V.likeSmartSnippet]:"smartSnippet",[V.dislikeSmartSnippet]:"smartSnippet",[V.expandSmartSnippet]:"smartSnippet",[V.collapseSmartSnippet]:"smartSnippet",[V.openSmartSnippetFeedbackModal]:"smartSnippet",[V.closeSmartSnippetFeedbackModal]:"smartSnippet",[V.sendSmartSnippetReason]:"smartSnippet",[V.expandSmartSnippetSuggestion]:"smartSnippetSuggestions",[V.collapseSmartSnippetSuggestion]:"smartSnippetSuggestions",[V.showMoreSmartSnippetSuggestion]:"smartSnippetSuggestions",[V.showLessSmartSnippetSuggestion]:"smartSnippetSuggestions",[V.clearRecentQueries]:"recentQueries",[V.recentResultClick]:"recentlyClickedDocuments",[V.clearRecentResults]:"recentlyClickedDocuments",[V.showLessFoldedResults]:"folding",[kl.expandToFullUI]:"interface",[V.caseDetach]:"case"},Jd=class{constructor(){this.runtime=new Vw,this.currentVisitorId=""}getPayload(){return Promise.resolve()}getParameters(){return Promise.resolve()}makeEvent(e){return Promise.resolve({eventType:e,payload:null,log:()=>Promise.resolve()})}sendEvent(){return Promise.resolve()}makeSearchEvent(){return this.makeEvent(je.search)}sendSearchEvent(){return Promise.resolve()}makeClickEvent(){return this.makeEvent(je.click)}sendClickEvent(){return Promise.resolve()}makeCustomEvent(){return this.makeEvent(je.custom)}sendCustomEvent(){return Promise.resolve()}makeViewEvent(){return this.makeEvent(je.view)}sendViewEvent(){return Promise.resolve()}getVisit(){return Promise.resolve({id:"",visitorId:""})}getHealth(){return Promise.resolve({status:""})}registerBeforeSendEventHook(){}registerAfterSendEventHook(){}addEventTypeMapping(){}};function Yw(e){let t="";return e.filter(r=>{let n=r!==t;return t=r,n})}function Jw(e){return e.map(t=>t.replace(/;/g,""))}function Nh(e){let t=256,r=e.join(";");return r.length<=t?r:Nh(e.slice(1))}var Kd=e=>{let t=Jw(e),r=Yw(t);return Nh(r)};function Gd(e){let t=typeof e.partialQueries=="string"?e.partialQueries:Kd(e.partialQueries),r=typeof e.suggestions=="string"?e.suggestions:Kd(e.suggestions);return Object.assign(Object.assign({},e),{partialQueries:t,suggestions:r})}var Kw=class{constructor(e,t){this.opts=e,this.provider=t;let r=e.enableAnalytics===!1||Lh();this.coveoAnalyticsClient=r?new Jd:new Kr(e)}disable(){this.coveoAnalyticsClient instanceof Kr&&this.coveoAnalyticsClient.clear(),this.coveoAnalyticsClient=new Jd}enable(){this.coveoAnalyticsClient=new Kr(this.opts)}makeInterfaceLoad(){return this.makeSearchEvent(V.interfaceLoad)}logInterfaceLoad(){return P(this,void 0,void 0,function*(){return(yield this.makeInterfaceLoad()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendationInterfaceLoad(){return this.makeSearchEvent(V.recommendationInterfaceLoad)}logRecommendationInterfaceLoad(){return P(this,void 0,void 0,function*(){return(yield this.makeRecommendationInterfaceLoad()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendation(){return this.makeCustomEvent(V.recommendation)}logRecommendation(){return P(this,void 0,void 0,function*(){return(yield this.makeRecommendation()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendationOpen(e,t){return this.makeClickEvent(V.recommendationOpen,e,t)}logRecommendationOpen(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeRecommendationOpen(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterClearAll(e){return this.makeSearchEvent(V.staticFilterClearAll,e)}logStaticFilterClearAll(e){return P(this,void 0,void 0,function*(){return(yield this.makeStaticFilterClearAll(e)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterSelect(e){return this.makeSearchEvent(V.staticFilterSelect,e)}logStaticFilterSelect(e){return P(this,void 0,void 0,function*(){return(yield this.makeStaticFilterSelect(e)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterDeselect(e){return this.makeSearchEvent(V.staticFilterDeselect,e)}logStaticFilterDeselect(e){return P(this,void 0,void 0,function*(){return(yield this.makeStaticFilterDeselect(e)).log({searchUID:this.provider.getSearchUID()})})}makeFetchMoreResults(){return this.makeCustomEvent(V.pagerScrolling,{type:"getMoreResults"})}logFetchMoreResults(){return P(this,void 0,void 0,function*(){return(yield this.makeFetchMoreResults()).log({searchUID:this.provider.getSearchUID()})})}makeInterfaceChange(e){return this.makeSearchEvent(V.interfaceChange,e)}logInterfaceChange(e){return P(this,void 0,void 0,function*(){return(yield this.makeInterfaceChange(e)).log({searchUID:this.provider.getSearchUID()})})}makeDidYouMeanAutomatic(){return this.makeSearchEvent(V.didyoumeanAutomatic)}logDidYouMeanAutomatic(){return P(this,void 0,void 0,function*(){return(yield this.makeDidYouMeanAutomatic()).log({searchUID:this.provider.getSearchUID()})})}makeDidYouMeanClick(){return this.makeSearchEvent(V.didyoumeanClick)}logDidYouMeanClick(){return P(this,void 0,void 0,function*(){return(yield this.makeDidYouMeanClick()).log({searchUID:this.provider.getSearchUID()})})}makeResultsSort(e){return this.makeSearchEvent(V.resultsSort,e)}logResultsSort(e){return P(this,void 0,void 0,function*(){return(yield this.makeResultsSort(e)).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxSubmit(){return this.makeSearchEvent(V.searchboxSubmit)}logSearchboxSubmit(){return P(this,void 0,void 0,function*(){return(yield this.makeSearchboxSubmit()).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxClear(){return this.makeSearchEvent(V.searchboxClear)}logSearchboxClear(){return P(this,void 0,void 0,function*(){return(yield this.makeSearchboxClear()).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxAsYouType(){return this.makeSearchEvent(V.searchboxAsYouType)}logSearchboxAsYouType(){return P(this,void 0,void 0,function*(){return(yield this.makeSearchboxAsYouType()).log({searchUID:this.provider.getSearchUID()})})}makeBreadcrumbFacet(e){return this.makeSearchEvent(V.breadcrumbFacet,e)}logBreadcrumbFacet(e){return P(this,void 0,void 0,function*(){return(yield this.makeBreadcrumbFacet(e)).log({searchUID:this.provider.getSearchUID()})})}makeBreadcrumbResetAll(){return this.makeSearchEvent(V.breadcrumbResetAll)}logBreadcrumbResetAll(){return P(this,void 0,void 0,function*(){return(yield this.makeBreadcrumbResetAll()).log({searchUID:this.provider.getSearchUID()})})}makeDocumentQuickview(e,t){return this.makeClickEvent(V.documentQuickview,e,t)}logDocumentQuickview(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeDocumentQuickview(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeDocumentOpen(e,t){return this.makeClickEvent(V.documentOpen,e,t)}logDocumentOpen(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeDocumentOpen(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOmniboxAnalytics(e){return this.makeSearchEvent(V.omniboxAnalytics,Gd(e))}logOmniboxAnalytics(e){return P(this,void 0,void 0,function*(){return(yield this.makeOmniboxAnalytics(e)).log({searchUID:this.provider.getSearchUID()})})}makeOmniboxFromLink(e){return this.makeSearchEvent(V.omniboxFromLink,Gd(e))}logOmniboxFromLink(e){return P(this,void 0,void 0,function*(){return(yield this.makeOmniboxFromLink(e)).log({searchUID:this.provider.getSearchUID()})})}makeSearchFromLink(){return this.makeSearchEvent(V.searchFromLink)}logSearchFromLink(){return P(this,void 0,void 0,function*(){return(yield this.makeSearchFromLink()).log({searchUID:this.provider.getSearchUID()})})}makeTriggerNotify(e){return this.makeCustomEvent(V.triggerNotify,e)}logTriggerNotify(e){return P(this,void 0,void 0,function*(){return(yield this.makeTriggerNotify(e)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerExecute(e){return this.makeCustomEvent(V.triggerExecute,e)}logTriggerExecute(e){return P(this,void 0,void 0,function*(){return(yield this.makeTriggerExecute(e)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerQuery(){return this.makeCustomEvent(V.triggerQuery,{query:this.provider.getSearchEventRequestPayload().queryText},"queryPipelineTriggers")}logTriggerQuery(){return P(this,void 0,void 0,function*(){return(yield this.makeTriggerQuery()).log({searchUID:this.provider.getSearchUID()})})}makeUndoTriggerQuery(e){return this.makeSearchEvent(V.undoTriggerQuery,e)}logUndoTriggerQuery(e){return P(this,void 0,void 0,function*(){return(yield this.makeUndoTriggerQuery(e)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerRedirect(e){return this.makeCustomEvent(V.triggerRedirect,Object.assign(Object.assign({},e),{query:this.provider.getSearchEventRequestPayload().queryText}))}logTriggerRedirect(e){return P(this,void 0,void 0,function*(){return(yield this.makeTriggerRedirect(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerResize(e){return this.makeCustomEvent(V.pagerResize,e)}logPagerResize(e){return P(this,void 0,void 0,function*(){return(yield this.makePagerResize(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerNumber(e){return this.makeCustomEvent(V.pagerNumber,e)}logPagerNumber(e){return P(this,void 0,void 0,function*(){return(yield this.makePagerNumber(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerNext(e){return this.makeCustomEvent(V.pagerNext,e)}logPagerNext(e){return P(this,void 0,void 0,function*(){return(yield this.makePagerNext(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerPrevious(e){return this.makeCustomEvent(V.pagerPrevious,e)}logPagerPrevious(e){return P(this,void 0,void 0,function*(){return(yield this.makePagerPrevious(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerScrolling(){return this.makeCustomEvent(V.pagerScrolling)}logPagerScrolling(){return P(this,void 0,void 0,function*(){return(yield this.makePagerScrolling()).log({searchUID:this.provider.getSearchUID()})})}makeFacetClearAll(e){return this.makeSearchEvent(V.facetClearAll,e)}logFacetClearAll(e){return P(this,void 0,void 0,function*(){return(yield this.makeFacetClearAll(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSearch(e){return this.makeSearchEvent(V.facetSearch,e)}logFacetSearch(e){return P(this,void 0,void 0,function*(){return(yield this.makeFacetSearch(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSelect(e){return this.makeSearchEvent(V.facetSelect,e)}logFacetSelect(e){return P(this,void 0,void 0,function*(){return(yield this.makeFacetSelect(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetDeselect(e){return this.makeSearchEvent(V.facetDeselect,e)}logFacetDeselect(e){return P(this,void 0,void 0,function*(){return(yield this.makeFacetDeselect(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetExclude(e){return this.makeSearchEvent(V.facetExclude,e)}logFacetExclude(e){return P(this,void 0,void 0,function*(){return(yield this.makeFacetExclude(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetUnexclude(e){return this.makeSearchEvent(V.facetUnexclude,e)}logFacetUnexclude(e){return P(this,void 0,void 0,function*(){return(yield this.makeFacetUnexclude(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSelectAll(e){return this.makeSearchEvent(V.facetSelectAll,e)}logFacetSelectAll(e){return P(this,void 0,void 0,function*(){return(yield this.makeFacetSelectAll(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetUpdateSort(e){return this.makeSearchEvent(V.facetUpdateSort,e)}logFacetUpdateSort(e){return P(this,void 0,void 0,function*(){return(yield this.makeFacetUpdateSort(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetShowMore(e){return this.makeCustomEvent(V.facetShowMore,e)}logFacetShowMore(e){return P(this,void 0,void 0,function*(){return(yield this.makeFacetShowMore(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetShowLess(e){return this.makeCustomEvent(V.facetShowLess,e)}logFacetShowLess(e){return P(this,void 0,void 0,function*(){return(yield this.makeFacetShowLess(e)).log({searchUID:this.provider.getSearchUID()})})}makeQueryError(e){return this.makeCustomEvent(V.queryError,e)}logQueryError(e){return P(this,void 0,void 0,function*(){return(yield this.makeQueryError(e)).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorBack(){return P(this,void 0,void 0,function*(){let e=yield this.makeCustomEvent(V.queryErrorBack);return{description:e.description,log:()=>P(this,void 0,void 0,function*(){return yield e.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(V.queryErrorBack)})}})}logQueryErrorBack(){return P(this,void 0,void 0,function*(){return(yield this.makeQueryErrorBack()).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorRetry(){return P(this,void 0,void 0,function*(){let e=yield this.makeCustomEvent(V.queryErrorRetry);return{description:e.description,log:()=>P(this,void 0,void 0,function*(){return yield e.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(V.queryErrorRetry)})}})}logQueryErrorRetry(){return P(this,void 0,void 0,function*(){return(yield this.makeQueryErrorRetry()).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorClear(){return P(this,void 0,void 0,function*(){let e=yield this.makeCustomEvent(V.queryErrorClear);return{description:e.description,log:()=>P(this,void 0,void 0,function*(){return yield e.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(V.queryErrorClear)})}})}logQueryErrorClear(){return P(this,void 0,void 0,function*(){return(yield this.makeQueryErrorClear()).log({searchUID:this.provider.getSearchUID()})})}makeLikeSmartSnippet(){return this.makeCustomEvent(V.likeSmartSnippet)}logLikeSmartSnippet(){return P(this,void 0,void 0,function*(){return(yield this.makeLikeSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeDislikeSmartSnippet(){return this.makeCustomEvent(V.dislikeSmartSnippet)}logDislikeSmartSnippet(){return P(this,void 0,void 0,function*(){return(yield this.makeDislikeSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeExpandSmartSnippet(){return this.makeCustomEvent(V.expandSmartSnippet)}logExpandSmartSnippet(){return P(this,void 0,void 0,function*(){return(yield this.makeExpandSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeCollapseSmartSnippet(){return this.makeCustomEvent(V.collapseSmartSnippet)}logCollapseSmartSnippet(){return P(this,void 0,void 0,function*(){return(yield this.makeCollapseSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetFeedbackModal(){return this.makeCustomEvent(V.openSmartSnippetFeedbackModal)}logOpenSmartSnippetFeedbackModal(){return P(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetFeedbackModal()).log({searchUID:this.provider.getSearchUID()})})}makeCloseSmartSnippetFeedbackModal(){return this.makeCustomEvent(V.closeSmartSnippetFeedbackModal)}logCloseSmartSnippetFeedbackModal(){return P(this,void 0,void 0,function*(){return(yield this.makeCloseSmartSnippetFeedbackModal()).log({searchUID:this.provider.getSearchUID()})})}makeSmartSnippetFeedbackReason(e,t){return this.makeCustomEvent(V.sendSmartSnippetReason,{reason:e,details:t})}logSmartSnippetFeedbackReason(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeSmartSnippetFeedbackReason(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeExpandSmartSnippetSuggestion(e){return this.makeCustomEvent(V.expandSmartSnippetSuggestion,"documentId"in e?e:{documentId:e})}logExpandSmartSnippetSuggestion(e){return P(this,void 0,void 0,function*(){return(yield this.makeExpandSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeCollapseSmartSnippetSuggestion(e){return this.makeCustomEvent(V.collapseSmartSnippetSuggestion,"documentId"in e?e:{documentId:e})}logCollapseSmartSnippetSuggestion(e){return P(this,void 0,void 0,function*(){return(yield this.makeCollapseSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeShowMoreSmartSnippetSuggestion(e){return this.makeCustomEvent(V.showMoreSmartSnippetSuggestion,e)}logShowMoreSmartSnippetSuggestion(e){return P(this,void 0,void 0,function*(){return(yield this.makeShowMoreSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeShowLessSmartSnippetSuggestion(e){return this.makeCustomEvent(V.showLessSmartSnippetSuggestion,e)}logShowLessSmartSnippetSuggestion(e){return P(this,void 0,void 0,function*(){return(yield this.makeShowLessSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSource(e,t){return this.makeClickEvent(V.openSmartSnippetSource,e,t)}logOpenSmartSnippetSource(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSource(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSuggestionSource(e,t){return this.makeClickEvent(V.openSmartSnippetSuggestionSource,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},t)}makeCopyToClipboard(e,t){return this.makeClickEvent(V.copyToClipboard,e,t)}logCopyToClipboard(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeCopyToClipboard(e,t)).log({searchUID:this.provider.getSearchUID()})})}logOpenSmartSnippetSuggestionSource(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSuggestionSource(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetInlineLink(e,t){return this.makeClickEvent(V.openSmartSnippetInlineLink,e,{contentIDKey:t.contentIDKey,contentIDValue:t.contentIDValue},t)}logOpenSmartSnippetInlineLink(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetInlineLink(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSuggestionInlineLink(e,t){return this.makeClickEvent(V.openSmartSnippetSuggestionInlineLink,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},t)}logOpenSmartSnippetSuggestionInlineLink(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSuggestionInlineLink(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeRecentQueryClick(){return this.makeSearchEvent(V.recentQueryClick)}logRecentQueryClick(){return P(this,void 0,void 0,function*(){return(yield this.makeRecentQueryClick()).log({searchUID:this.provider.getSearchUID()})})}makeClearRecentQueries(){return this.makeCustomEvent(V.clearRecentQueries)}logClearRecentQueries(){return P(this,void 0,void 0,function*(){return(yield this.makeClearRecentQueries()).log({searchUID:this.provider.getSearchUID()})})}makeRecentResultClick(e,t){return this.makeCustomEvent(V.recentResultClick,{info:e,identifier:t})}logRecentResultClick(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeRecentResultClick(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeClearRecentResults(){return this.makeCustomEvent(V.clearRecentResults)}logClearRecentResults(){return P(this,void 0,void 0,function*(){return(yield this.makeClearRecentResults()).log({searchUID:this.provider.getSearchUID()})})}makeNoResultsBack(){return this.makeSearchEvent(V.noResultsBack)}logNoResultsBack(){return P(this,void 0,void 0,function*(){return(yield this.makeNoResultsBack()).log({searchUID:this.provider.getSearchUID()})})}makeShowMoreFoldedResults(e,t){return this.makeClickEvent(V.showMoreFoldedResults,e,t)}logShowMoreFoldedResults(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeShowMoreFoldedResults(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeShowLessFoldedResults(){return this.makeCustomEvent(V.showLessFoldedResults)}logShowLessFoldedResults(){return P(this,void 0,void 0,function*(){return(yield this.makeShowLessFoldedResults()).log({searchUID:this.provider.getSearchUID()})})}makeEventDescription(e,t){var r;return{actionCause:t,customData:(r=e.payload)===null||r===void 0?void 0:r.customData}}makeCustomEvent(e,t,r=Yd[e]){return P(this,void 0,void 0,function*(){let n=Object.assign(Object.assign({},this.provider.getBaseMetadata()),t),i=Object.assign(Object.assign({},yield this.getBaseEventRequest(n)),{eventType:r,eventValue:e}),a=yield this.coveoAnalyticsClient.makeCustomEvent(i);return{description:this.makeEventDescription(a,e),log:({searchUID:o})=>a.log({lastSearchQueryUid:o})}})}logCustomEvent(e,t,r=Yd[e]){return P(this,void 0,void 0,function*(){return(yield this.makeCustomEvent(e,t,r)).log({searchUID:this.provider.getSearchUID()})})}makeCustomEventWithType(e,t,r){return P(this,void 0,void 0,function*(){let n=Object.assign(Object.assign({},this.provider.getBaseMetadata()),r),i=Object.assign(Object.assign({},yield this.getBaseEventRequest(n)),{eventType:t,eventValue:e}),a=yield this.coveoAnalyticsClient.makeCustomEvent(i);return{description:this.makeEventDescription(a,e),log:({searchUID:o})=>a.log({lastSearchQueryUid:o})}})}logCustomEventWithType(e,t,r){return P(this,void 0,void 0,function*(){return(yield this.makeCustomEventWithType(e,t,r)).log({searchUID:this.provider.getSearchUID()})})}logSearchEvent(e,t){return P(this,void 0,void 0,function*(){return(yield this.makeSearchEvent(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeSearchEvent(e,t){return P(this,void 0,void 0,function*(){let r=yield this.getBaseSearchEventRequest(e,t),n=yield this.coveoAnalyticsClient.makeSearchEvent(r);return{description:this.makeEventDescription(n,e),log:({searchUID:i})=>n.log({searchQueryUid:i})}})}makeClickEvent(e,t,r,n){return P(this,void 0,void 0,function*(){let i=Object.assign(Object.assign(Object.assign({},t),yield this.getBaseEventRequest(Object.assign(Object.assign({},r),n))),{queryPipeline:this.provider.getPipeline(),actionCause:e}),a=yield this.coveoAnalyticsClient.makeClickEvent(i);return{description:this.makeEventDescription(a,e),log:({searchUID:o})=>a.log({searchQueryUid:o})}})}logClickEvent(e,t,r,n){return P(this,void 0,void 0,function*(){return(yield this.makeClickEvent(e,t,r,n)).log({searchUID:this.provider.getSearchUID()})})}getBaseSearchEventRequest(e,t){return P(this,void 0,void 0,function*(){return Object.assign(Object.assign(Object.assign({},yield this.getBaseEventRequest(t)),this.provider.getSearchEventRequestPayload()),{queryPipeline:this.provider.getPipeline(),actionCause:e})})}getBaseEventRequest(e){return P(this,void 0,void 0,function*(){let t=Object.assign(Object.assign({},this.provider.getBaseMetadata()),e);return Object.assign(Object.assign(Object.assign({},this.getOrigins()),this.getSplitTestRun()),{customData:t,language:this.provider.getLanguage(),facetState:this.provider.getFacetState?this.provider.getFacetState():[],anonymous:this.provider.getIsAnonymous(),clientId:yield this.getClientId()})})}getOrigins(){var e,t;return{originContext:(t=(e=this.provider).getOriginContext)===null||t===void 0?void 0:t.call(e),originLevel1:this.provider.getOriginLevel1(),originLevel2:this.provider.getOriginLevel2(),originLevel3:this.provider.getOriginLevel3()}}getClientId(){return this.coveoAnalyticsClient instanceof Kr?this.coveoAnalyticsClient.getCurrentVisitorId():void 0}getSplitTestRun(){let e=this.provider.getSplitTestRunName?this.provider.getSplitTestRunName():"",t=this.provider.getSplitTestRunVersion?this.provider.getSplitTestRunVersion():"";return Object.assign(Object.assign({},e&&{splitTestRunName:e}),t&&{splitTestRunVersion:t})}},Gw={pageview:"pageview",event:"event"},Zd=Object.assign({},Gw);Object.keys(Zd).map(e=>Zd[e]);var Xd;(function(e){e.click="click",e.flowStart="flowStart"})(Xd||(Xd={}));var ef;(function(e){e.enterInterface="ticket_create_start",e.fieldUpdate="ticket_field_update",e.fieldSuggestionClick="ticket_classification_click",e.suggestionClick="suggestion_click",e.suggestionRate="suggestion_rate",e.nextCaseStep="ticket_next_stage",e.caseCancelled="ticket_cancel",e.caseSolved="ticket_cancel",e.caseCreated="ticket_create"})(ef||(ef={}));var tf;(function(e){e.quit="Quit",e.solved="Solved"})(tf||(tf={}));function ei(e){if(!e)return{parents:[],values:[]};let t=[],r=e;for(;r.length&&r[0].children.length;)t=[...t,...r],r=r[0].children;let n=r.find(i=>i.state==="selected");return n&&(t=[...t,n],r=[]),{parents:t,values:r}}var Zw=(e,t)=>{var r;return(r=e.categoryFacetSet[t])==null?void 0:r.request},Qh=(e,t)=>{let r=Zw(e,t);return ei(r==null?void 0:r.currentValues).parents};function hi(){return{}}function Xw(e){return{request:e}}function gi(){return{}}function eC(e){return{request:e}}function mi(){return{}}function tC(e){return{request:e,hasBreadcrumbs:!0}}function vi(){return{}}function rC(e){return{facetSet:e.facetSet||vi(),categoryFacetSet:e.categoryFacetSet||hi(),dateFacetSet:e.dateFacetSet||gi(),numericFacetSet:e.numericFacetSet||mi()}}var nC=e=>{let t=[];return oC(e).forEach((r,n)=>{let i=hC(e,r.facetId),a=fC(r,n+1);if(aC(r)){if(!Qh(e,r.facetId).length)return;t.push({...a,...dC(e,r.facetId),facetType:i,state:"selected"});return}r.currentValues.forEach((o,s)=>{if(o.state==="idle")return;let l=sC(o,s+1,i),u=iC(r)?uC(o):lC(o);t.push({...a,...l,...u})})}),t},iC=e=>e.type==="specific",aC=e=>e.type==="hierarchical",oC=e=>[...Object.values(e.facetSet),...Object.values(e.categoryFacetSet),...Object.values(e.dateFacetSet),...Object.values(e.numericFacetSet)].map(t=>t.request),sC=(e,t,r)=>({state:e.state,valuePosition:t,facetType:r}),lC=e=>({displayValue:`${e.start}..${e.end}`,value:`${e.start}..${e.end}`,start:e.start,end:e.end,endInclusive:e.endInclusive}),uC=e=>({displayValue:e.value,value:e.value}),cC=(e,t)=>Qh(e,t).map(r=>r.value).join(";"),dC=(e,t)=>{let r=1,n=cC(e,t);return{value:n,valuePosition:r,displayValue:n}},fC=(e,t)=>({title:`${e.field}_${e.facetId}`,field:e.field,id:e.facetId,facetPosition:t}),pC=(e,t)=>{var r,n,i,a;return((r=e.facetSet[t])==null?void 0:r.request)||((n=e.categoryFacetSet[t])==null?void 0:n.request)||((i=e.dateFacetSet[t])==null?void 0:i.request)||((a=e.numericFacetSet[t])==null?void 0:a.request)},hC=(e,t)=>{let r=pC(e,t);return r?r.type:"specific"},Tr=()=>({q:"",enableQuerySyntax:!1});function _a(){return{answerSnippet:"",documentId:{contentIdKey:"",contentIdValue:""},question:"",relatedQuestions:[],score:0}}function $r(){return{response:{results:[],searchUid:"",totalCountFiltered:0,facets:[],queryCorrections:[],triggers:[],questionAnswer:_a(),pipeline:"",splitTestRun:"",termsToHighlight:{}},duration:0,queryExecuted:"",error:null,automaticallyCorrected:!1,isLoading:!1,results:[],searchResponseId:"",requestId:"",questionAnswer:_a()}}var Fr=()=>"default",Hh="2.8.10",gC=e=>{let t=e.configuration.search.locale.split("-")[0];return!t||t.length!==2?"en":t},qu=class{constructor(e){this.getState=e,this.state=e()}getLanguage(){return gC(this.state)}getBaseMetadata(){let{context:e}=this.state,t=(e==null?void 0:e.contextValues)||{},r={};for(let[n,i]of Object.entries(t)){let a=`context_${n}`;r[a]=i}return r.coveoHeadlessVersion=Hh,r}getOriginContext(){return this.state.configuration.analytics.originContext}getOriginLevel1(){return this.state.searchHub||Fr()}getOriginLevel2(){return this.state.configuration.analytics.originLevel2}getOriginLevel3(){return this.state.configuration.analytics.originLevel3}getIsAnonymous(){return this.state.configuration.analytics.anonymous}},Ol=class extends qu{getFacetState(){return nC(rC(this.getState()))}getPipeline(){var e;return this.state.pipeline||((e=this.state.search)==null?void 0:e.response.pipeline)||Ol.fallbackPipelineName}getSearchEventRequestPayload(){return{queryText:this.queryText,responseTime:this.responseTime,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults}}getSearchUID(){var e,t;let r=this.getState();return((e=r.search)==null?void 0:e.searchResponseId)||((t=r.search)==null?void 0:t.response.searchUid)||$r().response.searchUid}getSplitTestRunName(){var e;return(e=this.state.search)==null?void 0:e.response.splitTestRun}getSplitTestRunVersion(){var e;let t=!!this.getSplitTestRunName(),r=((e=this.state.search)==null?void 0:e.response.pipeline)||this.state.pipeline||Ol.fallbackPipelineName;return t?r:void 0}mapResultsToAnalyticsDocument(){var e;return(e=this.state.search)==null?void 0:e.response.results.map(t=>({documentUri:t.uri,documentUriHash:t.raw.urihash}))}get queryText(){var e;return((e=this.state.query)==null?void 0:e.q)||Tr().q}get responseTime(){var e;return((e=this.state.search)==null?void 0:e.duration)||$r().duration}get numberOfResults(){var e;return((e=this.state.search)==null?void 0:e.response.totalCountFiltered)||$r().response.totalCountFiltered}},fo=Ol;fo.fallbackPipelineName="default";var mC=({logger:e,getState:t,analyticsClientMiddleware:r=(a,o)=>o,preprocessRequest:n,provider:i=new fo(t)})=>{let a=t(),o=a.configuration.accessToken,s=a.configuration.analytics.apiBaseUrl,l=a.configuration.analytics.runtimeEnvironment,u=a.configuration.analytics.enabled,d=new Kw({token:o,endpoint:s,runtimeEnvironment:l,preprocessRequest:n,beforeSendHooks:[r,(f,g)=>(e.info({...g,type:f,endpoint:s,token:o},"Analytics request"),g)]},i);return u||d.disable(),d},Mt=e=>new Kr(e).getCurrentVisitorId(),rf=e=>{let t=new Kr(e);t.clear(),t.deleteHttpOnlyVisitorId()},Sn=new _h.HistoryStore,nf=()=>{let e=Sn.getHistory().reverse().find(t=>t.name==="PageView"&&t.value);return e?e.value:""};function hr(e){let{url:t,accessToken:r,organizationId:n,authentication:i,...a}=e;return a}var gr=e=>{let{response:t}=e;return t.body?vC(e):yC(t)},vC=e=>SC(e)?wC(e):bC(e)?e.body:{message:"unknown",statusCode:0,type:"unknown"},yC=e=>{let t=JSON.parse(JSON.stringify(e,Object.getOwnPropertyNames(e)));return{...t,message:`Client side error: ${t.message||""}`,statusCode:400,type:"ClientError"}};function bC(e){return e.body.statusCode!==void 0}function SC(e){return e.body.exception!==void 0}var wC=e=>({message:e.body.exception.code,statusCode:e.response.status,type:e.body.exception.code}),CC=Je(oS()),$C=Je(hS()),kC=class extends Error{constructor(){super(),this.name="ExpiredToken",this.message="The token being used to perform the request is expired."}},xl=class extends Error{constructor(e,t){super(),this.name="Disconnected",this.message=`Client could not connect to the following URL: ${e}`,this.statusCode=t!=null?t:0}};function OC(e){let t=[];for(let r in e){let n=encodeURIComponent(r),i=encodeURIComponent(e[r]);t.push(`${n}=${i}`)}return t.join("&")}function xC(e){return typeof e!="object"||!e?!1:Object.values(e).every(IC)}function IC(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function af(e){return e===429}var Xt=class{static async call(e){let t=qC(e),{origin:r,preprocessRequest:n,logger:i,requestMetadata:a}=e,o={...t,...n?await n(t,r,a):{}};i.info(o,"Platform request");let{url:s,...l}=o,u=async()=>{let d=await(0,CC.default)(s,l);if(af(d.status))throw d;return d};try{let d=await(0,$C.backOff)(u,{retry:f=>{let g=f&&af(f.status);return g&&i.info("Platform retrying request"),g}});if(d.status===419)throw i.info("Platform renewing token"),new kC;if(d.status===404)throw new xl(s,d.status);return i.info({response:d,requestInfo:o},"Platform response"),d}catch(d){return d.message==="Failed to fetch"?new xl(s):d}}};function Bh(e,t){let r=!t||!t.environment||t.environment==="prod"?"":t.environment,n=!t||!t.region||t.region==="us"?"":`-${t.region}`;return`https://${e}${r}${n}.cloud.coveo.com`}function of(e){return e!=null&&e.multiRegionSubDomain?`https://${e.multiRegionSubDomain}.org.coveo.com`:Bh("platform",e)}function EC(e){return Bh("analytics",e)}function qC(e){let{url:t,method:r,requestParams:n,contentType:i,accessToken:a,signal:o}=e,s=e.method==="POST"||e.method==="PUT",l=RC(n,i);return{url:t,method:r,headers:{"Content-Type":i,Authorization:`Bearer ${a}`,...e.headers},...s&&{body:l},signal:o}}function RC(e,t){return t==="application/x-www-form-urlencoded"?xC(e)?OC(e):"":JSON.stringify(e)}var AC=TextDecoder,DC=class{constructor(e){this._params={},this._basePath=e}addParam(e,t){this._params={...this.params,[e]:t}}get basePath(){return this._basePath}get params(){return this._params}get hasParams(){return Object.entries(this._params).length}get href(){return this.hasParams?`${this.basePath}?${Object.entries(this.params).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&")}`:this.basePath}};function jC(e){return((e.headers.get("content-type")||"").split(";").find(t=>t.indexOf("charset=")!==-1)||"").split("=")[1]||"UTF-8"}var er=(e,t,r,n)=>({accessToken:e.accessToken,method:t,contentType:r,url:`${e.url}${n}?${TC(e)}${e.authentication?`&${FC(e)}`:""}`,origin:"searchApiFetch"}),TC=e=>`organizationId=${e.organizationId}`,FC=e=>`authentication=${encodeURIComponent(e.authentication)}`,_C=(e,t)=>{let r=new DC(`${e.url}${t}`);return r.addParam("access_token",e.accessToken),r.addParam("organizationId",e.organizationId),r.addParam("uniqueId",e.uniqueId),e.q!==void 0&&r.addParam("q",e.q),e.enableNavigation!==void 0&&r.addParam("enableNavigation",`${e.enableNavigation}`),e.requestedOutputSize!==void 0&&r.addParam("requestedOutputSize",`${e.requestedOutputSize}`),e.visitorId!==void 0&&r.addParam("visitorId",`${e.visitorId}`),r.href},PC=async(e,t)=>{let r=await Xt.call({...er(e,"POST","application/x-www-form-urlencoded","/html"),requestParams:hr(e),requestMetadata:{method:"html"},...t});if(r instanceof Error)throw r;let n=jC(r),i=await r.arrayBuffer(),a=new AC(n).decode(i);return MC(a)?{success:a}:{error:gr({response:r,body:a})}};function MC(e){return typeof e=="string"}function UC(e){return{statusCode:e.statusCode,type:e.name,message:e.message}}function LC(e){return{statusCode:e.code,type:e.name,message:e.message,ignored:!0}}function ps(e,t){if(t&&e.name==="AbortError")return{error:LC(e)};if(e instanceof xl)return{error:UC(e)};throw e}var VC=class{constructor(e){this.options=e,this.searchAbortController=null}async plan(e){let t=await Xt.call({...er(e,"POST","application/json","/plan"),requestParams:hr(e),requestMetadata:{method:"plan"},...this.options});if(t instanceof Error)return ps(t);let r=await t.json();return QC(r)?{success:r}:{error:gr({response:t,body:r})}}async querySuggest(e){let t=await Xt.call({...er(e,"POST","application/json","/querySuggest"),requestMetadata:{method:"querySuggest"},requestParams:hr(e),...this.options});if(t instanceof Error)return ps(t);let r=await t.json(),n={response:t,body:r};return NC(r)?{success:(await this.options.postprocessQuerySuggestResponseMiddleware(n)).body}:{error:gr(n)}}async search(e,t){var r;this.searchAbortController&&(!(t!=null&&t.disableAbortWarning)&&this.options.logger.warn("Cancelling current pending search query"),this.searchAbortController.abort()),this.searchAbortController=this.getAbortControllerInstanceIfAvailable();let n=await Xt.call({...er(e,"POST","application/json",""),requestParams:hr(e),requestMetadata:{method:"search",origin:t==null?void 0:t.origin},...this.options,signal:(r=this.searchAbortController)==null?void 0:r.signal});if(n instanceof Error)return ps(n,t==null?void 0:t.disableAbortWarning);this.searchAbortController=null;let i=await n.json(),a={response:n,body:i};return hs(i)?(a.body=BC(i),{success:(await this.options.postprocessSearchResponseMiddleware(a)).body}):{error:gr(a)}}async facetSearch(e){let t=await Xt.call({...er(e,"POST","application/json","/facet"),requestParams:hr(e),requestMetadata:{method:"facetSearch"},...this.options});if(t instanceof Error)throw t;let r=await t.json(),n={response:t,body:r};return(await this.options.postprocessFacetSearchResponseMiddleware(n)).body}async recommendations(e){let t=await Xt.call({...er(e,"POST","application/json",""),requestParams:hr(e),requestMetadata:{method:"recommendations"},...this.options});if(t instanceof Error)throw t;let r=await t.json();return hs(r)?{success:r}:{error:gr({response:t,body:r})}}async html(e){return PC(e,{...this.options})}async productRecommendations(e){let t=await Xt.call({...er(e,"POST","application/json",""),requestParams:hr(e),requestMetadata:{method:"productRecommendations"},...this.options});if(t instanceof Error)throw t;let r=await t.json();return hs(r)?{success:r}:{error:gr({response:t,body:r})}}async fieldDescriptions(e){let t=await Xt.call({...er(e,"GET","application/json","/fields"),requestParams:{},requestMetadata:{method:"fieldDescriptions"},...this.options});if(t instanceof Error)throw t;let r=await t.json();return HC(r)?{success:r}:{error:gr({response:t,body:r})}}getAbortControllerInstanceIfAvailable(){if(typeof window=="undefined"){let e=gS();return new e}return typeof AbortController=="undefined"?null:new AbortController}},zC=e=>e.success!==void 0,mt=e=>e.error!==void 0;function NC(e){return e.completions!==void 0}function QC(e){return e.preprocessingOutput!==void 0}function HC(e){return e.fields!==void 0}function hs(e){return e.results!==void 0}function BC(e){let t=_a();return Se(e.questionAnswer)?(e.questionAnswer=t,e):(e.questionAnswer={...t,...e.questionAnswer},e)}var WC=["uri","urihash","permanentid","ec_name","ec_brand","ec_category","ec_item_group_id","ec_price","ec_promo_price","ec_shortdesc","ec_thumbnails","ec_images","ec_in_stock","ec_rating","childResults","totalNumberOfChildResults"],ee=new le({required:!0,emptyAllowed:!1}),Ie=new le({required:!1,emptyAllowed:!1}),Ye=new le({required:!0,emptyAllowed:!0}),_r=({message:e,name:t,stack:r})=>({message:e,name:t,stack:r}),Pr=(e,t)=>{if("required"in t)return{payload:new xu({value:t}).validate({value:e}).value};let r=new ge({options:{required:!0},values:t}).validate(e);if(r)throw new Ou(r);return{payload:e}},Q=(e,t)=>{try{return Pr(e,t)}catch(r){return{payload:e,error:_r(r)}}},Ru=()=>({id:"",skus:[],maxNumberOfRecommendations:5,filter:{brand:"",category:""},additionalFields:[],recommendations:[],error:null,isLoading:!1,searchUid:"",duration:0}),YC=class extends qu{constructor(){super(...arguments),this.initialState=Ru()}getPipeline(){return""}getSearchEventRequestPayload(){return{queryText:"",responseTime:this.responseTime,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults}}getSearchUID(){var e;return((e=this.getState().productRecommendations)==null?void 0:e.searchUid)||this.initialState.searchUid}mapResultsToAnalyticsDocument(){var e;return(e=this.state.productRecommendations)==null?void 0:e.recommendations.map(t=>({documentUri:t.documentUri,documentUriHash:t.documentUriHash,permanentid:t.permanentid}))}get responseTime(){var e;return((e=this.state.productRecommendations)==null?void 0:e.duration)||this.initialState.duration}get numberOfResults(){var e;return((e=this.state.productRecommendations)==null?void 0:e.recommendations.length)||this.initialState.recommendations.length}};new _h.HistoryStore;var JC=Je(Yp());function Wh(e){return Array.isArray(e)}function gs(e){return e.trim()===""}function KC(e,t){return Object.values(e.reduce((r,n,i)=>({...r,[t(n,i)]:n}),{}))}function GC(e){return(typeof btoa!="undefined"?btoa:JC.btoa)(encodeURI(e))}function ZC(e){return GC(JSON.stringify(e))}var XC=new Set(["1",1,"yes",!0]);function e$(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;let e=navigator,t=window;return[e.globalPrivacyControl,e.doNotTrack,e.msDoNotTrack,t.doNotTrack].some(r=>XC.has(r))}function t$(e){let t=Yh(e),r=[e,...t].filter(n=>n.parentResult).map(n=>n.parentResult);return KC([e,...t,...r],n=>n.uniqueId)}function Yh(e){return e.childResults?e.childResults.flatMap(t=>[t,...Yh(t)]):[]}var po=()=>"",Ut=(e=>(e[e.Search=0]="Search",e[e.Custom=1]="Custom",e[e.Click=2]="Click",e))(Ut||{});function r$(e){return Object.assign(e,{instantlyCallable:!0})}function n$(e,t){let r=i=>r$(we(e,i)),n=r(async(i,{getState:a,extra:o})=>{let{analyticsClientMiddleware:s,preprocessRequest:l,logger:u}=o;return await(await t({getState:a,analyticsClientMiddleware:s,preprocessRequest:l,logger:u})).log({state:a(),extra:o})});return Object.assign(n,{prepare:async({getState:i,analyticsClientMiddleware:a,preprocessRequest:o,logger:s})=>{let{description:l,log:u}=await t({getState:i,analyticsClientMiddleware:a,preprocessRequest:o,logger:s});return{description:l,action:r(async(d,{getState:f,extra:g})=>await u({state:f(),extra:g}))}}}),n}var Gt=(e,t,r,n=i=>new fo(i))=>n$(e,async({getState:i,analyticsClientMiddleware:a,preprocessRequest:o,logger:s})=>{let l=mC({getState:i,logger:s,analyticsClientMiddleware:a,preprocessRequest:o,provider:n(i)}),u=await r(l,i());return{description:u==null?void 0:u.description,log:async({state:d})=>{let f=await(u==null?void 0:u.log({searchUID:n(()=>d).getSearchUID()}));return s.info({client:l.coveoAnalyticsClient,response:f},"Analytics response"),{analyticsType:t}}}}),Jh={urihash:new le,sourcetype:new le,permanentid:new le},Au={uniqueId:ee,raw:new ge({values:Jh}),title:ee,uri:ee,clickUri:ee,rankingModifier:new le({required:!1,emptyAllowed:!0})};function i$(e){return Object.assign({},...Object.keys(Jh).map(t=>({[t]:e[t]})))}function a$(e){return Object.assign({},...Object.keys(Au).map(t=>({[t]:e[t]})),{raw:i$(e.raw)})}var o$=e=>new xu(Au).validate(a$(e)),s$=()=>Gt("analytics/productRecommendations/load",Ut.Search,e=>e.makeRecommendationInterfaceLoad(),e=>new YC(e));function l$(e){return e&&"childResults"in e&&"totalNumberOfChildResults"in e}var u$=F("productrecommendations/setId",e=>Q(e,{id:ee})),c$=F("productrecommendations/setSku",e=>Q(e,{skus:new Qe({required:!0,min:1,each:Ie})})),d$=F("productrecommendations/setBrand",e=>Q(e,{brand:new le({required:!0,emptyAllowed:!0})})),f$=F("productrecommendations/setCategory",e=>Q(e,{category:new le({required:!0,emptyAllowed:!0})})),p$=F("productrecommendations/setAdditionalFields",e=>Q(e,{additionalFields:new Qe({required:!0,each:Ie})})),h$=F("productrecommendations/setMaxNumberOfRecommendations",e=>Q(e,{number:new he({required:!0,max:50,min:1})})),da=we("productRecommendations/get",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n}})=>{let i=t(),a=new Date().getTime(),o=await n.productRecommendations(await g$(i)),s=new Date().getTime()-a;if(mt(o))return r(o.error);let l=i.productRecommendations.additionalFields||[];return{recommendations:o.success.results.map(u=>Kh(u,{additionalFields:l})),analyticsAction:s$(),searchUid:o.success.searchUid,duration:s}}),Kh=(e,{additionalFields:t})=>{let r=e.raw.ec_price,n=e.raw.ec_promo_price,i=e.raw.ec_in_stock,a={documentUri:e.uri,documentUriHash:e.raw.urihash,permanentid:e.raw.permanentid,clickUri:e.clickUri,ec_name:e.raw.ec_name,ec_brand:e.raw.ec_brand,ec_category:e.raw.ec_category,ec_item_group_id:e.raw.ec_item_group_id,ec_price:r,ec_shortdesc:e.raw.ec_shortdesc,ec_thumbnails:e.raw.ec_thumbnails,ec_images:e.raw.ec_images,ec_promo_price:n===void 0||r!==void 0&&n>=r?void 0:n,ec_in_stock:i===void 0?void 0:i.toLowerCase()==="yes"||i.toLowerCase()==="true",ec_rating:e.raw.ec_rating,additionalFields:t.reduce((o,s)=>({...o,[s]:e.raw[s]}),{}),childResults:[],totalNumberOfChildResults:0};return l$(e)&&(a.childResults=e.childResults.map(o=>Kh(o,{additionalFields:t})),a.totalNumberOfChildResults=e.totalNumberOfChildResults),a},g$=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,timezone:e.configuration.search.timezone,...e.configuration.analytics.enabled&&{visitorId:await Mt(e.configuration.analytics)},recommendation:e.productRecommendations.id,numberOfResults:e.productRecommendations.maxNumberOfRecommendations,fieldsToInclude:[...WC,...e.productRecommendations.additionalFields||[]],mlParameters:{...e.productRecommendations.skus&&e.productRecommendations.skus.length>0&&{itemIds:e.productRecommendations.skus},...e.productRecommendations.filter.brand&&{brandFilter:e.productRecommendations.filter.brand},...e.productRecommendations.filter.category&&{categoryFilter:e.productRecommendations.filter.category}},actionsHistory:e.configuration.analytics.enabled?Sn.getHistory():[],...e.context&&{context:e.context.contextValues},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.searchHub&&{searchHub:e.searchHub}}),ho=async(e,t)=>({analytics:{clientId:await Mt(e),clientTimestamp:new Date().toISOString(),documentReferrer:e.originLevel3,originContext:e.originContext,...t&&{actionCause:t.actionCause,customData:t.customData},...e.userDisplayName&&{userDisplayName:e.userDisplayName},...e.documentLocation&&{documentLocation:e.documentLocation},...e.deviceId&&{deviceId:e.deviceId},...nf()&&{pageId:nf()}}}),Qn=()=>({duration:0,error:null,isLoading:!1,id:"Recommendation",recommendations:[],searchUid:"",splitTestRun:"",pipeline:""}),m$=class extends qu{getPipeline(){var e;return this.state.pipeline||((e=this.state.recommendation)==null?void 0:e.pipeline)||"default"}getSearchEventRequestPayload(){return{queryText:Tr().q,responseTime:this.responseTime,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults}}getSearchUID(){var e;return((e=this.getState().recommendation)==null?void 0:e.searchUid)||Qn().searchUid}getSplitTestRunName(){var e;return(e=this.state.recommendation)==null?void 0:e.splitTestRun}getSplitTestRunVersion(){var e;let t=!!this.getSplitTestRunName(),r=((e=this.state.recommendation)==null?void 0:e.pipeline)||this.state.pipeline||"default";return t?r:void 0}get responseTime(){var e;return((e=this.state.recommendation)==null?void 0:e.duration)||Qn().duration}mapResultsToAnalyticsDocument(){var e;return(e=this.state.recommendation)==null?void 0:e.recommendations.map(t=>({documentUri:t.uri,documentUriHash:t.raw.urihash}))}get numberOfResults(){var e;return((e=this.state.recommendation)==null?void 0:e.recommendations.length)||Qn().recommendations.length}},v$=()=>Gt("analytics/recommendation/update",Ut.Search,e=>e.makeRecommendationInterfaceLoad(),e=>new m$(e)),y$=F("recommendation/set",e=>Q(e,{id:ee})),fa=we("recommendation/get",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n}})=>{let i=t(),a=new Date().getTime(),o=await n.recommendations(await b$(i)),s=new Date().getTime()-a;return mt(o)?r(o.error):{recommendations:o.success.results,analyticsAction:v$(),duration:s,searchUid:o.success.searchUid,splitTestRun:o.success.splitTestRun,pipeline:o.success.pipeline}}),b$=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,recommendation:e.recommendation.id,tab:e.configuration.analytics.originLevel2,referrer:e.configuration.analytics.originLevel3,timezone:e.configuration.search.timezone,locale:e.configuration.search.locale,actionsHistory:e.configuration.analytics.enabled?Sn.getHistory():[],...e.advancedSearchQueries&&{aq:e.advancedSearchQueries.aq,cq:e.advancedSearchQueries.cq},...e.pipeline&&{pipeline:e.pipeline},...e.searchHub&&{searchHub:e.searchHub},...e.context&&{context:e.context.contextValues},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.fields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.configuration.analytics.enabled&&{visitorId:await Mt(e.configuration.analytics)},...e.configuration.analytics.enabled&&await ho(e.configuration.analytics),...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")},...e.pagination&&{numberOfResults:e.pagination.numberOfResults}}),Mr=F("breadcrumb/deselectAll"),Gh=F("breadcrumb/deselectAllNonBreadcrumbs"),Du=F("facet/updateFacetAutoSelection",e=>Q(e,{allow:new Fe({required:!0})})),S$=class extends fo{constructor(e){super(e),this.getState=e}get activeInstantResultQuery(){let e=this.getState().instantResults;for(let t in e)for(let r in e[t].cache)if(e[t].cache[r].isActive)return e[t].q;return null}get activeInstantResultCache(){let e=this.getState().instantResults;for(let t in e)for(let r in e[t].cache)if(e[t].cache[r].isActive)return e[t].cache[r];return null}getSearchUID(){var e;return((e=this.activeInstantResultCache)==null?void 0:e.searchUid)||super.getSearchUID()}getSearchEventRequestPayload(){let e=super.getSearchEventRequestPayload(),t=this.activeInstantResultQuery||e.queryText;return{...e,queryText:t}}},w$=()=>Gt("analytics/instantResult/searchboxAsYouType",Ut.Search,e=>e.makeSearchboxAsYouType(),e=>new S$(e)),ju={id:ee},C$={...ju,q:Ye},$$=F("instantResults/register",e=>Q(e,ju)),Zh=F("instantResults/updateQuery",e=>Q(e,C$)),k$=F("instantResults/clearExpired",e=>Q(e,ju)),go=new he({required:!0,min:0}),O$=F("pagination/registerNumberOfResults",e=>Q(e,go)),x$=F("pagination/updateNumberOfResults",e=>Q(e,go)),I$=F("pagination/registerPage",e=>Q(e,go)),Xh=F("pagination/updatePage",e=>Q(e,go)),E$=F("pagination/nextPage"),q$=F("pagination/previousPage"),Tu=F("query/updateQuery",e=>Q(e,{q:new le,enableQuerySyntax:new Fe})),Fu=async(e,t)=>{var r,n,i,a;return{accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,debug:e.debug,tab:e.configuration.analytics.originLevel2,referrer:e.configuration.analytics.originLevel3,timezone:e.configuration.search.timezone,...e.configuration.analytics.enabled&&{visitorId:await Mt(e.configuration.analytics),actionsHistory:Sn.getHistory()},...((r=e.advancedSearchQueries)==null?void 0:r.aq)&&{aq:e.advancedSearchQueries.aq},...((n=e.advancedSearchQueries)==null?void 0:n.cq)&&{cq:e.advancedSearchQueries.cq},...((i=e.advancedSearchQueries)==null?void 0:i.lq)&&{lq:e.advancedSearchQueries.lq},...((a=e.advancedSearchQueries)==null?void 0:a.dq)&&{dq:e.advancedSearchQueries.dq},...e.context&&{context:e.context.contextValues},...e.fields&&!e.fields.fetchAllFields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.query&&{q:e.query.q,enableQuerySyntax:e.query.enableQuerySyntax},...e.searchHub&&{searchHub:e.searchHub},...e.sortCriteria&&{sortCriteria:e.sortCriteria},...e.configuration.analytics.enabled&&await ho(e.configuration.analytics,t),...e.excerptLength&&!Se(e.excerptLength.length)&&{excerptLength:e.excerptLength.length},...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")}}},R$=F("didYouMean/enable"),A$=F("didYouMean/disable"),_u=F("didYouMean/correction",e=>Q(e,ee)),D$=()=>Gt("analytics/didyoumean/automatic",Ut.Search,e=>e.makeDidYouMeanAutomatic()),j$=F("history/undo"),T$=F("history/redo"),pa=F("history/snapshot");we("history/back",async(e,{dispatch:t})=>{t(j$()),await t(Xe())});we("history/forward",async(e,{dispatch:t})=>{t(T$()),await t(Xe())});var Xe=we("history/change",async(e,{getState:t})=>t().history.present),kr=()=>({cq:"",cqWasSet:!1,aq:"",aqWasSet:!1,lq:"",lqWasSet:!1,dq:"",dqWasSet:!1,defaultFilters:{cq:"",aq:"",lq:"",dq:""}});function wn(){return{contextValues:{}}}var yi=()=>!1;function bi(){return{contextValues:{}}}function Tn(){return{enabled:!0}}function mo(){return{freezeFacetOrder:!1,facets:{}}}function vo(){return[]}function Pu(){return{}}function F$(e){return e?e.expiresAt&&Date.now()>=e.expiresAt:!1}function Cn(){return{firstResult:0,defaultNumberOfResults:10,numberOfResults:10,totalCountFiltered:0}}function Mu(){return{}}var _$=(e=>(e.Ascending="ascending",e.Descending="descending",e))(_$||{}),eg=(e=>(e.Relevancy="relevancy",e.QRE="qre",e.Date="date",e.Field="field",e.NoSort="nosort",e))(eg||{}),Pa=e=>{if(qh(e))return e.map(t=>Pa(t)).join(",");switch(e.by){case"relevancy":case"qre":case"nosort":return e.by;case"date":return`date ${e.order}`;case"field":return`@${e.field} ${e.order}`;default:return""}},P$=()=>({by:"relevancy"});function Uu(){return Pa(P$())}function Lu(){return{}}function Vu(){return{}}function tg(){return ha({})}function ha(e){var t,r;return{context:e.context||wn(),dictionaryFieldContext:e.dictionaryFieldContext||bi(),facetSet:e.facetSet||vi(),numericFacetSet:e.numericFacetSet||mi(),dateFacetSet:e.dateFacetSet||gi(),categoryFacetSet:e.categoryFacetSet||hi(),pagination:e.pagination||Cn(),query:e.query||Tr(),tabSet:e.tabSet||Vu(),advancedSearchQueries:e.advancedSearchQueries||kr(),staticFilterSet:e.staticFilterSet||Lu(),querySet:e.querySet||Mu(),instantResults:e.instantResults||Pu(),sortCriteria:e.sortCriteria||Uu(),pipeline:e.pipeline||po(),searchHub:e.searchHub||Fr(),facetOptions:e.facetOptions||mo(),facetOrder:(t=e.facetOrder)!=null?t:vo(),debug:(r=e.debug)!=null?r:yi()}}var M$=()=>Gt("analytics/trigger/query",Ut.Search,(e,t)=>{var r;return(r=t.triggers)!=null&&r.queryModification.newQuery?e.makeTriggerQuery():null}),rg=F("trigger/query/ignore",e=>Q(e,new le({emptyAllowed:!0,required:!0}))),ng=F("trigger/query/modification",e=>Q(e,new ge({values:{originalQuery:Ie,modification:Ie}}))),sf=()=>Gt("search/logFetchMoreResults",Ut.Search,e=>e.makeFetchMoreResults()),ga=e=>Gt("search/queryError",Ut.Search,(t,r)=>{var n,i,a,o;return t.makeQueryError({query:((n=r.query)==null?void 0:n.q)||Tr().q,aq:((i=r.advancedSearchQueries)==null?void 0:i.aq)||kr().aq,cq:((a=r.advancedSearchQueries)==null?void 0:a.cq)||kr().cq,dq:((o=r.advancedSearchQueries)==null?void 0:o.dq)||kr().dq,errorType:e.type,errorMessage:e.message})}),ma=Je(pu()),U$=Je(yS()),Il=Je(pu()),L$=Je(bS());Il.default.extend(L$.default);var ig="YYYY/MM/DD@HH:mm:ss",V$="1401-01-01";function Ma(e,t){let r=(0,Il.default)(e,t);return!r.isValid()&&!t?(0,Il.default)(e,ig):r}function ag(e){return e.format(ig)}function z$(e,t){let r=Ma(e,t);if(!r.isValid()){let n=". Please provide a date format string in the configuration options. See https://day.js.org/docs/en/parse/string-format for more information.",i=` with the format "${t}""`;throw new Error(`Could not parse the provided date "${e}"${t?i:n}`)}og(r)}function og(e){if(e.isBefore(V$))throw new Error(`Date is before year 1401, which is unsupported by the API: ${e}`)}ma.default.extend(U$.default);var sg=["past","now","next"],lg=["minute","hour","day","week","month","quarter","year"],N$=e=>{let t=e==="now";return{amount:new he({required:!t,min:1}),unit:new le({required:!t,constrainTo:lg}),period:new le({required:!0,constrainTo:sg})}};function lf(e){if(typeof e=="string"&&!ti(e))throw new Error(`The value "${e}" is not respecting the relative date format "period-amount-unit"`);let t=typeof e=="string"?dg(e):e;new xu(N$(t.period)).validate(t);let r=ug(t),n=JSON.stringify(t);if(!r.isValid())throw new Error(`Date is invalid: ${n}`);og(r)}function Q$(e){let{period:t,amount:r,unit:n}=e;switch(t){case"past":case"next":return`${t}-${r}-${n}`;case"now":return t}}function ug(e){let{period:t,amount:r,unit:n}=e;switch(t){case"past":return(0,ma.default)().subtract(r,n);case"next":return(0,ma.default)().add(r,n);case"now":return(0,ma.default)()}}function El(e){return ag(ug(dg(e)))}function cg(e){return e.toLocaleLowerCase().split("-")}function ti(e){let[t,r,n]=cg(e);if(t==="now")return!0;if(!sg.includes(t)||!lg.includes(n))return!1;let i=parseInt(r);return!(isNaN(i)||i<=0)}function H$(e){return!!e&&typeof e=="object"&&"period"in e}function dg(e){let[t,r,n]=cg(e);return t==="now"?{period:"now"}:{period:t,amount:r?parseInt(r):void 0,unit:n||void 0}}function B$(e){return e.type==="dateRange"}function fg(e){return`start${e}`}function pg(e){return`end${e}`}var W$=()=>({dateFacetValueMap:{}});function Y$(e,t,r){let n=e.start,i=e.end;return ti(n)&&(n=El(n),r.dateFacetValueMap[t][fg(n)]=e.start),ti(i)&&(i=El(i),r.dateFacetValueMap[t][pg(i)]=e.end),{...e,start:n,end:i}}function J$(e,t){if(B$(e)){let{facetId:r,currentValues:n}=e;return t.dateFacetValueMap[r]={},{...e,currentValues:n.map(i=>Y$(i,r,t))}}return e}function hg(e){var t;let r=W$();return{request:{...e,facets:(t=e.facets)==null?void 0:t.map(n=>J$(n,r))},mappings:r}}function K$(e,t,r){return{...e,start:r.dateFacetValueMap[t][fg(e.start)]||e.start,end:r.dateFacetValueMap[t][pg(e.end)]||e.end}}function G$(e,t){return e.facetId in t.dateFacetValueMap}function Z$(e,t){return G$(e,t)?{...e,values:e.values.map(r=>K$(r,e.facetId,t))}:e}function X$(e,t){var r;return"success"in e?{success:{...e.success,facets:(r=e.success.facets)==null?void 0:r.map(n=>Z$(n,t))}}:e}function gg(e,t){let r={};e.forEach(a=>r[a.facetId]=a);let n=[];t.forEach(a=>{a in r&&(n.push(r[a]),delete r[a])});let i=Object.values(r);return[...n,...i]}function Sr(e){return Object.values(e).map(t=>t.request)}var ek=1,ql=5e3,sr=async(e,t)=>{var r;let n=ik(e),i=tk(e),a=await Fu(e,t),o=()=>e.pagination?e.pagination.firstResult+e.pagination.numberOfResults>ql?ql-e.pagination.firstResult:e.pagination.numberOfResults:void 0;return hg({...a,...e.didYouMean&&{enableDidYouMean:e.didYouMean.enableDidYouMean},...n&&{cq:n},...i.length&&{facets:i},...e.pagination&&{numberOfResults:o(),firstResult:e.pagination.firstResult},...e.facetOptions&&{facetOptions:{freezeFacetOrder:e.facetOptions.freezeFacetOrder}},...((r=e.folding)==null?void 0:r.enabled)&&{filterField:e.folding.fields.collection,childField:e.folding.fields.parent,parentField:e.folding.fields.child,filterFieldRange:e.folding.filterFieldRange}})};function tk(e){var t;return gg(rk(e),(t=e.facetOrder)!=null?t:[])}function rk(e){return nk(e).filter(({facetId:t})=>{var r,n,i;return(i=(n=(r=e.facetOptions)==null?void 0:r.facets[t])==null?void 0:n.enabled)!=null?i:!0})}function nk(e){var t,r,n,i;return[...Sr((t=e.facetSet)!=null?t:{}),...uf((r=e.numericFacetSet)!=null?r:{}),...uf((n=e.dateFacetSet)!=null?n:{}),...Sr((i=e.categoryFacetSet)!=null?i:{})]}function uf(e){return Sr(e).map(t=>{let r=t.currentValues.find(({state:n})=>n==="selected");return t.generateAutomaticRanges&&!r?{...t,currentValues:[]}:t})}function ik(e){var t;let r=((t=e.advancedSearchQueries)==null?void 0:t.cq.trim())||"",n=Object.values(e.tabSet||{}).find(o=>o.isActive),i=(n==null?void 0:n.expression.trim())||"",a=ak(e);return[r,i,...a].filter(o=>!!o).join(" AND ")}function ak(e){return Object.values(e.staticFilterSet||{}).map(t=>{let r=t.values.filter(i=>i.state==="selected"&&!!i.expression.trim()),n=r.map(i=>i.expression).join(" OR ");return r.length>1?`(${n})`:n})}var Si=class{constructor(e,t=r=>{this.dispatch(Tu({q:r}))}){this.config=e,this.onUpdateQueryForCorrection=t}async fetchFromAPI({mappings:e,request:t},r){var n;let i=new Date().getTime(),a=X$(await this.extra.apiClient.search(t,r),e),o=new Date().getTime()-i,s=((n=this.getState().query)==null?void 0:n.q)||"";return{response:a,duration:o,queryExecuted:s,requestExecuted:t}}async process(e){var t,r,n;return(n=(r=(t=this.processQueryErrorOrContinue(e))!=null?t:await this.processQueryCorrectionsOrContinue(e))!=null?r:await this.processQueryTriggersOrContinue(e))!=null?n:this.processSuccessReponse(e)}processQueryErrorOrContinue(e){return mt(e.response)?(this.dispatch(ga(e.response.error)),this.rejectWithValue(e.response.error)):null}async processQueryCorrectionsOrContinue(e){var t;let r=this.getState(),n=this.getSuccessResponse(e);if(!n||((t=r.didYouMean)==null?void 0:t.enableDidYouMean)===!1||n.results.length!==0||n.queryCorrections.length===0)return null;let i=this.getCurrentQuery(),{correctedQuery:a}=n.queryCorrections[0],o=await this.automaticallyRetryQueryWithCorrection(a);return mt(o.response)?(this.dispatch(ga(o.response.error)),this.rejectWithValue(o.response.error)):(this.analyticsAction&&this.analyticsAction()(this.dispatch,()=>this.getStateAfterResponse(e.queryExecuted,e.duration,r,n),this.extra),this.dispatch(pa(ha(this.getState()))),{...o,response:{...o.response.success,queryCorrections:n.queryCorrections},automaticallyCorrected:!0,originalQuery:i,analyticsAction:D$()})}async processQueryTriggersOrContinue(e){var t,r;let n=this.getSuccessResponse(e);if(!n)return null;let i=((t=n.triggers.find(s=>s.type==="query"))==null?void 0:t.content)||"";if(!i)return null;if(((r=this.getState().triggers)==null?void 0:r.queryModification.queryToIgnore)===i)return this.dispatch(rg("")),null;this.analyticsAction&&await this.dispatch(this.analyticsAction);let a=this.getCurrentQuery(),o=await this.automaticallyRetryQueryWithTriggerModification(i);return mt(o.response)?(this.dispatch(ga(o.response.error)),this.rejectWithValue(o.response.error)):(this.dispatch(pa(ha(this.getState()))),{...o,response:{...o.response.success},automaticallyCorrected:!1,originalQuery:a,analyticsAction:M$()})}processSuccessReponse(e){return this.dispatch(pa(ha(this.getState()))),{...e,response:this.getSuccessResponse(e),automaticallyCorrected:!1,originalQuery:this.getCurrentQuery(),analyticsAction:this.analyticsAction}}getSuccessResponse(e){return zC(e.response)?e.response.success:null}async automaticallyRetryQueryWithCorrection(e){this.onUpdateQueryForCorrection(e);let t=await this.fetchFromAPI(await sr(this.getState()),{origin:"mainSearch"});return this.dispatch(_u(e)),t}async automaticallyRetryQueryWithTriggerModification(e){return this.dispatch(ng({newQuery:e,originalQuery:this.getCurrentQuery()})),this.onUpdateQueryForCorrection(e),await this.fetchFromAPI(await sr(this.getState()),{origin:"mainSearch"})}getStateAfterResponse(e,t,r,n){var i,a;return{...r,query:{q:e,enableQuerySyntax:(a=(i=r.query)==null?void 0:i.enableQuerySyntax)!=null?a:Tr().enableQuerySyntax},search:{...$r(),duration:t,response:n,results:n.results}}}getCurrentQuery(){var e;let t=this.getState();return((e=t.query)==null?void 0:e.q)!==void 0?t.query.q:""}get extra(){return this.config.extra}getState(){return this.config.getState()}get dispatch(){return this.config.dispatch}get analyticsAction(){return this.config.analyticsAction}get rejectWithValue(){return this.config.rejectWithValue}};we("search/prepareForSearchWithQuery",(e,t)=>{let{dispatch:r}=t;Q(e,{q:new le,enableQuerySyntax:new Fe,clearFilters:new Fe}),e.clearFilters&&(r(Mr()),r(Gh())),r(Du({allow:!0})),r(Tu({q:e.q,enableQuerySyntax:e.enableQuerySyntax})),r(Xh(1))});var Pe=we("search/executeSearch",async(e,t)=>{let r=t.getState();mg(r);let{analyticsClientMiddleware:n,preprocessRequest:i,logger:a}=t.extra,{description:o}=await e.prepare({getState:()=>t.getState(),analyticsClientMiddleware:n,preprocessRequest:i,logger:a}),s=await sr(r,o),l=new Si({...t,analyticsAction:e}),u=await l.fetchFromAPI(s,{origin:"mainSearch"});return await l.process(u)}),va=we("search/fetchPage",async(e,t)=>{let r=t.getState();mg(r);let{analyticsClientMiddleware:n,preprocessRequest:i,logger:a}=t.extra,{description:o}=await e.prepare({getState:()=>t.getState(),analyticsClientMiddleware:n,preprocessRequest:i,logger:a}),s=new Si({...t,analyticsAction:e}),l=await sr(r,o),u=await s.fetchFromAPI(l,{origin:"mainSearch"});return await s.process(u)}),Hn=we("search/fetchMoreResults",async(e,t)=>{let r=t.getState(),{analyticsClientMiddleware:n,preprocessRequest:i,logger:a}=t.extra,{description:o}=await sf().prepare({getState:()=>t.getState(),analyticsClientMiddleware:n,preprocessRequest:i,logger:a}),s=new Si({...t,analyticsAction:sf()}),l=await ok(r,o),u=await s.fetchFromAPI(l,{origin:"mainSearch"});return await s.process(u)}),zu=we("search/fetchFacetValues",async(e,t)=>{let r=t.getState(),{analyticsClientMiddleware:n,preprocessRequest:i,logger:a}=t.extra,{description:o}=await e.prepare({getState:()=>t.getState(),analyticsClientMiddleware:n,preprocessRequest:i,logger:a}),s=new Si({...t,analyticsAction:e}),l=await lk(r,o),u=await s.fetchFromAPI(l,{origin:"facetValues"});return await s.process(u)}),ms=we("search/fetchInstantResults",async(e,t)=>{Q(e,{id:ee,q:ee,maxResultsPerQuery:new he({required:!0,min:1}),cacheTimeout:new he});let{q:r,maxResultsPerQuery:n}=e,i=t.getState(),a=new Si({...t,analyticsAction:w$()},u=>{t.dispatch(Zh({q:u,id:e.id}))}),o=await sk(i,r,n),s=await a.fetchFromAPI(o,{origin:"instantResults",disableAbortWarning:!0}),l=await a.process(s);return"response"in l?{results:l.response.results,searchUid:l.response.searchUid,analyticsAction:l.analyticsAction}:l}),ok=async(e,t)=>{var r,n,i,a;let o=await sr(e,t);return o.request={...o.request,firstResult:((n=(r=e.pagination)==null?void 0:r.firstResult)!=null?n:0)+((a=(i=e.search)==null?void 0:i.results.length)!=null?a:0)},o},sk=async(e,t,r)=>{let n=await Fu(e);return hg({...n,...e.didYouMean&&{enableDidYouMean:e.didYouMean.enableDidYouMean},numberOfResults:r,q:t})},lk=async(e,t)=>{let r=await sr(e,t);return r.request.numberOfResults=0,r},mg=e=>{var t;e.configuration.analytics.enabled&&Sn.addElement({name:"Query",...((t=e.query)==null?void 0:t.q)&&{value:e.query.q},time:JSON.stringify(new Date)})},uk=e=>t=>r=>{var n,i;let a=(n=r.payload)==null?void 0:n.analyticsAction;a!==void 0&&((i=r.payload)==null||delete i.analyticsAction);let o=t(r);return r.type===Pe.fulfilled.type&&a===void 0&&console.error("No analytics action associated with search:",r),r.type===fa.fulfilled&&a===void 0&&console.error("No analytics action associated with recommendation:",r),r.type===da.fulfilled&&a===void 0&&console.error("No analytics action associated with product recommendation:",r),a!==void 0&&e.dispatch(a),o};function ck(e){return e.instantlyCallable}var dk=()=>e=>t=>e(ck(t)?t():t),fk=e=>()=>t=>r=>{var n;if(!r.error)return t(r);let i=r.error;if((n=r.payload)!=null&&n.ignored||e.error(i.stack||i.message||i.name||"Error",`Action dispatch error ${r.type}`,r),r.error.name!=="SchemaValidationError")return t(r)},pk=e=>t=>r=>n=>(e.debug({action:n,nextState:t.getState()},`Action dispatched: ${n.type}`),r(n)),vg=()=>({caseAssistId:"",locale:"en-US"}),yg=()=>({status:{loading:!1,error:null,lastResponseId:""},fields:{}}),bg=()=>({}),Nu=Je(pu()),hk=Je(SS()),gk=Je(wS());Nu.default.extend(gk.default);Nu.default.extend(hk.default);var Sg="/rest/search/v2",Rl="/rest/ua",$n=()=>({organizationId:"",accessToken:"",platformUrl:of(),search:{apiBaseUrl:`${of()}${Sg}`,locale:"en-US",timezone:Nu.default.tz.guess(),authenticationProviders:[]},analytics:{enabled:!0,apiBaseUrl:`${EC()}${Rl}`,originContext:"Search",originLevel2:"default",originLevel3:"default",anonymous:!1,deviceId:"",userDisplayName:"",documentLocation:""}}),wg=()=>({status:{loading:!1,error:null,lastResponseId:""},documents:[]});function Ua(){return{uniqueId:"",content:"",isLoading:!1,position:-1,resultsWithPreview:[]}}function mk(e={}){return{configuration:$n(),caseAssistConfiguration:vg(),caseField:yg(),caseInput:bg(),documentSuggestion:wg(),debug:yi(),version:"unit-testing-version",resultPreview:Ua(),searchHub:Fr(),...e}}Je(oo());var vk=e=>e;function yk(){return{results:[],loading:!1}}var bk=()=>({caseContext:{},caseId:"",caseNumber:""}),Al=()=>({correctedQuery:"",wordCorrections:[],originalQuery:""});function Cg(){return{enableDidYouMean:!1,wasCorrectedTo:"",wasAutomaticallyCorrected:!1,queryCorrection:Al(),originalQuery:""}}function Qu(){return{}}var Sk=["author","language","urihash","objecttype","collection","source","permanentid"],Hu=()=>({fieldsToInclude:Sk,fetchAllFields:!1,fieldsDescription:[]}),wk=()=>({insightId:""}),Ck=()=>({loading:!1,config:void 0}),$k=()=>({});function Bu(){return{}}var $g=()=>({url:"",clientId:"",additionalFields:[],advancedParameters:{debug:!1},products:[],facets:{results:[]},error:null,isLoading:!1,responseId:""}),La=(e=>(e.Relevance="relevance",e.Fields="fields",e))(La||{}),kk=(e=>(e.Ascending="asc",e.Descending="desc",e))(kk||{}),Ok=()=>({by:"relevance"});function kg(){return Ok()}function xk(e={}){return{configuration:$n(),productListing:$g(),sort:kg(),facetSearchSet:Qu(),categoryFacetSet:hi(),categoryFacetSearchSet:Bu(),dateFacetSet:gi(),facetOptions:mo(),facetOrder:vo(),facetSet:vi(),numericFacetSet:mi(),pagination:Cn(),version:"unit-testing-version",context:wn(),...e}}function Ik(e={}){return{configuration:$n(),context:wn(),dictionaryFieldContext:bi(),searchHub:Fr(),productRecommendations:Ru(),version:"unit-testing-version",...e}}function Ek(e={}){return{configuration:$n(),advancedSearchQueries:kr(),context:wn(),dictionaryFieldContext:bi(),fields:Hu(),searchHub:Fr(),pipeline:po(),recommendation:Qn(),debug:yi(),version:"unit-testing-version",pagination:Cn(),...e}}var qk=Je(oo()),Rk=e=>e,Ak=e=>e,Dk=e=>e;function jk(e){return new VC({logger:(0,qk.default)({level:"silent"}),preprocessRequest:vk,postprocessSearchResponseMiddleware:Rk,postprocessFacetSearchResponseMiddleware:Ak,postprocessQuerySuggestResponseMiddleware:Dk,...e})}var Tk=e=>({past:[],present:e,future:[]});function Og(){return{length:void 0}}var Wu=()=>({enabled:!1,fields:{collection:"foldingcollection",parent:"foldingparent",child:"foldingchild"},filterFieldRange:2,collections:{}}),Dl=()=>({liked:!1,disliked:!1,expanded:!1,feedbackModalOpen:!1,relatedQuestions:[]});function xg(){return{queries:[],maxLength:10}}function Ig(){return{results:[],maxLength:10}}function Eg(){return{}}var qg=()=>({redirectTo:"",query:"",executions:[],notifications:[],queryModification:{originalQuery:"",newQuery:"",queryToIgnore:""}});function Rg(e={}){return{configuration:$n(),advancedSearchQueries:kr(),staticFilterSet:Lu(),facetSet:vi(),dateFacetSet:gi(),numericFacetSet:mi(),categoryFacetSet:hi(),facetSearchSet:Qu(),categoryFacetSearchSet:Bu(),facetOptions:mo(),pagination:Cn(),query:Tr(),querySet:Mu(),instantResults:Pu(),tabSet:Vu(),querySuggest:{},search:$r(),sortCriteria:Uu(),context:wn(),dictionaryFieldContext:bi(),didYouMean:Cg(),fields:Hu(),history:Tk(tg()),pipeline:po(),facetOrder:vo(),searchHub:Fr(),debug:yi(),resultPreview:Ua(),version:"unit-testing-version",folding:Wu(),triggers:qg(),questionAnswering:Dl(),standaloneSearchBoxSet:Eg(),recentResults:Ig(),recentQueries:xg(),excerptLength:Og(),...e}}function Fk(e={}){let t=wi(e,Rg);return{...t,executeFirstSearch:jest.fn(),executeFirstSearchAfterStandaloneSearchBoxRedirect:jest.fn(),apiClient:t.apiClient}}function _k(e={}){return wi(e,Ek)}function Pk(e={}){return wi(e,Ik)}function Mk(e={}){return wi(e,xk)}function Uk(e={}){return wi(e,mk)}function wi(e={},t,r=Lk){let n=(0,R1.default)({level:"silent"}),i=cf(e,t),{store:a,apiClient:o}=r(n,i),s=a(i),l=()=>{},{state:u,...d}=e;return{store:s,apiClient:o,state:cf(e,t),subscribe:jest.fn(()=>l),get dispatch(){return s.dispatch},get actions(){return s.getActions()},findAsyncAction(f){let g=this.actions.find(y=>y.type===f.type);return Vk(g)?g:void 0},logger:n,addReducers:jest.fn(),enableAnalytics:jest.fn(),disableAnalytics:jest.fn(),...d}}function cf(e,t){let r=e.state||t();return r.configuration.analytics.enabled=!1,r}var Lk=e=>{let t={apiClient:jk({logger:e}),validatePayload:Pr,logger:e};return{store:(0,A1.default)([dk,fk(e),uk,ml.withExtraArgument(t),...Su(),pk(e)]),apiClient:t.apiClient}};function Vk(e){return e?"meta"in e:!1}function Ag(e={}){return{urihash:"",parents:"",sfid:"",sfparentid:"",sfinsertedbyid:"",documenttype:"",sfcreatedbyid:"",permanentid:"",date:0,objecttype:"",sourcetype:"",sftitle:"",size:0,sffeeditemid:"",clickableuri:"",sfcreatedby:"",source:"",collection:"",connectortype:"",filetype:"",sfcreatedbyname:"",sflikecount:0,language:[],...e}}function zk(e={}){return{title:"",uri:"",printableUri:"",clickUri:"",uniqueId:"",excerpt:"",firstSentences:"",summary:null,flags:"",hasHtmlVersion:!1,score:0,percentScore:0,rankingInfo:null,isTopResult:!1,isRecommendation:!1,titleHighlights:[],firstSentencesHighlights:[],excerptHighlights:[],printableUriHighlights:[],summaryHighlights:[],absentTerms:[],raw:Ag(),...e}}var Nk={};fu(Nk,{escape:()=>Gr,getHighlightedSuggestion:()=>Hk,highlightString:()=>Qk});function Qk(e){if(gs(e.openingDelimiter)||gs(e.closingDelimiter))throw Error("delimiters should be a non-empty string");if(Se(e.content)||gs(e.content))return e.content;if(e.highlights.length===0)return Gr(e.content);let t=e.content.length,r="",n=0;for(let i=0;i<e.highlights.length;i++){let a=e.highlights[i],o=a.offset,s=o+a.length;if(s>t)break;r+=Gr(e.content.slice(n,o)),r+=e.openingDelimiter,r+=Gr(e.content.slice(o,s)),r+=e.closingDelimiter,n=s}return n!==t&&(r+=Gr(e.content.slice(n))),r}function Hk(e,t){return e=Gr(e),e.replace(/\[(.*?)\]|\{(.*?)\}|\((.*?)\)/g,(r,n,i,a)=>n?vs(n,t.notMatchDelimiters):i?vs(i,t.exactMatchDelimiters):a?vs(a,t.correctionDelimiters):r)}function vs(e,t){return t?t.open+e+t.close:e}function Gr(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r="(?:"+Object.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return n.test(e)?e.replace(i,a=>t[a]):e}var ys=()=>Ie,Dg=()=>ee,Bk=F("configuration/updateBasicConfiguration",e=>Q(e,{accessToken:Ie,organizationId:Ie,platformUrl:Ie})),Yu=F("configuration/updateSearchConfiguration",e=>Q(e,{apiBaseUrl:Ie,pipeline:new le({required:!1,emptyAllowed:!0}),searchHub:Ie,timezone:Ie,locale:Ie,authenticationProviders:new Qe({required:!1,each:ee})})),Wk=F("configuration/updateAnalyticsConfiguration",e=>(e$()&&(e.enabled=!1),Q(e,{enabled:new Fe({default:!0}),originContext:ys(),originLevel2:ys(),originLevel3:ys(),apiBaseUrl:Ie,runtimeEnvironment:new ct,anonymous:new Fe({default:!1}),deviceId:Ie,userDisplayName:Ie,documentLocation:Ie}))),Yk=F("configuration/analytics/disable"),Jk=F("configuration/analytics/enable"),Kk=F("configuration/analytics/originlevel2",e=>Q(e,{originLevel2:Dg()})),Gk=F("configuration/analytics/originlevel3",e=>Q(e,{originLevel3:Dg()})),yo=(e,t)=>{let r=e;return Se(r[t])?Se(e.raw[t])?null:e.raw[t]:r[t]},Zk=e=>t=>e.every(r=>!Se(yo(t,r))),Xk=e=>t=>e.every(r=>Se(yo(t,r))),eO=(e,t)=>r=>{let n=jg(e,r);return t.some(i=>n.some(a=>`${a}`.toLowerCase()===i.toLowerCase()))},tO=(e,t)=>r=>{let n=jg(e,r);return t.every(i=>n.every(a=>`${a}`.toLowerCase()!==i.toLowerCase()))},jg=(e,t)=>{let r=yo(t,e);return Wh(r)?r:[r]},rO={q:new le,enableQuerySyntax:new Fe,aq:new le,cq:new le,firstResult:new he({min:0}),numberOfResults:new he({min:0}),sortCriteria:new le,f:new ge,cf:new ge,nf:new ge,df:new ge,debug:new Fe,sf:new ge,tab:new le},yt=F("searchParameters/restore",e=>Q(e,rO)),ar=()=>new le({required:!1,emptyAllowed:!0}),nO=F("advancedSearchQueries/update",e=>Q(e,{aq:ar(),cq:ar(),lq:ar(),dq:ar()})),iO=F("advancedSearchQueries/register",e=>Q(e,{aq:ar(),cq:ar(),lq:ar(),dq:ar()}));ne(kr(),e=>{e.addCase(nO,(t,r)=>{let{aq:n,cq:i,lq:a,dq:o}=r.payload;lt(n)||(t.aq=n,t.aqWasSet=!0),lt(i)||(t.cq=i,t.cqWasSet=!0),lt(a)||(t.lq=a,t.lqWasSet=!0),lt(o)||(t.dq=o,t.dqWasSet=!0)}).addCase(iO,(t,r)=>{let{aq:n,cq:i,lq:a,dq:o}=r.payload;lt(n)||(t.defaultFilters.aq=n,t.aqWasSet||(t.aq=n)),lt(i)||(t.defaultFilters.cq=i,t.cqWasSet||(t.cq=i)),lt(a)||(t.defaultFilters.lq=a,t.lqWasSet||(t.lq=a)),lt(o)||(t.defaultFilters.dq=o,t.dqWasSet||(t.dq=o))}).addCase(Xe.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.advancedSearchQueries)!=null?i:t}).addCase(yt,(t,r)=>{let{aq:n,cq:i}=r.payload;lt(n)||(t.aq=n,t.aqWasSet=!0),lt(i)||(t.cq=i,t.cqWasSet=!0)})});var Tg=new ge({options:{required:!0},values:{articleLanguage:Ie,articlePublishStatus:Ie,articleVersionNumber:Ie,caseId:ee,knowledgeArticleId:Ie,name:Ie,permanentId:Ie,resultUrl:Ie,source:Ie,title:ee,uriHash:Ie}}),aO=F("insight/attachToCase/setAttachedResults",e=>Q(e,{results:new Qe({each:Tg}),loading:new Fe({required:!1,default:!1})})),oO=F("insight/attachToCase/attach",e=>Fg(e)),sO=F("insight/attachToCase/detach",e=>Fg(e)),Fg=e=>Se(e.result.permanentId)&&Se(e.result.uriHash)?{payload:e,error:_r(new Ou("Either permanentId or uriHash is required"))}:Q(e,{result:Tg});ne(yk(),e=>{e.addCase(aO,(t,r)=>{var n;let{results:i,loading:a}=r.payload;"results"in t&&((n=t.results)==null?void 0:n.length)>0||(t.results=i,a&&(t.loading=a))}).addCase(oO,(t,r)=>{(!Se(r.payload.result.permanentId)||!Se(r.payload.result.uriHash))&&(t.results=[...t.results,r.payload.result])}).addCase(sO,(t,r)=>{t.results=t.results.filter(n=>lO(n,r.payload.result))})});var lO=(e,t)=>{let r=!Se(e.permanentId)&&(e==null?void 0:e.permanentId)===(t==null?void 0:t.permanentId),n=!Se(e.uriHash)&&(e==null?void 0:e.uriHash)===(t==null?void 0:t.uriHash);return e.caseId!==t.caseId||!r&&!n},uO=F("caseAssistConfiguration/set",e=>Q(e,{caseAssistId:ee,locale:Ie}));ne(vg(),e=>{e.addCase(uO,(t,r)=>{t.caseAssistId=r.payload.caseAssistId,t.locale=r.payload.locale})});var cO=F("insight/caseContext/set",e=>{let t=new ge({options:{required:!0}}),r=Q(e,t).error;if(r)return{payload:e,error:r};let n=Object.values(e),i=new Qe({each:Ye}),a=Q(n,i).error;return a?{payload:e,error:a}:{payload:e}}),dO=F("insight/caseId/set",e=>{let t=Q(e,Ye).error;return t?{payload:e,error:t}:{payload:e}}),fO=F("insight/caseNumber/set",e=>{let t=Q(e,Ye).error;return t?{payload:e,error:t}:{payload:e}});ne(bk(),e=>{e.addCase(cO,(t,r)=>{t.caseContext=r.payload}).addCase(dO,(t,r)=>{t.caseId=r.payload}).addCase(fO,(t,r)=>{t.caseNumber=r.payload})});var _g=e=>Object.keys(e).filter(t=>e[t].value!=="").reduce((t,r)=>({...t,[r]:e[r].value}),{}),pO=F("caseAssist/caseField/register",e=>Q(e,{fieldName:ee,fieldValue:Ye})),hO=F("caseAssist/caseField/update",e=>Q(e,{fieldName:ee,fieldValue:Ye})),bs=we("caseAssist/classifications/fetch",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n}})=>{let i=t(),a=await n.getCaseClassifications(await gO(i));return mt(a)?r(a.error):{response:a.success}}),gO=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.platformUrl,caseAssistId:e.caseAssistConfiguration.caseAssistId,...e.configuration.analytics.enabled&&{visitorId:await Mt(e.configuration.analytics)},fields:e.caseInput,context:e.caseField?_g(e.caseField.fields):void 0,locale:e.caseAssistConfiguration.locale,debug:e.debug});ne(yg(),e=>{e.addCase(pO,(t,r)=>{let{fieldName:n,fieldValue:i}=r.payload;t.fields[n]={value:i,suggestions:[]}}).addCase(hO,(t,r)=>{let{fieldName:n,fieldValue:i}=r.payload;t.fields[n].value=i}).addCase(bs.rejected,(t,r)=>{var n;t.status.error=(n=r.payload)!=null?n:null,t.status.loading=!1}).addCase(bs.fulfilled,(t,r)=>{let n={value:"",suggestions:[]};Object.entries(r.payload.response.fields).forEach(([i,a])=>{t.fields[i]||(t.fields[i]={...n}),t.fields[i].suggestions=a.predictions}),t.status.lastResponseId=r.payload.response.responseId,t.status.error=null,t.status.loading=!1}).addCase(bs.pending,t=>{t.status.loading=!0})});var mO=F("caseAssist/caseInput/update",e=>Q(e,{fieldName:ee,fieldValue:Ye}));ne(bg(),e=>{e.addCase(mO,(t,r)=>{t[r.payload.fieldName]={value:r.payload.fieldValue}})});var vO=F("tab/register",e=>{let t=new ge({values:{id:ee,expression:Ye}});return Q(e,t)}),Pg=F("tab/updateActiveTab",e=>Q(e,ee));function yO(e,t){if(/^https:\/\/platform(dev|stg|hipaa)?(-)?(eu|au)?\.cloud\.coveo\.com/.test(e))return e.replace(/^(https:\/\/)platform/,"$1analytics")+Rl;let r=e.match(new RegExp(`^https://(${t}\\.org)\\.coveo.com`));return r?e.replace(r[1],"analytics.cloud")+Rl:e}ne($n(),e=>e.addCase(Bk,(t,r)=>{r.payload.accessToken&&(t.accessToken=r.payload.accessToken),r.payload.organizationId&&(t.organizationId=r.payload.organizationId),r.payload.platformUrl&&(t.platformUrl=r.payload.platformUrl,t.search.apiBaseUrl=`${r.payload.platformUrl}${Sg}`,t.analytics.apiBaseUrl=yO(r.payload.platformUrl,t.organizationId))}).addCase(Yu,(t,r)=>{r.payload.apiBaseUrl&&(t.search.apiBaseUrl=r.payload.apiBaseUrl),r.payload.locale&&(t.search.locale=r.payload.locale),r.payload.timezone&&(t.search.timezone=r.payload.timezone),r.payload.authenticationProviders&&(t.search.authenticationProviders=r.payload.authenticationProviders)}).addCase(Wk,(t,r)=>{Se(r.payload.enabled)||(!r.payload.enabled&&t.analytics.enabled&&rf(t.analytics),t.analytics.enabled=r.payload.enabled),Se(r.payload.originContext)||(t.analytics.originContext=r.payload.originContext),Se(r.payload.originLevel2)||(t.analytics.originLevel2=r.payload.originLevel2),Se(r.payload.originLevel3)||(t.analytics.originLevel3=r.payload.originLevel3),Se(r.payload.apiBaseUrl)||(t.analytics.apiBaseUrl=r.payload.apiBaseUrl),Se(r.payload.runtimeEnvironment)||(t.analytics.runtimeEnvironment=r.payload.runtimeEnvironment),Se(r.payload.anonymous)||(t.analytics.anonymous=r.payload.anonymous),Se(r.payload.deviceId)||(t.analytics.deviceId=r.payload.deviceId),Se(r.payload.userDisplayName)||(t.analytics.userDisplayName=r.payload.userDisplayName),Se(r.payload.documentLocation)||(t.analytics.documentLocation=r.payload.documentLocation)}).addCase(Yk,t=>{t.analytics.enabled=!1,rf(t.analytics)}).addCase(Jk,t=>{t.analytics.enabled=!0}).addCase(Kk,(t,r)=>{t.analytics.originLevel2=r.payload.originLevel2}).addCase(Gk,(t,r)=>{t.analytics.originLevel3=r.payload.originLevel3}).addCase(Pg,(t,r)=>{t.analytics.originLevel2=r.payload}).addCase(yt,(t,r)=>{t.analytics.originLevel2=r.payload.tab||t.analytics.originLevel2}));var bO=new Qe({each:ee,required:!0}),Mg=(e,t)=>(Q(e,ee),Iu(t)?Q(t,ee):Q(t,bO),{payload:{contextKey:e,contextValue:t}}),SO=F("context/set",e=>{for(let[t,r]of Object.entries(e))Mg(t,r);return{payload:e}}),wO=F("context/add",e=>Mg(e.contextKey,e.contextValue)),CO=F("context/remove",e=>Q(e,ee));ne(wn(),e=>{e.addCase(SO,(t,r)=>{t.contextValues=r.payload}).addCase(wO,(t,r)=>{t.contextValues[r.payload.contextKey]=r.payload.contextValue}).addCase(CO,(t,r)=>{delete t.contextValues[r.payload]}).addCase(Xe.fulfilled,(t,r)=>{!r.payload||(t.contextValues=r.payload.context.contextValues)})});var $O=F("debug/enable"),kO=F("debug/disable");ne(yi(),e=>{e.addCase($O,()=>!0).addCase(kO,()=>!1).addCase(yt,(t,r)=>{var n;return(n=r.payload.debug)!=null?n:t})});ne(Hh,e=>e);var OO=F("dictionaryFieldContext/set",e=>{let t=new ge({options:{required:!0}}),r=Q(e,t).error;if(r)return{payload:e,error:r};let n=Object.values(e),i=new Qe({each:Ye}),a=Q(n,i).error;return a?{payload:e,error:a}:{payload:e}}),xO=F("dictionaryFieldContext/add",e=>{let t=new ge({options:{required:!0},values:{field:Ye,key:Ye}});return Q(e,t)}),IO=F("dictionaryFieldContext/remove",e=>Q(e,Ye));ne(bi(),e=>{e.addCase(OO,(t,r)=>{t.contextValues=r.payload}).addCase(xO,(t,r)=>{let{field:n,key:i}=r.payload;t.contextValues[n]=i}).addCase(IO,(t,r)=>{delete t.contextValues[r.payload]}).addCase(Xe.fulfilled,(t,r)=>{!r.payload||(t.contextValues=r.payload.dictionaryFieldContext.contextValues)})});ne(Cg(),e=>{e.addCase(R$,t=>{t.enableDidYouMean=!0}).addCase(A$,t=>{t.enableDidYouMean=!1}).addCase(Pe.pending,t=>{t.queryCorrection=Al(),t.wasAutomaticallyCorrected=!1,t.wasCorrectedTo=""}).addCase(Pe.fulfilled,(t,r)=>{t.queryCorrection=r.payload.response.queryCorrections[0]||Al(),t.originalQuery=r.payload.originalQuery,t.wasAutomaticallyCorrected=r.payload.automaticallyCorrected}).addCase(_u,(t,r)=>{t.wasCorrectedTo=r.payload})});var Ss=we("caseAssist/documentSuggestions/fetch",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n}})=>{let i=t(),a=await n.getDocumentSuggestions(await EO(i));return mt(a)?r(a.error):{response:a.success}}),EO=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.platformUrl,caseAssistId:e.caseAssistConfiguration.caseAssistId,...e.configuration.analytics.enabled&&{visitorId:await Mt(e.configuration.analytics)},fields:e.caseInput,context:e.caseField?_g(e.caseField.fields):void 0,locale:e.caseAssistConfiguration.locale,debug:e.debug});ne(wg(),e=>{e.addCase(Ss.rejected,(t,r)=>{var n;t.status.error=(n=r.payload)!=null?n:null,t.status.loading=!1}).addCase(Ss.fulfilled,(t,r)=>{t.documents=r.payload.response.documents,t.status.lastResponseId=r.payload.response.responseId,t.status.error=null,t.status.loading=!1}).addCase(Ss.pending,t=>{t.status.loading=!0})});var qO=F("excerptLength/set",e=>Q(e,new he({min:0,required:!0})));ne(Og(),e=>{e.addCase(qO,(t,r)=>{t.length=r.payload})});var Ce=ee,RO={state:new ct({required:!0}),numberOfResults:new he({required:!0,min:0}),value:new le({required:!0,emptyAllowed:!0}),path:new Qe({required:!0,each:ee}),moreValuesAvailable:new Fe({required:!1})};function Ug(e){e.children.forEach(t=>{Ug(t)}),Pr({state:e.state,numberOfResults:e.numberOfResults,value:e.value,path:e.path,moreValuesAvailable:e.moreValuesAvailable},RO)}var AO={facetId:Ce,field:ee,delimitingCharacter:new le({required:!1,emptyAllowed:!0}),filterFacetCount:new Fe({required:!1}),injectionDepth:new he({required:!1,min:0}),numberOfValues:new he({required:!1,min:1}),sortCriteria:new ct({required:!1}),basePath:new Qe({required:!1,each:ee}),filterByBasePath:new Fe({required:!1})},Lg=F("categoryFacet/register",e=>Q(e,AO)),Vg=F("categoryFacet/toggleSelectValue",e=>{try{return Pr(e.facetId,ee),Ug(e.selection),{payload:e,error:null}}catch(t){return{payload:e,error:_r(t)}}}),zg=F("categoryFacet/deselectAll",e=>Q(e,Ce)),DO=F("categoryFacet/updateNumberOfValues",e=>Q(e,{facetId:Ce,numberOfValues:new he({required:!0,min:1})})),jO=F("categoryFacet/updateSortCriterion",e=>Q(e,{facetId:Ce,criterion:new ct})),TO=new ge({options:{required:!1},values:{type:new le({constrainTo:["simple"],emptyAllowed:!1,required:!0}),values:new Qe({required:!0,max:25,each:new le({emptyAllowed:!1,required:!0})})}}),Ng={value:ee,numberOfResults:new he({min:0}),state:ee},FO={facetId:Ce,field:new le({required:!0,emptyAllowed:!0}),filterFacetCount:new Fe({required:!1}),injectionDepth:new he({required:!1,min:0}),numberOfValues:new he({required:!1,min:1}),sortCriteria:new ct({required:!1}),allowedValues:TO},Qg=F("facet/register",e=>Q(e,FO)),Ju=F("facet/toggleSelectValue",e=>Q(e,{facetId:Ce,selection:new ge({values:Ng})})),bo=F("facet/deselectAll",e=>Q(e,Ce)),_O=F("facet/updateSortCriterion",e=>Q(e,{facetId:Ce,criterion:new ct({required:!0})})),PO=F("facet/updateNumberOfValues",e=>Q(e,{facetId:Ce,numberOfValues:new he({required:!0,min:1})})),MO=F("facet/updateIsFieldExpanded",e=>Q(e,{facetId:Ce,isFieldExpanded:new Fe({required:!0})})),UO=F("facet/updateFreezeCurrentValues",e=>Q(e,{facetId:Ce,freezeCurrentValues:new Fe({required:!0})}));function LO(e){var t,r;let n=df(e.start,e),i=df(e.end,e),a=(t=e.endInclusive)!=null?t:!1,o=(r=e.state)!=null?r:"idle";return{start:n,end:i,endInclusive:a,state:o}}function df(e,t){let{dateFormat:r}=t;return H$(e)?(lf(e),Q$(e)):typeof e=="string"&&ti(e)?(lf(e),e):(z$(e,r),ag(Ma(e,r)))}var Hg=F("rangeFacet/updateSortCriterion",e=>Q(e,{facetId:Ce,criterion:new ct({required:!0})})),So={state:ee,start:new he({required:!0}),end:new he({required:!0}),endInclusive:new Fe({required:!0}),numberOfResults:new he({required:!0,min:0})},wo={start:ee,end:ee,endInclusive:new Fe({required:!0}),state:ee,numberOfResults:new he({required:!0,min:0})},VO=e=>({facetId:Ce,selection:typeof e.start=="string"?new ge({values:wo}):new ge({values:So})}),zO={start:ee,end:ee,endInclusive:new Fe({required:!0}),state:ee},NO={facetId:Ce,field:ee,currentValues:new Qe({required:!1,each:new ge({values:zO})}),generateAutomaticRanges:new Fe({required:!0}),filterFacetCount:new Fe({required:!1}),injectionDepth:new he({required:!1,min:0}),numberOfValues:new he({required:!1,min:1}),sortCriteria:new ct({required:!1}),rangeAlgorithm:new ct({required:!1})};function ff(e){return ti(e)?El(e):e}function Bg(e){!e.currentValues||e.currentValues.forEach(t=>{let{start:r,end:n}=LO(t);if(Ma(ff(r)).isAfter(Ma(ff(n))))throw new Error(`The start value is greater than the end value for the date range ${t.start} to ${t.end}`)})}var Wg=F("dateFacet/register",e=>{try{return Pr(e,NO),Bg(e),{payload:e,error:null}}catch(t){return{payload:e,error:_r(t)}}}),Ku=F("dateFacet/toggleSelectValue",e=>Q(e,{facetId:Ce,selection:new ge({values:wo})})),Yg=F("dateFacet/updateFacetValues",e=>{try{return Pr(e,{facetId:Ce,values:new Qe({each:new ge({values:wo})})}),Bg({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:_r(t)}}}),QO=Hg,HO=bo,BO={state:ee,start:new he({required:!0}),end:new he({required:!0}),endInclusive:new Fe({required:!0})},WO={facetId:Ce,field:ee,currentValues:new Qe({required:!1,each:new ge({values:BO})}),generateAutomaticRanges:new Fe({required:!0}),filterFacetCount:new Fe({required:!1}),injectionDepth:new he({required:!1,min:0}),numberOfValues:new he({required:!1,min:1}),sortCriteria:new ct({required:!1}),rangeAlgorithm:new ct({required:!1})};function Jg(e){!e.currentValues||e.currentValues.forEach(({start:t,end:r})=>{if(t>r)throw new Error(`The start value is greater than the end value for the numeric range ${t} to ${r}`)})}var Kg=F("numericFacet/register",e=>{try{return Q(e,WO),Jg(e),{payload:e,error:null}}catch(t){return{payload:e,error:_r(t)}}}),Gu=F("numericFacet/toggleSelectValue",e=>Q(e,{facetId:Ce,selection:new ge({values:So})})),Gg=F("numericFacet/updateFacetValues",e=>{try{return Pr(e,{facetId:Ce,values:new Qe({each:new ge({values:So})})}),Jg({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:_r(t)}}}),YO=Hg,JO=bo,Co=F("facetOptions/update",e=>Q(e,{freezeFacetOrder:new Fe({required:!1})})),KO=F("facetOptions/facet/enable",e=>Q(e,Ce)),Ci=F("facetOptions/facet/disable",e=>Q(e,Ce));ne(mo(),e=>{e.addCase(Co,(t,r)=>({...t,...r.payload})).addCase(Pe.fulfilled,t=>{t.freezeFacetOrder=!1}).addCase(Pe.rejected,t=>{t.freezeFacetOrder=!1}).addCase(Xe.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.facetOptions)!=null?i:t}).addCase(Lg,(t,r)=>{t.facets[r.payload.facetId]=Tn()}).addCase(Qg,(t,r)=>{t.facets[r.payload.facetId]=Tn()}).addCase(Wg,(t,r)=>{t.facets[r.payload.facetId]=Tn()}).addCase(Kg,(t,r)=>{t.facets[r.payload.facetId]=Tn()}).addCase(KO,(t,r)=>{t.facets[r.payload].enabled=!0}).addCase(Ci,(t,r)=>{t.facets[r.payload].enabled=!1}).addCase(yt,(t,r)=>{var n,i,a,o;[...Object.keys((n=r.payload.f)!=null?n:{}),...Object.keys((i=r.payload.cf)!=null?i:{}),...Object.keys((a=r.payload.nf)!=null?a:{}),...Object.keys((o=r.payload.df)!=null?o:{})].forEach(s=>{s in t||(t.facets[s]=Tn()),t.facets[s].enabled=!0})})});var Zu={facetId:Ce,captions:new ge({options:{required:!1}}),numberOfValues:new he({required:!1,min:1}),query:new le({required:!1,emptyAllowed:!0})},GO={path:new Qe({required:!0,each:ee}),displayValue:Ye,rawValue:Ye,count:new he({required:!0,min:0})},Zg=F("categoryFacet/selectSearchResult",e=>Q(e,{facetId:Ce,value:new ge({values:GO})})),ZO=F("categoryFacetSearch/register",e=>Q(e,Zu));function Xu(e,t){var r;let{facetId:n,criterion:i}=t,a=(r=e[n])==null?void 0:r.request;!a||(a.sortCriteria=i)}function ra(e){!e||(e.currentValues=e.currentValues.map(t=>({...t,state:"idle"})),e.preventAutoSelect=!0)}function Xg(e,t){!e||(e.numberOfValues=t)}function ws(e,t){let r=e[t];!r||(r.request.numberOfValues=r.initialNumberOfValues,r.request.currentValues=[],r.request.preventAutoSelect=!0)}function pf(e,t,r){e.currentValues=XO(t,r),e.numberOfValues=t.length?1:r,e.preventAutoSelect=!0}function XO(e,t){if(!e.length)return[];let r=hf(e[0],t),n=r;for(let i of e.splice(1)){let a=hf(i,t);n.children.push(a),n=a}return n.state="selected",n.retrieveChildren=!0,[r]}function hf(e,t){return{value:e,retrieveCount:t,children:[],state:"idle",retrieveChildren:!1}}ne(hi(),e=>{e.addCase(Lg,(t,r)=>{let n=r.payload,{facetId:i}=n;if(i in t)return;let a=rx(n),o=a.numberOfValues;t[i]={request:a,initialNumberOfValues:o}}).addCase(Xe.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.categoryFacetSet)!=null?i:t}).addCase(yt,(t,r)=>{let n=r.payload.cf||{};Object.keys(t).forEach(i=>{let a=t[i].request,o=n[i]||[];(o.length||a.currentValues.length)&&pf(a,o,t[i].initialNumberOfValues)})}).addCase(jO,(t,r)=>{var n;let{facetId:i,criterion:a}=r.payload,o=(n=t[i])==null?void 0:n.request;!o||(o.sortCriteria=a)}).addCase(Vg,(t,r)=>{var n;let{facetId:i,selection:a,retrieveCount:o}=r.payload,s=(n=t[i])==null?void 0:n.request;if(!s)return;let{path:l}=a,u=l.slice(0,l.length-1),d=tx(s,u,o);if(d.length){let g=d[0];g.retrieveChildren=!0,g.state="selected",g.children=[];return}let f=em(a.value,o);f.state="selected",d.push(f),s.numberOfValues=1}).addCase(zg,(t,r)=>{let n=r.payload;ws(t,n)}).addCase(Mr,t=>{Object.keys(t).forEach(r=>ws(t,r))}).addCase(Du,(t,r)=>Object.keys(t).forEach(n=>{t[n].request.preventAutoSelect=!r.payload.allow})).addCase(DO,(t,r)=>{var n;let{facetId:i,numberOfValues:a}=r.payload,o=(n=t[i])==null?void 0:n.request;if(o){if(!o.currentValues.length)return Xg(o,a);nx(t,r.payload)}}).addCase(Zg,(t,r)=>{let{facetId:n,value:i}=r.payload,a=t[n];if(!a)return;let o=[...i.path,i.rawValue];pf(a.request,o,a.initialNumberOfValues)}).addCase(zu.fulfilled,(t,r)=>{gf(t,r.payload.response.facets)}).addCase(Pe.fulfilled,(t,r)=>{gf(t,r.payload.response.facets)}).addCase(Ci,(t,r)=>{ws(t,r.payload)})});var ex={delimitingCharacter:";",filterFacetCount:!0,injectionDepth:1e3,numberOfValues:5,sortCriteria:"occurrences",basePath:[],filterByBasePath:!0};function tx(e,t,r){let n=e.currentValues;for(let i of t){let a=n[0];(!a||i!==a.value)&&(a=em(i,r),n.length=0,n.push(a)),a.retrieveChildren=!1,a.state="idle",n=a.children}return n}function rx(e){return{...ex,currentValues:[],preventAutoSelect:!1,type:"hierarchical",...e}}function em(e,t){return{value:e,state:"idle",children:[],retrieveChildren:!0,retrieveCount:t}}function gf(e,t){t.forEach(r=>{var n;if(!ix(e,r))return;let i=r.facetId,a=(n=e[i])==null?void 0:n.request;if(!a)return;let o=ax(a,r);a.currentValues=o?[]:a.currentValues,a.preventAutoSelect=!1})}function nx(e,t){var r;let{facetId:n,numberOfValues:i}=t,a=(r=e[n])==null?void 0:r.request.currentValues[0];if(a){for(;a.children.length&&(a==null?void 0:a.state)!=="selected";)a=a.children[0];a.retrieveCount=i}}function ix(e,t){return t.facetId in e}function ax(e,t){let r=ei(e.currentValues).parents,n=ei(t.values).parents;return r.length!==n.length}ne(vo(),e=>{e.addCase(Pe.fulfilled,(t,r)=>r.payload.response.facets.map(n=>n.facetId)).addCase(Xe.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.facetOrder)!=null?i:t})});function tm(e,t,r){let{facetId:n}=t;if(e[n])return;let i=!1,a={...sm,...t},o=r();e[n]={options:a,isLoading:i,response:o,initialNumberOfValues:a.numberOfValues,requestId:""}}function rm(e,t){let{facetId:r,...n}=t,i=e[r];!i||(i.options={...i.options,...n})}function nm(e,t,r){let n=e[t];!n||(n.requestId=r,n.isLoading=!0)}function im(e,t){let r=e[t];!r||(r.isLoading=!1)}function am(e,t,r){let{facetId:n,response:i}=t,a=e[n];!a||a.requestId===r&&(a.isLoading=!1,a.response=i)}function ec(e,t,r){let{facetId:n}=t,i=e[n];!i||(i.requestId="",i.isLoading=!1,i.response=r(),i.options.numberOfValues=i.initialNumberOfValues,i.options.query=sm.query)}function om(e,t){Object.keys(e).forEach(r=>ec(e,{facetId:r},t))}var sm={captions:{},numberOfValues:10,query:""},ox=async(e,t,r)=>{let n=t.categoryFacetSearchSet[e].options,i=t.categoryFacetSet[e].request,{captions:a,query:o,numberOfValues:s}=n,{field:l,delimitingCharacter:u,basePath:d,filterFacetCount:f}=i,g=sx(i),y=g.length?[g]:[],m=`*${o}*`;return{url:t.configuration.search.apiBaseUrl,accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,...t.configuration.search.authenticationProviders.length&&{authentication:t.configuration.search.authenticationProviders.join(",")},basePath:d,captions:a,numberOfValues:s,query:m,field:l,delimitingCharacter:u,ignorePaths:y,filterFacetCount:f,type:"hierarchical",...r?{}:{searchContext:(await sr(t)).request}}},sx=e=>{let t=[],r=e.currentValues[0];for(;r;)t.push(r.value),r=r.children[0];return t},lx=async(e,t,r)=>{let{captions:n,query:i,numberOfValues:a}=t.facetSearchSet[e].options,{field:o,currentValues:s,filterFacetCount:l}=t.facetSet[e].request,u=s.filter(f=>f.state!=="idle").map(f=>f.value),d=`*${i}*`;return{url:t.configuration.search.apiBaseUrl,accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,...t.configuration.search.authenticationProviders&&{authentication:t.configuration.search.authenticationProviders.join(",")},captions:n,numberOfValues:a,query:d,field:o,ignoreValues:u,filterFacetCount:l,type:"specific",...r?{}:{searchContext:(await sr(t)).request}}},lm=e=>async(t,{getState:r,extra:{apiClient:n,validatePayload:i}})=>{let a=r(),o;i(t,ee),ux(a,t)?o=await lx(t,a,e):o=await ox(t,a,e);let s=await n.facetSearch(o);return{facetId:t,response:s}},sn=we("facetSearch/executeSearch",lm(!1));we("facetSearch/executeSearch",lm(!0));var um=F("facetSearch/clearResults",e=>Q(e,{facetId:Ce})),ux=(e,t)=>e.facetSearchSet!==void 0&&e.facetSet!==void 0&&e.facetSet[t]!==void 0,cx={facetId:Ce,value:new ge({values:{displayValue:Ye,rawValue:Ye,count:new he({required:!0,min:0})}})},dx=F("facetSearch/register",e=>Q(e,Zu)),cm=F("facetSearch/update",e=>Q(e,Zu)),dm=F("facetSearch/toggleSelectValue",e=>Q(e,cx));ne(Bu(),e=>{e.addCase(ZO,(t,r)=>{let n=r.payload;tm(t,n,Cs)}).addCase(cm,(t,r)=>{rm(t,r.payload)}).addCase(sn.pending,(t,r)=>{let n=r.meta.arg;nm(t,n,r.meta.requestId)}).addCase(sn.rejected,(t,r)=>{let n=r.meta.arg;im(t,n)}).addCase(sn.fulfilled,(t,r)=>{am(t,r.payload,r.meta.requestId)}).addCase(um,(t,{payload:{facetId:r}})=>{ec(t,{facetId:r},Cs)}).addCase(Pe.fulfilled,t=>{om(t,Cs)})});function Cs(){return{moreValuesAvailable:!1,values:[]}}ne(Qu(),e=>{e.addCase(dx,(t,r)=>{let n=r.payload;tm(t,n,$s)}).addCase(cm,(t,r)=>{rm(t,r.payload)}).addCase(sn.pending,(t,r)=>{let n=r.meta.arg;nm(t,n,r.meta.requestId)}).addCase(sn.rejected,(t,r)=>{let n=r.meta.arg;im(t,n)}).addCase(sn.fulfilled,(t,r)=>{am(t,r.payload,r.meta.requestId)}).addCase(um,(t,{payload:r})=>{ec(t,r,$s)}).addCase(Pe.fulfilled,t=>{om(t,$s)})});function $s(){return{moreValuesAvailable:!1,values:[]}}var fx=F("productlisting/setUrl",e=>Q(e,{url:new le({required:!0,url:!0})})),px=F("productlisting/setAdditionalFields",e=>Q(e,{additionalFields:new Qe({required:!0,each:new le({required:!0,emptyAllowed:!1})})})),Or=we("productlisting/fetch",async(e,{getState:t,dispatch:r,rejectWithValue:n,extra:i})=>{let a=t(),{apiClient:o}=i,s=await o.getProducts(await hx(a));return mt(s)?(r(ga(s.error)),n(s.error)):{response:s.success}}),hx=async e=>{var t,r,n;let i=mx(e),a=await Mt(e.configuration.analytics);return{accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,platformUrl:e.configuration.platformUrl,url:(t=e.productListing)==null?void 0:t.url,...e.configuration.analytics.enabled&&a?{clientId:a}:{},...(r=e.productListing.additionalFields)!=null&&r.length?{additionalFields:e.productListing.additionalFields}:{},...e.productListing.advancedParameters&&gx(e.productListing.advancedParameters)?{advancedParameters:e.productListing.advancedParameters||{}}:{},...i.length&&{facets:{requests:i}},...e.pagination&&{pagination:{numberOfValues:e.pagination.numberOfResults,page:Math.ceil(e.pagination.firstResult/(e.pagination.numberOfResults||1))+1}},...(((n=e.sort)==null?void 0:n.by)||La.Relevance)!==La.Relevance&&{sort:e.sort},...e.context&&{userContext:e.context.contextValues}}};function gx(e){return e.debug}function mx(e){var t;return gg(vx(e),(t=e.facetOrder)!=null?t:[])}function vx(e){var t,r,n,i;return[...Sr((t=e.facetSet)!=null?t:{}),...Sr((r=e.numericFacetSet)!=null?r:{}),...Sr((n=e.dateFacetSet)!=null?n:{}),...Sr((i=e.categoryFacetSet)!=null?i:{})]}ne(vi(),e=>{e.addCase(Qg,(t,r)=>{let{facetId:n}=r.payload;n in t||(t[n]=tC(bx(r.payload)))}).addCase(Xe.fulfilled,(t,r)=>{if(r.payload&&Object.keys(r.payload.facetSet).length!==0)return r.payload.facetSet}).addCase(yt,(t,r)=>{let n=r.payload.f||{};Object.keys(t).forEach(i=>{let{request:a}=t[i],o=n[i]||[],s=a.currentValues.filter(l=>!o.includes(l.value));a.currentValues=[...o.map(vf),...s.map(wx)],a.preventAutoSelect=o.length>0,a.numberOfValues=Math.max(o.length,a.numberOfValues)})}).addCase(Ju,(t,r)=>{var n;let{facetId:i,selection:a}=r.payload,o=(n=t[i])==null?void 0:n.request;if(!o)return;o.preventAutoSelect=!0;let s=o.currentValues.find(u=>u.value===a.value);if(!s){mf(o,a);return}let l=s.state==="selected";s.state=l?"idle":"selected",o.freezeCurrentValues=!0}).addCase(UO,(t,r)=>{var n;let{facetId:i,freezeCurrentValues:a}=r.payload,o=(n=t[i])==null?void 0:n.request;!o||(o.freezeCurrentValues=a)}).addCase(bo,(t,r)=>{var n;ra((n=t[r.payload])==null?void 0:n.request)}).addCase(Mr,t=>{Object.values(t).filter(r=>r.hasBreadcrumbs).forEach(({request:r})=>ra(r))}).addCase(Gh,t=>{Object.values(t).filter(r=>!r.hasBreadcrumbs).forEach(({request:r})=>ra(r))}).addCase(Du,(t,r)=>Object.values(t).forEach(n=>{n.request.preventAutoSelect=!r.payload.allow})).addCase(_O,(t,r)=>{Xu(t,r.payload)}).addCase(PO,(t,r)=>{var n;let{facetId:i,numberOfValues:a}=r.payload;Xg((n=t[i])==null?void 0:n.request,a)}).addCase(MO,(t,r)=>{var n;let{facetId:i,isFieldExpanded:a}=r.payload,o=(n=t[i])==null?void 0:n.request;!o||(o.isFieldExpanded=a)}).addCase(Pe.fulfilled,(t,r)=>{r.payload.response.facets.forEach(n=>{var i;return ks((i=t[n.facetId])==null?void 0:i.request,n)})}).addCase(Or.fulfilled,(t,r)=>{var n,i;(((i=(n=r.payload.response)==null?void 0:n.facets)==null?void 0:i.results)||[]).forEach(a=>{var o;return ks((o=t[a.facetId])==null?void 0:o.request,a)})}).addCase(zu.fulfilled,(t,r)=>{r.payload.response.facets.forEach(n=>{var i;return ks((i=t[n.facetId])==null?void 0:i.request,n)})}).addCase(dm,(t,r)=>{var n;let{facetId:i,value:a}=r.payload,o=(n=t[i])==null?void 0:n.request;if(!o)return;let{rawValue:s}=a,{currentValues:l}=o,u=l.find(f=>f.value===s);if(u){u.state="selected";return}let d=vf(s);mf(o,d),o.freezeCurrentValues=!0,o.preventAutoSelect=!0}).addCase(Ci,(t,r)=>{if(!(r.payload in t))return;let{request:n}=t[r.payload];ra(n)})});function mf(e,t){let{currentValues:r}=e,n=r.findIndex(s=>s.state==="idle"),i=n===-1?r.length:n,a=r.slice(0,i),o=r.slice(i+1);e.currentValues=[...a,t,...o],e.numberOfValues=e.currentValues.length}function ks(e,t){!e||(e.currentValues=t.values.map(Sx),e.freezeCurrentValues=!1,e.preventAutoSelect=!1)}var yx={filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"automatic"};function bx(e){return{...yx,type:"specific",currentValues:[],freezeCurrentValues:!1,isFieldExpanded:!1,preventAutoSelect:!1,...e}}function Sx(e){let{value:t,state:r}=e;return{value:t,state:r}}function vf(e){return{value:e,state:"selected"}}function wx(e){return{...e,state:"idle"}}var fm={filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"ascending",rangeAlgorithm:"even"};function pm(e,t){let{request:r}=t,{facetId:n}=r;if(n in e)return;let i=vm(r);r.numberOfValues=i,e[n]=t}function hm(e,t,r){var n;let i=(n=e[t])==null?void 0:n.request;!i||(i.currentValues=r,i.numberOfValues=vm(i))}function gm(e,t,r){var n;let i=(n=e[t])==null?void 0:n.request;if(!i)return;let a=jl(i.currentValues,r);if(!a)return;let o=a.state==="selected";a.state=o?"idle":"selected",i.preventAutoSelect=!0}function ln(e,t){var r;let n=(r=e[t])==null?void 0:r.request;!n||n.currentValues.forEach(i=>i.state="idle")}function mm(e,t){Object.entries(e).forEach(([r,{request:n}])=>{let i=t[r]||[];n.currentValues.forEach(s=>{let l=!!jl(i,s);return s.state=l?"selected":"idle",s});let a=i.filter(s=>!jl(n.currentValues,s)),o=n.currentValues;o.push(...a),n.numberOfValues=Math.max(n.numberOfValues,o.length)})}function Va(e,t,r){t.forEach(n=>{var i;let a=n.facetId,o=(i=e[a])==null?void 0:i.request;if(!o)return;let s=r(n.values);o.currentValues=s,o.preventAutoSelect=!1})}function jl(e,t){let{start:r,end:n}=t;return e.find(i=>i.start===r&&i.end===n)}function vm(e){let{generateAutomaticRanges:t,currentValues:r,numberOfValues:n}=e;return t?Math.max(n,r.length):r.length}ne(gi(),e=>{e.addCase(Wg,(t,r)=>{let{payload:n}=r,i=Cx(n);pm(t,Xw(i))}).addCase(Xe.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.dateFacetSet)!=null?i:t}).addCase(yt,(t,r)=>{let n=r.payload.df||{};mm(t,n)}).addCase(Ku,(t,r)=>{let{facetId:n,selection:i}=r.payload;gm(t,n,i)}).addCase(Yg,(t,r)=>{let{facetId:n,values:i}=r.payload;hm(t,n,i)}).addCase(HO,(t,r)=>{ln(t,r.payload)}).addCase(Mr,t=>{Object.keys(t).forEach(r=>{ln(t,r)})}).addCase(QO,(t,r)=>{Xu(t,r.payload)}).addCase(Pe.fulfilled,(t,r)=>{let n=r.payload.response.facets;Va(t,n,yf)}).addCase(Or.fulfilled,(t,r)=>{var n,i;let a=((i=(n=r.payload.response)==null?void 0:n.facets)==null?void 0:i.results)||[];Va(t,a,yf)}).addCase(Ci,(t,r)=>{ln(t,r.payload)})});function Cx(e){return{...fm,currentValues:[],preventAutoSelect:!1,type:"dateRange",...e}}function yf(e){return e.map(t=>{let{numberOfResults:r,...n}=t;return n})}ne(mi(),e=>{e.addCase(Kg,(t,r)=>{let{payload:n}=r,i=$x(n);pm(t,eC(i))}).addCase(Xe.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.numericFacetSet)!=null?i:t}).addCase(yt,(t,r)=>{let n=r.payload.nf||{};mm(t,n)}).addCase(Gu,(t,r)=>{let{facetId:n,selection:i}=r.payload;gm(t,n,i)}).addCase(Gg,(t,r)=>{let{facetId:n,values:i}=r.payload;hm(t,n,i)}).addCase(JO,(t,r)=>{ln(t,r.payload)}).addCase(Mr,t=>{Object.keys(t).forEach(r=>{ln(t,r)})}).addCase(YO,(t,r)=>{Xu(t,r.payload)}).addCase(Pe.fulfilled,(t,r)=>{let n=r.payload.response.facets;Va(t,n,bf)}).addCase(Or.fulfilled,(t,r)=>{var n,i;let a=((i=(n=r.payload.response)==null?void 0:n.facets)==null?void 0:i.results)||[];Va(t,a,bf)}).addCase(Ci,(t,r)=>{ln(t,r.payload)})});function $x(e){return{...fm,currentValues:[],preventAutoSelect:!1,type:"numericalRange",...e}}function bf(e){return e.map(t=>{let{numberOfResults:r,...n}=t;return n})}var kx={collectionField:new le({emptyAllowed:!1,required:!1}),parentField:new le({emptyAllowed:!1,required:!1}),childField:new le({emptyAllowed:!1,required:!1}),numberOfFoldedResults:new he({min:0,required:!1})},ym=F("folding/register",e=>Q(e,kx)),Os=we("folding/loadCollection",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n}})=>{let i=t(),a=await Fu(i),o=await n.search({...a,q:Ox(i),enableQuerySyntax:!0,cq:`@${i.folding.fields.collection}="${e}"`,filterField:i.folding.fields.collection,childField:i.folding.fields.parent,parentField:i.folding.fields.child,filterFieldRange:100},{origin:"foldingCollection"});return mt(o)?r(o.error):{collectionId:e,results:o.success.results,rootResult:i.folding.collections[e].result}});function Ox(e){return e.query.q===""?"":e.query.enableQuerySyntax?`${e.query.q} OR @uri`:`( <@- ${e.query.q} -@> ) OR @uri`}Gt("analytics/folding/showLess",Ut.Custom,e=>e.makeShowLessFoldedResults());var xx=new Qe({each:ee,required:!0}),Ix=F("fields/registerFieldsToInclude",e=>Q(e,xx)),Ex=F("fields/fetchall/enable"),qx=F("fields/fetchall/disable"),Rx=we("fields/fetchDescription",async(e,{extra:t,getState:r,rejectWithValue:n})=>{let i=r(),{accessToken:a,organizationId:o}=i.configuration,{apiBaseUrl:s}=i.configuration.search,l=await t.apiClient.fieldDescriptions({accessToken:a,organizationId:o,url:s});return mt(l)?n(l.error):l.success.fields});ne(Hu(),e=>e.addCase(Ix,(t,r)=>{t.fieldsToInclude=[...new Set(t.fieldsToInclude.concat(r.payload))]}).addCase(Ex,t=>{t.fetchAllFields=!0}).addCase(qx,t=>{t.fetchAllFields=!1}).addCase(Rx.fulfilled,(t,{payload:r})=>{t.fieldsDescription=r}).addCase(ym,(t,{payload:r})=>{var n,i,a;let o=Wu().fields;t.fieldsToInclude.push((n=r.collectionField)!=null?n:o.collection,(i=r.parentField)!=null?i:o.parent,(a=r.childField)!=null?a:o.child)}));function Ax(e,t){return e.raw[t.collection]}function Tl(e,t){return e.raw[t.parent]}function Bn(e,t){let r=e.raw[t.child];return Wh(r)?r[0]:r}function Dx(e,t){return(e||t)!==void 0&&e===t}function bm(e,t,r,n=[]){let i=Bn(e,r);return i?n.indexOf(i)!==-1?[]:t.filter(a=>{let o=Bn(a,r)===Bn(e,r);return Tl(a,r)===i&&!o}).map(a=>({result:a,children:bm(a,t,r,[...n,i])})):[]}function jx(e,t){return e.find(r=>{let n=Tl(r,t)===void 0,i=Dx(Tl(r,t),Bn(r,t));return n||i})}function Sm(e){return e.parentResult?Sm(e.parentResult):e}function Tx(e,t,r){var n;let i=t$(e),a=(n=r!=null?r:jx(i,t))!=null?n:Sm(e);return{result:a,children:bm(a,i,t),moreResultsAvailable:!0,isLoadingMoreResults:!1}}function na(e,t,r){let n={};return e.forEach(i=>{let a=Ax(i,t);!a||!Bn(i,t)&&!i.parentResult||(n[a]=Tx(i,t,r))}),n}function Sf(e,t){if(!e.collections[t])throw new Error(`Missing collection ${t} from ${Object.keys(e.collections)}: Folding most probably in an invalid state...`);return e.collections[t]}ne(Wu(),e=>e.addCase(Pe.fulfilled,(t,{payload:r})=>{t.collections=t.enabled?na(r.response.results,t.fields):{}}).addCase(va.fulfilled,(t,{payload:r})=>{t.collections=t.enabled?na(r.response.results,t.fields):{}}).addCase(Hn.fulfilled,(t,{payload:r})=>{t.collections=t.enabled?{...t.collections,...na(r.response.results,t.fields)}:{}}).addCase(ym,(t,{payload:r})=>{var n,i,a,o;return t.enabled?t:{enabled:!0,collections:{},fields:{collection:(n=r.collectionField)!=null?n:t.fields.collection,parent:(i=r.parentField)!=null?i:t.fields.parent,child:(a=r.childField)!=null?a:t.fields.child},filterFieldRange:(o=r.numberOfFoldedResults)!=null?o:t.filterFieldRange}}).addCase(Os.pending,(t,{meta:r})=>{let n=r.arg;Sf(t,n).isLoadingMoreResults=!0}).addCase(Os.rejected,(t,{meta:r})=>{let n=r.arg;Sf(t,n).isLoadingMoreResults=!1}).addCase(Os.fulfilled,(t,{payload:{collectionId:r,results:n,rootResult:i}})=>{let a=na(n,t.fields,i);if(!a||!a[r])throw new Error(`Unable to create collection ${r} from received results: ${JSON.stringify(n)}. Folding most probably in an invalid state... `);t.collections[r]=a[r],t.collections[r].moreResultsAvailable=!1}));var Fx=Je(CS());function _x(e,t,r=(n,i)=>n===i){return e.length===t.length&&e.findIndex((n,i)=>!r(t[i],n))===-1}(0,Fx.createCustomEqual)(e=>(t,r)=>Array.isArray(t)&&Array.isArray(r)?t.length!==r.length?!1:t.every(n=>r.findIndex(i=>e(n,i))!==-1):e(t,r));ne(tg(),e=>{e.addCase(pa,(t,r)=>Px(t,r.payload)?void 0:r.payload)});var Px=(e,t)=>Mx(e.context,t.context)&&Ux(e.dictionaryFieldContext,t.dictionaryFieldContext)&&Hx(e.advancedSearchQueries,t.advancedSearchQueries)&&Lx(e.tabSet,t.tabSet)&&Vx(e.staticFilterSet,t.staticFilterSet)&&xs(e.facetSet,t.facetSet)&&xs(e.dateFacetSet,t.dateFacetSet)&&xs(e.numericFacetSet,t.numericFacetSet)&&zx(e.categoryFacetSet,t.categoryFacetSet)&&Nx(e.pagination,t.pagination)&&Qx(e.query,t.query)&&Bx(e,t)&&Wx(e.pipeline,t.pipeline)&&Yx(e.searchHub,t.searchHub)&&Jx(e.facetOrder,t.facetOrder)&&Kx(e.debug,t.debug),Mx=(e,t)=>JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues),Ux=(e,t)=>JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues),Lx=(e,t)=>{let r=wf(e),n=wf(t);return(r==null?void 0:r.id)===(n==null?void 0:n.id)},wf=e=>Object.values(e).find(t=>t.isActive),Vx=(e,t)=>{for(let[r,n]of Object.entries(t)){if(!e[r])return!1;let i=Cf(e[r]),a=Cf(n);if(JSON.stringify(i)!==JSON.stringify(a))return!1}return!0},Cf=e=>e.values.filter(t=>t.state!=="idle"),xs=(e,t)=>{for(let[r,n]of Object.entries(t)){if(!e[r])return!1;let i=e[r].request.currentValues.filter(o=>o.state==="selected"),a=n.request.currentValues.filter(o=>o.state==="selected");if(JSON.stringify(i)!==JSON.stringify(a))return!1}return!0},zx=(e,t)=>{var r;for(let[n,i]of Object.entries(t)){if(!e[n])return!1;let a=ei((r=e[n])==null?void 0:r.request.currentValues).parents.map(({value:s})=>s),o=ei(i==null?void 0:i.request.currentValues).parents.map(({value:s})=>s);if(JSON.stringify(a)!==JSON.stringify(o))return!1}return!0},Nx=(e,t)=>e.firstResult===t.firstResult&&e.numberOfResults===t.numberOfResults,Qx=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Hx=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Bx=(e,t)=>e.sortCriteria===t.sortCriteria,Wx=(e,t)=>e===t,Yx=(e,t)=>e===t,Jx=(e,t)=>_x(e,t),Kx=(e,t)=>e===t,Gx=F("insightConfiguration/set",e=>Q(e,{insightId:ee}));ne(wk(),e=>{e.addCase(Gx,(t,r)=>{t.insightId=r.payload.insightId})});var wm=F("searchHub/set",e=>Q(e,new le({required:!0,emptyAllowed:!0}))),Is=we("insight/interface/fetch",async(e,{getState:t,dispatch:r,rejectWithValue:n,extra:{apiClient:i}})=>{let a=t(),o=await i.getInterface(Zx(a));return mt(o)?n(o.error):(r(wm(o.success.searchHub)),{response:o.success})}),Zx=e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.platformUrl,insightId:e.insightConfiguration.insightId});ne(Ck(),e=>{e.addCase(Is.pending,t=>{t.loading=!0,t.error=void 0}).addCase(Is.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Is.fulfilled,(t,r)=>{t.loading=!1,t.error=void 0;let{searchHub:n,...i}=r.payload.response;t.config=i})});ne(Pu(),e=>{e.addCase($$,(t,r)=>{let{id:n}=r.payload;t[n]||(t[n]={q:"",cache:{}})}),e.addCase(Zh,(t,r)=>{let{q:n,id:i}=r.payload;!n||(t[i].q=n)}),e.addCase(k$,(t,r)=>{let{id:n}=r.payload;Object.entries(t[n].cache).forEach(([i,a])=>{F$(a)&&delete t[n].cache[i]})}),e.addCase(ms.pending,(t,r)=>{for(let i in t)for(let a in t[i].cache)t[i].cache[a].isActive=!1;if(!ia(t,r.meta)){Xx(t,r.meta);return}let n=ia(t,r.meta);n.isLoading=!0,n.isActive=!0,n.error=null}),e.addCase(ms.fulfilled,(t,r)=>{let{results:n,searchUid:i}=r.payload,{cacheTimeout:a}=r.meta.arg,o=ia(t,r.meta);o.isActive=!0,o.searchUid=i,o.isLoading=!1,o.error=null,o.results=n,o.expiresAt=a?a+Date.now():0}),e.addCase(ms.rejected,(t,r)=>{let n=ia(t,r.meta);n.error=r.error||null,n.isLoading=!1,n.isActive=!1})});var Xx=(e,t)=>{let{q:r,id:n}=t.arg;e[n].cache[r]={isLoading:!0,error:null,results:[],expiresAt:0,isActive:!0,searchUid:""}},ia=(e,t)=>{let{q:r,id:n}=t.arg;return e[n].cache[r]||null};ne(Cn(),e=>{e.addCase(O$,(t,r)=>{let n=Es(t),i=r.payload;t.defaultNumberOfResults=t.numberOfResults=i,t.firstResult=Fn(n,i)}).addCase(x$,(t,r)=>{t.numberOfResults=r.payload,t.firstResult=0}).addCase(I$,(t,r)=>{let n=r.payload;t.firstResult=Fn(n,t.numberOfResults)}).addCase(Xh,(t,r)=>{let n=r.payload;t.firstResult=Fn(n,t.numberOfResults)}).addCase(q$,t=>{let r=Es(t),n=Math.max(r-1,ek);t.firstResult=Fn(n,t.numberOfResults)}).addCase(E$,t=>{let r=Es(t),n=eI(t),i=Math.min(r+1,n);t.firstResult=Fn(i,t.numberOfResults)}).addCase(Xe.fulfilled,(t,r)=>{r.payload&&(t.numberOfResults=r.payload.pagination.numberOfResults,t.firstResult=r.payload.pagination.firstResult)}).addCase(yt,(t,r)=>{var n,i;t.firstResult=(n=r.payload.firstResult)!=null?n:t.firstResult,t.numberOfResults=(i=r.payload.numberOfResults)!=null?i:t.defaultNumberOfResults}).addCase(Pe.fulfilled,(t,r)=>{let{response:n}=r.payload;t.totalCountFiltered=n.totalCountFiltered}).addCase(Or.fulfilled,(t,r)=>{let{response:n}=r.payload;t.totalCountFiltered=n.pagination.totalCount}).addCase(bo,t=>{Et(t)}).addCase(Ju,t=>{Et(t)}).addCase(zg,t=>{Et(t)}).addCase(Vg,t=>{Et(t)}).addCase(Zg,t=>{Et(t)}).addCase(Ku,t=>{Et(t)}).addCase(Gu,t=>{Et(t)}).addCase(Mr,t=>{Et(t)}).addCase(Yg,t=>{Et(t)}).addCase(Gg,t=>{Et(t)}).addCase(dm,t=>{Et(t)})});function Et(e){e.firstResult=Cn().firstResult}function Es(e){let{firstResult:t,numberOfResults:r}=e;return tI(t,r)}function eI(e){let{totalCountFiltered:t,numberOfResults:r}=e;return rI(t,r)}function Fn(e,t){return(e-1)*t}function tI(e,t){return Math.round(e/t)+1}function rI(e,t){let r=Math.min(e,ql);return Math.ceil(r/t)}var nI=F("pipeline/set",e=>Q(e,new le({required:!0,emptyAllowed:!0})));ne(po(),e=>{e.addCase(nI,(t,r)=>r.payload).addCase(Xe.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.pipeline)!=null?i:t}).addCase(Yu,(t,r)=>r.payload.pipeline||t)});ne($g(),e=>{e.addCase(fx,(t,r)=>{t.url=r.payload.url}).addCase(px,(t,r)=>{t.additionalFields=r.payload.additionalFields}).addCase(Or.rejected,(t,r)=>{t.error=r.payload?r.payload:null,t.isLoading=!1}).addCase(Or.fulfilled,(t,r)=>{t.error=null,t.facets=r.payload.response.facets,t.products=r.payload.response.products,t.responseId=r.payload.response.responseId,t.isLoading=!1}).addCase(Or.pending,t=>{t.isLoading=!0})});ne(Ru(),e=>{e.addCase(u$,(t,r)=>{t.id=r.payload.id}).addCase(c$,(t,r)=>{t.skus=r.payload.skus}).addCase(d$,(t,r)=>{t.filter.brand=r.payload.brand}).addCase(f$,(t,r)=>{t.filter.category=r.payload.category}).addCase(h$,(t,r)=>{t.maxNumberOfRecommendations=r.payload.number}).addCase(p$,(t,r)=>{t.additionalFields=r.payload.additionalFields}).addCase(da.rejected,(t,r)=>{t.error=r.payload?r.payload:null,t.isLoading=!1}).addCase(da.fulfilled,(t,r)=>{t.error=null,t.searchUid=r.payload.searchUid,t.recommendations=r.payload.recommendations,t.isLoading=!1}).addCase(da.pending,t=>{t.isLoading=!0})});var $i={id:ee},iI=F("querySuggest/register",e=>Q(e,{...$i,count:new he({min:0})})),aI=F("querySuggest/unregister",e=>Q(e,$i)),Cm=F("querySuggest/selectSuggestion",e=>Q(e,{...$i,expression:Ye})),oI=F("querySuggest/clear",e=>Q(e,$i)),qs=we("querySuggest/fetch",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n,validatePayload:i}})=>{i(e,$i);let a=e.id,o=await sI(a,t()),s=await n.querySuggest(o);return mt(s)?r(s.error):{id:a,q:o.q,...s.success}}),sI=async(e,t)=>({accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,url:t.configuration.search.apiBaseUrl,count:t.querySuggest[e].count,q:t.querySet[e],locale:t.configuration.search.locale,timezone:t.configuration.search.timezone,actionsHistory:t.configuration.analytics.enabled?Sn.getHistory():[],...t.context&&{context:t.context.contextValues},...t.pipeline&&{pipeline:t.pipeline},...t.searchHub&&{searchHub:t.searchHub},...t.configuration.analytics.enabled&&{visitorId:await Mt(t.configuration.analytics),...t.configuration.analytics.enabled&&await ho(t.configuration.analytics)},...t.configuration.search.authenticationProviders.length&&{authentication:t.configuration.search.authenticationProviders.join(",")}}),$m={id:ee,query:Ye},lI=F("querySet/register",e=>Q(e,$m)),uI=F("querySet/update",e=>Q(e,$m));ne(Mu(),e=>{e.addCase(lI,(t,r)=>{let{id:n,query:i}=r.payload;n in t||(t[n]=i)}).addCase(uI,(t,r)=>{let{id:n,query:i}=r.payload;Rs(t,n,i)}).addCase(Cm,(t,r)=>{let{id:n,expression:i}=r.payload;Rs(t,n,i)}).addCase(Pe.fulfilled,(t,r)=>{let{queryExecuted:n}=r.payload;$f(t,n)}).addCase(yt,(t,r)=>{Se(r.payload.q)||$f(t,r.payload.q)}).addCase(Xe.fulfilled,(t,r)=>{if(r.payload)for(let[n,i]of Object.entries(r.payload.querySet))Rs(t,n,i)})});function $f(e,t){Object.keys(e).forEach(r=>e[r]=t)}var Rs=(e,t,r)=>{t in e&&(e[t]=r)};ne($k(),e=>e.addCase(iI,(t,r)=>{let n=r.payload.id;n in t||(t[n]=cI(r.payload))}).addCase(aI,(t,r)=>{delete t[r.payload.id]}).addCase(qs.pending,(t,r)=>{let n=t[r.meta.arg.id];!n||(n.currentRequestId=r.meta.requestId,n.isLoading=!0)}).addCase(qs.fulfilled,(t,r)=>{let n=t[r.meta.arg.id];if(!n||r.meta.requestId!==n.currentRequestId)return;let{q:i}=r.payload;i&&n.partialQueries.push(i.replace(/;/,encodeURIComponent(";"))),n.responseId=r.payload.responseId,n.completions=r.payload.completions,n.isLoading=!1,n.error=null}).addCase(qs.rejected,(t,r)=>{let n=t[r.meta.arg.id];!n||(n.error=r.payload||null,n.isLoading=!1)}).addCase(oI,(t,r)=>{let n=t[r.payload.id];!n||(n.responseId="",n.completions=[],n.partialQueries=[])}));function cI(e){return{id:"",completions:[],responseId:"",count:5,currentRequestId:"",error:null,partialQueries:[],isLoading:!1,...e}}ne(Tr(),e=>e.addCase(Tu,(t,r)=>({...t,...r.payload})).addCase(_u,(t,r)=>{t.q=r.payload}).addCase(Cm,(t,r)=>{t.q=r.payload.expression}).addCase(Xe.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.query)!=null?i:t}).addCase(yt,(t,r)=>{var n,i;t.q=(n=r.payload.q)!=null?n:t.q,t.enableQuerySyntax=(i=r.payload.enableQuerySyntax)!=null?i:t.enableQuerySyntax}));var dI=()=>new ge({values:{questionAnswerId:ee},options:{required:!0}});function km(e){return Q(e,dI())}var fI=F("smartSnippet/expand"),pI=F("smartSnippet/collapse"),hI=F("smartSnippet/like"),gI=F("smartSnippet/dislike"),mI=F("smartSnippet/feedbackModal/open"),vI=F("smartSnippet/feedbackModal/close"),yI=F("smartSnippet/related/expand",e=>km(e)),bI=F("smartSnippet/related/collapse",e=>km(e)),kf=(e,t)=>e.findIndex(r=>r.questionAnswerId===t.questionAnswerId);function Om({question:e,answerSnippet:t,documentId:{contentIdKey:r,contentIdValue:n}}){return ZC({question:e,answerSnippet:t,contentIdKey:r,contentIdValue:n})}function SI(e,t){let r=Om(e);return t&&r===t.questionAnswerId?t:{contentIdKey:e.documentId.contentIdKey,contentIdValue:e.documentId.contentIdValue,expanded:!1,questionAnswerId:r}}ne(Dl(),e=>e.addCase(fI,t=>{t.expanded=!0}).addCase(pI,t=>{t.expanded=!1}).addCase(hI,t=>{t.liked=!0,t.disliked=!1,t.feedbackModalOpen=!1}).addCase(gI,t=>{t.liked=!1,t.disliked=!0}).addCase(mI,t=>{t.feedbackModalOpen=!0}).addCase(vI,t=>{t.feedbackModalOpen=!1}).addCase(Pe.fulfilled,(t,r)=>{let n=r.payload.response.questionAnswer.relatedQuestions.map((a,o)=>SI(a,t.relatedQuestions[o])),i=Om(r.payload.response.questionAnswer);return t.questionAnswerId===i?{...t,relatedQuestions:n}:{...Dl(),relatedQuestions:n,questionAnswerId:i}}).addCase(yI,(t,r)=>{let n=kf(t.relatedQuestions,r.payload);n!==-1&&(t.relatedQuestions[n].expanded=!0)}).addCase(bI,(t,r)=>{let n=kf(t.relatedQuestions,r.payload);n!==-1&&(t.relatedQuestions[n].expanded=!1)}));var wI={queries:new Qe({required:!0,each:new le({emptyAllowed:!1})}),maxLength:new he({required:!0,min:1,default:10})},CI=F("recentQueries/registerRecentQueries",e=>Q(e,wI)),$I=F("recentQueries/clearRecentQueries");ne(xg(),e=>{e.addCase(CI,(t,r)=>{t.queries=r.payload.queries.slice(0,r.payload.maxLength),t.maxLength=r.payload.maxLength}).addCase($I,t=>{t.queries=[]}).addCase(Pe.fulfilled,(t,r)=>{let n=r.payload.queryExecuted.trim(),i=r.payload.response.results;if(!n.length||!i.length)return;t.queries=t.queries.filter(o=>o!==n);let a=t.queries.slice(0,t.maxLength-1);t.queries=[n,...a]})});var kI={results:new Qe({required:!0,each:new ge({values:Au})}),maxLength:new he({required:!0,min:1,default:10})},OI=F("recentResults/registerRecentResults",e=>Q(e,kI)),xI=F("recentResults/pushRecentResult",e=>(o$(e),{payload:e})),II=F("recentResults/clearRecentResults");ne(Ig(),e=>{e.addCase(OI,(t,r)=>{t.results=r.payload.results.slice(0,r.payload.maxLength),t.maxLength=r.payload.maxLength}).addCase(II,t=>{t.results=[]}).addCase(xI,(t,r)=>{let n=r.payload;t.results=t.results.filter(a=>a.uniqueId!==n.uniqueId);let i=t.results.slice(0,t.maxLength-1);t.results=[n,...i]})});ne(Qn(),e=>{e.addCase(y$,(t,r)=>{t.id=r.payload.id}).addCase(fa.rejected,(t,r)=>{t.error=r.payload?r.payload:null,t.isLoading=!1}).addCase(fa.fulfilled,(t,r)=>{t.error=null,t.recommendations=r.payload.recommendations,t.duration=r.payload.duration,t.isLoading=!1,t.searchUid=r.payload.searchUid,t.splitTestRun=r.payload.splitTestRun,t.pipeline=r.payload.pipeline}).addCase(fa.pending,t=>{t.isLoading=!0})});async function EI(e,t){var r;let{search:n,accessToken:i,organizationId:a,analytics:o}=e.configuration,s=((r=e.query)==null?void 0:r.q)||"";return{url:n.apiBaseUrl,accessToken:i,organizationId:a,enableNavigation:!1,...o.enabled&&{visitorId:await Mt(e.configuration.analytics)},q:s,...t,requestedOutputSize:t.requestedOutputSize||0,...n.authenticationProviders.length&&{authentication:n.authenticationProviders.join(",")}}}var Of=we("resultPreview/fetchResultContent",async(e,{extra:t,getState:r,rejectWithValue:n})=>{let i=r(),a=await EI(i,e),o=await t.apiClient.html(a);return mt(o)?n(o.error):{content:o.success,uniqueId:e.uniqueId}}),qI=F("resultPreview/next"),RI=F("resultPreview/previous"),AI=F("resultPreview/prepare",e=>Q(e,{results:new Qe({required:!0})})),xf=2048,DI=we("resultPreview/updateContentURL",async(e,{getState:t,extra:r})=>{let n=t(),i=_C(await e.buildResultPreviewRequest(n,{uniqueId:e.uniqueId,requestedOutputSize:e.requestedOutputSize}),e.path);return(i==null?void 0:i.length)>xf&&r.logger.error(`The content URL was truncated as it exceeds the maximum allowed length of ${xf} characters.`),{contentURL:i}}),As=e=>e.filter(t=>t.hasHtmlVersion).map(t=>t.uniqueId);ne(Ua(),e=>{e.addCase(Of.pending,t=>{t.isLoading=!0}).addCase(Of.fulfilled,(t,r)=>{let{content:n,uniqueId:i}=r.payload;t.position=t.resultsWithPreview.indexOf(i),t.content=n,t.uniqueId=i,t.isLoading=!1}).addCase(Pe.fulfilled,(t,r)=>{let{content:n,isLoading:i,uniqueId:a,contentURL:o}=Ua();t.content=n,t.isLoading=i,t.uniqueId=a,t.contentURL=o,t.resultsWithPreview=As(r.payload.response.results)}).addCase(Hn.fulfilled,(t,r)=>{t.resultsWithPreview=t.resultsWithPreview.concat(As(r.payload.response.results))}).addCase(AI,(t,r)=>{t.resultsWithPreview=As(r.payload.results)}).addCase(qI,t=>{if(t.isLoading)return;let r=t.position+1;r>t.resultsWithPreview.length-1&&(r=0),t.position=r}).addCase(RI,t=>{if(t.isLoading)return;let r=t.position-1;r<0&&(r=t.resultsWithPreview.length-1),t.position=r}).addCase(DI.fulfilled,(t,r)=>{t.contentURL=r.payload.contentURL})});ne(Fr(),e=>{e.addCase(wm,(t,r)=>r.payload).addCase(Xe.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.searchHub)!=null?i:t}).addCase(Yu,(t,r)=>r.payload.searchHub||t)});function Ds(e,t){var r;let n=(r=t.payload)!=null?r:null;n&&(e.response=$r().response,e.results=[],e.questionAnswer=_a()),e.error=n,e.isLoading=!1}function Fl(e,t){e.error=null,e.response=t.payload.response,e.queryExecuted=t.payload.queryExecuted,e.duration=t.payload.duration,e.isLoading=!1}function jI(e,t){Fl(e,t),e.results=t.payload.response.results,e.searchResponseId=t.payload.response.searchUid,e.questionAnswer=t.payload.response.questionAnswer}function js(e,t){e.isLoading=!0,e.requestId=t.meta.requestId}ne($r(),e=>{e.addCase(Pe.rejected,(t,r)=>Ds(t,r)),e.addCase(Hn.rejected,(t,r)=>Ds(t,r)),e.addCase(va.rejected,(t,r)=>Ds(t,r)),e.addCase(Pe.fulfilled,(t,r)=>{jI(t,r)}),e.addCase(Hn.fulfilled,(t,r)=>{Fl(t,r),t.results=[...t.results,...r.payload.response.results]}),e.addCase(va.fulfilled,(t,r)=>{Fl(t,r),t.results=r.payload.response.results}),e.addCase(zu.fulfilled,(t,r)=>{t.response.facets=r.payload.response.facets,t.response.searchUid=r.payload.response.searchUid}),e.addCase(Pe.pending,js),e.addCase(Hn.pending,js),e.addCase(va.pending,js)});var If={by:new Rh({enum:eg,required:!0})},TI=F("sortCriteria/register",e=>xm(e)),FI=F("sortCriteria/update",e=>xm(e)),xm=e=>qh(e)?(e.forEach(t=>Q(t,If)),{payload:e}):Q(e,If);ne(Uu(),e=>{e.addCase(TI,(t,r)=>Pa(r.payload)).addCase(FI,(t,r)=>Pa(r.payload)).addCase(Xe.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.sortCriteria)!=null?i:t}).addCase(yt,(t,r)=>{var n;return(n=r.payload.sortCriteria)!=null?n:t})});var _I={by:new Rh({enum:La,required:!0})},PI=F("sort/register",e=>Im(e)),MI=F("sort/update",e=>Im(e)),Im=e=>Q(e,_I);ne(kg(),e=>{e.addCase(PI,(t,r)=>r.payload).addCase(MI,(t,r)=>r.payload)});function UI(e){return e.type==="redirect"}var LI=class{constructor(e){this.response=e}get basicExpression(){return this.response.parsedInput.basicExpression}get largeExpression(){return this.response.parsedInput.largeExpression}get redirectionUrl(){let e=this.response.preprocessingOutput.triggers.filter(UI);return e.length?e[0].content:null}},VI=F("standaloneSearchBox/register",e=>Q(e,{id:ee,redirectionUrl:ee})),zI=F("standaloneSearchBox/reset",e=>Q(e,{id:ee})),NI=F("standaloneSearchBox/updateAnalyticsToSearchFromLink",e=>Q(e,{id:ee})),QI=F("standaloneSearchBox/updateAnalyticsToOmniboxFromLink"),Ts=we("standaloneSearchBox/fetchRedirect",async(e,{dispatch:t,getState:r,rejectWithValue:n,extra:{apiClient:i,validatePayload:a}})=>{a(e,{id:new le({emptyAllowed:!1})});let o=await BI(r()),s=await i.plan(o);if(mt(s))return n(s.error);let{redirectionUrl:l}=new LI(s.success);return l&&t(HI(l)),l||""}),HI=e=>Gt("analytics/standaloneSearchBox/redirect",Ut.Custom,t=>t.makeTriggerRedirect({redirectedTo:e})),BI=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,timezone:e.configuration.search.timezone,q:e.query.q,...e.context&&{context:e.context.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.searchHub&&{searchHub:e.searchHub},...e.configuration.analytics.enabled&&{visitorId:await Mt(e.configuration.analytics)},...e.configuration.analytics.enabled&&await ho(e.configuration.analytics),...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")}});ne(Eg(),e=>e.addCase(VI,(t,r)=>{let{id:n,redirectionUrl:i}=r.payload;n in t||(t[n]=Ef(i))}).addCase(zI,(t,r)=>{let{id:n}=r.payload,i=t[n];if(i){t[n]=Ef(i.defaultRedirectionUrl);return}}).addCase(Ts.pending,(t,r)=>{let n=t[r.meta.arg.id];!n||(n.isLoading=!0)}).addCase(Ts.fulfilled,(t,r)=>{let n=r.payload,i=t[r.meta.arg.id];!i||(i.redirectTo=n||i.defaultRedirectionUrl,i.isLoading=!1)}).addCase(Ts.rejected,(t,r)=>{let n=t[r.meta.arg.id];!n||(n.isLoading=!1)}).addCase(NI,(t,r)=>{let n=t[r.payload.id];!n||(n.analytics.cause="searchFromLink")}).addCase(QI,(t,r)=>{let n=t[r.payload.id];!n||(n.analytics.cause="omniboxFromLink",n.analytics.metadata=r.payload.metadata)}));function Ef(e){return{defaultRedirectionUrl:e,redirectTo:"",isLoading:!1,analytics:{cause:"",metadata:null}}}var tc=ee,Em=new ge({options:{required:!0},values:{caption:Ye,expression:Ye,state:new le({constrainTo:["idle","selected"]})}}),WI=new Qe({required:!0,each:Em}),YI=F("staticFilter/register",e=>Q(e,{id:tc,values:WI})),JI=F("staticFilter/toggleSelect",e=>Q(e,{id:tc,value:Em})),KI=F("staticFilter/deselectAllFilterValues",e=>Q(e,tc));ne(Lu(),e=>e.addCase(YI,(t,r)=>{let n=r.payload,{id:i}=n;i in t||(t[i]=n)}).addCase(JI,(t,r)=>{let{id:n,value:i}=r.payload,a=t[n];if(!a)return;let o=a.values.find(l=>l.caption===i.caption);if(!o)return;let s=o.state==="selected";o.state=s?"idle":"selected"}).addCase(KI,(t,r)=>{let n=r.payload,i=t[n];!i||i.values.forEach(a=>a.state="idle")}).addCase(Mr,t=>{Object.values(t).forEach(r=>{r.values.forEach(n=>n.state="idle")})}).addCase(yt,(t,r)=>{let n=r.payload.sf||{};Object.entries(t).forEach(([i,a])=>{let o=n[i]||[];a.values.forEach(s=>{s.state=o.includes(s.caption)?"selected":"idle"})})}));ne(Vu(),e=>{e.addCase(vO,(t,r)=>{let n=r.payload,{id:i}=n;i in t||(t[i]={...n,isActive:!1})}).addCase(Pg,(t,r)=>{let n=r.payload;qf(t,n)}).addCase(yt,(t,r)=>{let n=r.payload.tab||"";qf(t,n)}).addCase(Xe.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.tabSet)!=null?i:t})});function qf(e,t){t in e&&Object.keys(e).forEach(r=>{e[r].isActive=r===t})}ne(qg(),e=>e.addCase(Pe.pending,t=>{t.query="",t.queryModification={originalQuery:"",newQuery:"",queryToIgnore:t.queryModification.queryToIgnore}}).addCase(Pe.fulfilled,(t,r)=>{var n;let i=[],a=[],o=[];r.payload.response.triggers.forEach(s=>{switch(s.type){case"redirect":i.push(s.content);break;case"query":break;case"execute":a.push({functionName:s.content.name,params:s.content.params});break;case"notify":o.push(s.content);break}}),t.redirectTo=(n=i[0])!=null?n:"",t.query=t.queryModification.newQuery,t.executions=a,t.notifications=o}).addCase(ng,(t,r)=>{t.queryModification={...r.payload,queryToIgnore:""}}).addCase(rg,(t,r)=>{t.queryModification.queryToIgnore=r.payload}));Je(oo());Je(Yp());var GI={facetId:Ce,selection:new ge({values:Ng})};we("facet/executeToggleSelect",({facetId:e,selection:t},r)=>{let{dispatch:n,extra:{validatePayload:i}}=r;i({facetId:e,selection:t},GI),n(Ju({facetId:e,selection:t})),n(Co({freezeFacetOrder:!0}))});var qm=F("rangeFacet/executeToggleSelect",e=>Q(e,VO(e.selection))),ZI={facetId:Ce,selection:new ge({values:wo})};we("dateFacet/executeToggleSelect",(e,{dispatch:t,extra:{validatePayload:r}})=>{r(e,ZI),t(Ku(e)),t(qm(e)),t(Co({freezeFacetOrder:!0}))});var XI={facetId:Ce,selection:new ge({values:So})},eE="numericFacet/executeToggleSelect";we(eE,(e,{dispatch:t,extra:{validatePayload:r}})=>{r(e,XI),t(Gu(e)),t(qm(e)),t(Co({freezeFacetOrder:!0}))});var Rf;(e=>{e.getResultProperty=yo,e.fieldsMustBeDefined=Zk,e.fieldsMustNotBeDefined=Xk,e.fieldMustMatch=eO,e.fieldMustNotMatch=tO})(Rf||(Rf={}));var _l=class extends Error{constructor(t){super(`The "${t}" element must be the child of an "atomic-result" element.`)}},tE="atomic/resolveResult";function $o(e){return new Promise((t,r)=>{let n=Np(tE,i=>t(i));e.dispatchEvent(n),Ia(e,"atomic-result")||r(new _l(e.nodeName.toLowerCase()))})}function Rm(e){return J0(e)}var rE=Object.create,ko=Object.defineProperty,nE=Object.getOwnPropertyDescriptor,iE=Object.getOwnPropertyNames,aE=Object.getPrototypeOf,oE=Object.prototype.hasOwnProperty,Am=e=>ko(e,"__esModule",{value:!0}),xe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),rc=(e,t)=>{Am(e);for(var r in t)ko(e,r,{get:t[r],enumerable:!0})},Dm=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of iE(t))!oE.call(e,n)&&n!=="default"&&ko(e,n,{get:()=>t[n],enumerable:!(r=nE(t,n))||r.enumerable});return e},Ke=e=>Dm(Am(ko(e!=null?rE(aE(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),sE=xe((e,t)=>{function r(n,i,a){return i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),lE=xe((e,t)=>{var r=sE();function n(a,o){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);o&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),s.push.apply(s,l)}return s}function i(a){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?n(Object(s),!0).forEach(function(l){r(a,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(s,l))})}return a}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}),Oo=xe(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=lE();function r(p){return p&&typeof p=="object"&&"default"in p?p:{default:p}}var n=r(t);function i(p){return"Minified Redux error #"+p+"; visit https://redux.js.org/Errors?code="+p+" for the full message or use the non-minified dev environment for full errors. "}var a=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function l(p){if(typeof p!="object"||p===null)return!1;for(var v=p;Object.getPrototypeOf(v)!==null;)v=Object.getPrototypeOf(v);return Object.getPrototypeOf(p)===v}function u(p,v,S){var E;if(typeof v=="function"&&typeof S=="function"||typeof S=="function"&&typeof arguments[3]=="function")throw new Error(i(0));if(typeof v=="function"&&typeof S=="undefined"&&(S=v,v=void 0),typeof S!="undefined"){if(typeof S!="function")throw new Error(i(1));return S(u)(p,v)}if(typeof p!="function")throw new Error(i(2));var D=p,U=v,L=[],w=L,I=!1;function b(){w===L&&(w=L.slice())}function q(){if(I)throw new Error(i(3));return U}function T(C){if(typeof C!="function")throw new Error(i(4));if(I)throw new Error(i(5));var O=!0;return b(),w.push(C),function(){if(O){if(I)throw new Error(i(6));O=!1,b();var j=w.indexOf(C);w.splice(j,1),L=null}}}function x(C){if(!l(C))throw new Error(i(7));if(typeof C.type=="undefined")throw new Error(i(8));if(I)throw new Error(i(9));try{I=!0,U=D(U,C)}finally{I=!1}for(var O=L=w,j=0;j<O.length;j++){var R=O[j];R()}return C}function $(C){if(typeof C!="function")throw new Error(i(10));D=C,x({type:s.REPLACE})}function k(){var C,O=T;return C={subscribe:function(j){if(typeof j!="object"||j===null)throw new Error(i(11));function R(){j.next&&j.next(q())}R();var H=O(R);return{unsubscribe:H}}},C[a]=function(){return this},C}return x({type:s.INIT}),E={dispatch:x,subscribe:T,getState:q,replaceReducer:$},E[a]=k,E}var d=u;function f(p){Object.keys(p).forEach(function(v){var S=p[v],E=S(void 0,{type:s.INIT});if(typeof E=="undefined")throw new Error(i(12));if(typeof S(void 0,{type:s.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(i(13))})}function g(p){for(var v=Object.keys(p),S={},E=0;E<v.length;E++){var D=v[E];typeof p[D]=="function"&&(S[D]=p[D])}var U=Object.keys(S),L;try{f(S)}catch(w){L=w}return function(w,I){if(w===void 0&&(w={}),L)throw L;for(var b=!1,q={},T=0;T<U.length;T++){var x=U[T],$=S[x],k=w[x],C=$(k,I);if(typeof C=="undefined")throw new Error(i(14));q[x]=C,b=b||C!==k}return b=b||U.length!==Object.keys(w).length,b?q:w}}function y(p,v){return function(){return v(p.apply(this,arguments))}}function m(p,v){if(typeof p=="function")return y(p,v);if(typeof p!="object"||p===null)throw new Error(i(16));var S={};for(var E in p){var D=p[E];typeof D=="function"&&(S[E]=y(D,v))}return S}function c(){for(var p=arguments.length,v=new Array(p),S=0;S<p;S++)v[S]=arguments[S];return v.length===0?function(E){return E}:v.length===1?v[0]:v.reduce(function(E,D){return function(){return E(D.apply(void 0,arguments))}})}function h(){for(var p=arguments.length,v=new Array(p),S=0;S<p;S++)v[S]=arguments[S];return function(E){return function(){var D=E.apply(void 0,arguments),U=function(){throw new Error(i(15))},L={getState:D.getState,dispatch:function(){return U.apply(void 0,arguments)}},w=v.map(function(I){return I(L)});return U=c.apply(void 0,w)(D.dispatch),n.default(n.default({},D),{},{dispatch:U})}}}e.__DO_NOT_USE__ActionTypes=s,e.applyMiddleware=h,e.bindActionCreators=m,e.combineReducers=g,e.compose=c,e.createStore=u,e.legacy_createStore=d}),uE=xe((e,t)=>{function r(i){try{return JSON.stringify(i)}catch(a){return'"[Circular]"'}}t.exports=n;function n(i,a,o){var s=o&&o.stringify||r,l=1;if(typeof i=="object"&&i!==null){var u=a.length+l;if(u===1)return i;var d=new Array(u);d[0]=s(i);for(var f=1;f<u;f++)d[f]=s(a[f]);return d.join(" ")}if(typeof i!="string")return i;var g=a.length;if(g===0)return i;for(var y="",m=1-l,c=-1,h=i&&i.length||0,p=0;p<h;){if(i.charCodeAt(p)===37&&p+1<h){switch(c=c>-1?c:0,i.charCodeAt(p+1)){case 100:case 102:if(m>=g||a[m]==null)break;c<p&&(y+=i.slice(c,p)),y+=Number(a[m]),c=p+2,p++;break;case 105:if(m>=g||a[m]==null)break;c<p&&(y+=i.slice(c,p)),y+=Math.floor(Number(a[m])),c=p+2,p++;break;case 79:case 111:case 106:if(m>=g||a[m]===void 0)break;c<p&&(y+=i.slice(c,p));var v=typeof a[m];if(v==="string"){y+="'"+a[m]+"'",c=p+2,p++;break}if(v==="function"){y+=a[m].name||"<anonymous>",c=p+2,p++;break}y+=s(a[m]),c=p+2,p++;break;case 115:if(m>=g)break;c<p&&(y+=i.slice(c,p)),y+=String(a[m]),c=p+2,p++;break;case 37:c<p&&(y+=i.slice(c,p)),y+="%",c=p+2,p++,m--;break}++m}++p}return c===-1?i:(c<h&&(y+=i.slice(c)),y)}}),xo=xe((e,t)=>{var r=uE();t.exports=o;var n=L().console||{},i={mapHttpRequest:h,mapHttpResponse:h,wrapRequestSerializer:p,wrapResponseSerializer:p,wrapErrorSerializer:p,req:h,res:h,err:m};function a(w,I){return Array.isArray(w)?w.filter(function(b){return b!=="!stdSerializers.err"}):w===!0?Object.keys(I):!1}function o(w){w=w||{},w.browser=w.browser||{};let I=w.browser.transmit;if(I&&typeof I.send!="function")throw Error("pino: transmit option must have a send function");let b=w.browser.write||n;w.browser.write&&(w.browser.asObject=!0);let q=w.serializers||{},T=a(w.browser.serialize,q),x=w.browser.serialize;Array.isArray(w.browser.serialize)&&w.browser.serialize.indexOf("!stdSerializers.err")>-1&&(x=!1);let $=["error","fatal","warn","info","debug","trace"];typeof b=="function"&&(b.error=b.fatal=b.warn=b.info=b.debug=b.trace=b),w.enabled===!1&&(w.level="silent");let k=w.level||"info",C=Object.create(b);C.log||(C.log=v),Object.defineProperty(C,"levelVal",{get:j}),Object.defineProperty(C,"level",{get:R,set:H});let O={transmit:I,serialize:T,asObject:w.browser.asObject,levels:$,timestamp:c(w)};C.levels=o.levels,C.level=k,C.setMaxListeners=C.getMaxListeners=C.emit=C.addListener=C.on=C.prependListener=C.once=C.prependOnceListener=C.removeListener=C.removeAllListeners=C.listeners=C.listenerCount=C.eventNames=C.write=C.flush=v,C.serializers=q,C._serialize=T,C._stdErrSerialize=x,C.child=Z,I&&(C._logEvent=y());function j(){return this.level==="silent"?1/0:this.levels.values[this.level]}function R(){return this._level}function H(W){if(W!=="silent"&&!this.levels.values[W])throw Error("unknown level "+W);this._level=W,s(O,C,"error","log"),s(O,C,"fatal","error"),s(O,C,"warn","error"),s(O,C,"info","log"),s(O,C,"debug","log"),s(O,C,"trace","log")}function Z(W,re){if(!W)throw new Error("missing bindings for child Pino");re=re||{},T&&W.serializers&&(re.serializers=W.serializers);let me=re.serializers;if(T&&me){var ce=Object.assign({},q,me),qe=w.browser.serialize===!0?Object.keys(ce):T;delete W.serializers,d([W],qe,ce,this._stdErrSerialize)}function Re(oe){this._childLevel=(oe._childLevel|0)+1,this.error=f(oe,W,"error"),this.fatal=f(oe,W,"fatal"),this.warn=f(oe,W,"warn"),this.info=f(oe,W,"info"),this.debug=f(oe,W,"debug"),this.trace=f(oe,W,"trace"),ce&&(this.serializers=ce,this._serialize=qe),I&&(this._logEvent=y([].concat(oe._logEvent.bindings,W)))}return Re.prototype=this,new Re(this)}return C}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=i,o.stdTimeFunctions=Object.assign({},{nullTime:S,epochTime:E,unixTime:D,isoTime:U});function s(w,I,b,q){let T=Object.getPrototypeOf(I);I[b]=I.levelVal>I.levels.values[b]?v:T[b]?T[b]:n[b]||n[q]||v,l(w,I,b)}function l(w,I,b){!w.transmit&&I[b]===v||(I[b]=function(q){return function(){let T=w.timestamp(),x=new Array(arguments.length),$=Object.getPrototypeOf&&Object.getPrototypeOf(this)===n?n:this;for(var k=0;k<x.length;k++)x[k]=arguments[k];if(w.serialize&&!w.asObject&&d(x,this._serialize,this.serializers,this._stdErrSerialize),w.asObject?q.call($,u(this,b,x,T)):q.apply($,x),w.transmit){let C=w.transmit.level||I.level,O=o.levels.values[C],j=o.levels.values[b];if(j<O)return;g(this,{ts:T,methodLevel:b,methodValue:j,transmitLevel:C,transmitValue:o.levels.values[w.transmit.level||I.level],send:w.transmit.send,val:I.levelVal},x)}}}(I[b]))}function u(w,I,b,q){w._serialize&&d(b,w._serialize,w.serializers,w._stdErrSerialize);let T=b.slice(),x=T[0],$={};q&&($.time=q),$.level=o.levels.values[I];let k=(w._childLevel|0)+1;if(k<1&&(k=1),x!==null&&typeof x=="object"){for(;k--&&typeof T[0]=="object";)Object.assign($,T.shift());x=T.length?r(T.shift(),T):void 0}else typeof x=="string"&&(x=r(T.shift(),T));return x!==void 0&&($.msg=x),$}function d(w,I,b,q){for(let T in w)if(q&&w[T]instanceof Error)w[T]=o.stdSerializers.err(w[T]);else if(typeof w[T]=="object"&&!Array.isArray(w[T]))for(let x in w[T])I&&I.indexOf(x)>-1&&x in b&&(w[T][x]=b[x](w[T][x]))}function f(w,I,b){return function(){let q=new Array(1+arguments.length);q[0]=I;for(var T=1;T<q.length;T++)q[T]=arguments[T-1];return w[b].apply(this,q)}}function g(w,I,b){let q=I.send,T=I.ts,x=I.methodLevel,$=I.methodValue,k=I.val,C=w._logEvent.bindings;d(b,w._serialize||Object.keys(w.serializers),w.serializers,w._stdErrSerialize===void 0?!0:w._stdErrSerialize),w._logEvent.ts=T,w._logEvent.messages=b.filter(function(O){return C.indexOf(O)===-1}),w._logEvent.level.label=x,w._logEvent.level.value=$,q(x,w._logEvent,k),w._logEvent=y(C)}function y(w){return{ts:0,messages:[],bindings:w||[],level:{label:"",value:0}}}function m(w){let I={type:w.constructor.name,msg:w.message,stack:w.stack};for(let b in w)I[b]===void 0&&(I[b]=w[b]);return I}function c(w){return typeof w.timestamp=="function"?w.timestamp:w.timestamp===!1?S:E}function h(){return{}}function p(w){return w}function v(){}function S(){return!1}function E(){return Date.now()}function D(){return Math.round(Date.now()/1e3)}function U(){return new Date(Date.now()).toISOString()}function L(){function w(I){return typeof I!="undefined"&&I}try{return typeof globalThis!="undefined"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(I){return w(self)||w(window)||w(this)||{}}}}),cE=xe((e,t)=>{var r="[object Object]";function n(m){var c=!1;if(m!=null&&typeof m.toString!="function")try{c=!!(m+"")}catch(h){}return c}function i(m,c){return function(h){return m(c(h))}}var a=Function.prototype,o=Object.prototype,s=a.toString,l=o.hasOwnProperty,u=s.call(Object),d=o.toString,f=i(Object.getPrototypeOf,Object);function g(m){return!!m&&typeof m=="object"}function y(m){if(!g(m)||d.call(m)!=r||n(m))return!1;var c=f(m);if(c===null)return!0;var h=l.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==u}t.exports=y}),dE=xe(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var t=Oo(),r=cE(),n=i(r);function i(l){return l&&l.__esModule?l:{default:l}}function a(l){if(Array.isArray(l)){for(var u=0,d=Array(l.length);u<l.length;u++)d[u]=l[u];return d}else return Array.from(l)}var o=function(l){return typeof l=="function"};function s(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function d(){var g=[],y=[],m={getState:function(){return o(u)?u(g):u},getActions:function(){return g},dispatch:function(c){if(!(0,n.default)(c))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof c.type=="undefined")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant? Action: '+JSON.stringify(c));g.push(c);for(var h=0;h<y.length;h++)y[h]();return c},clearActions:function(){g=[]},subscribe:function(c){return o(c)&&y.push(c),function(){var h=y.indexOf(c);h<0||y.splice(h,1)}},replaceReducer:function(c){if(!o(c))throw new Error("Expected the nextReducer to be a function.")}};return m}var f=t.applyMiddleware.apply(void 0,a(l))(d);return f()}}}),fE=xe((e,t)=>{t.exports=fetch}),pE=xe(e=>{var t=e&&e.__assign||function(){return t=Object.assign||function(i){for(var a,o=1,s=arguments.length;o<s;o++){a=arguments[o];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};function n(i){var a=t(t({},r),i);return a.numOfAttempts<1&&(a.numOfAttempts=1),a}e.getSanitizedOptions=n}),hE=xe(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(r){var n=Math.random()*r;return Math.round(n)}e.fullJitter=t}),gE=xe(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(r){return r}e.noJitter=t}),mE=xe(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=hE(),r=gE();function n(i){switch(i.jitter){case"full":return t.fullJitter;case"none":default:return r.noJitter}}e.JitterFactory=n}),jm=xe(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=mE(),r=function(){function n(i){this.options=i,this.attempt=0}return n.prototype.apply=function(){var i=this;return new Promise(function(a){return setTimeout(a,i.jitteredDelay)})},n.prototype.setAttemptNumber=function(i){this.attempt=i},Object.defineProperty(n.prototype,"jitteredDelay",{get:function(){var i=t.JitterFactory(this.options);return i(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delay",{get:function(){var i=this.options.startingDelay,a=this.options.timeMultiple,o=this.numOfDelayedAttempts,s=i*Math.pow(a,o);return Math.min(s,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),n}();e.Delay=r}),vE=xe(e=>{var t=e&&e.__extends||function(){var o=function(s,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])},o(s,l)};return function(s,l){o(s,l);function u(){this.constructor=s}s.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),r=e&&e.__awaiter||function(o,s,l,u){function d(f){return f instanceof l?f:new l(function(g){g(f)})}return new(l||(l=Promise))(function(f,g){function y(h){try{c(u.next(h))}catch(p){g(p)}}function m(h){try{c(u.throw(h))}catch(p){g(p)}}function c(h){h.done?f(h.value):d(h.value).then(y,m)}c((u=u.apply(o,s||[])).next())})},n=e&&e.__generator||function(o,s){var l={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,d,f,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(c){return function(h){return m([c,h])}}function m(c){if(u)throw new TypeError("Generator is already executing.");for(;l;)try{if(u=1,d&&(f=c[0]&2?d.return:c[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,c[1])).done)return f;switch(d=0,f&&(c=[c[0]&2,f.value]),c[0]){case 0:case 1:f=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,d=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(f=l.trys,!(f=f.length>0&&f[f.length-1])&&(c[0]===6||c[0]===2)){l=0;continue}if(c[0]===3&&(!f||c[1]>f[0]&&c[1]<f[3])){l.label=c[1];break}if(c[0]===6&&l.label<f[1]){l.label=f[1],f=c;break}if(f&&l.label<f[2]){l.label=f[2],l.ops.push(c);break}f[2]&&l.ops.pop(),l.trys.pop();continue}c=s.call(o,l)}catch(h){c=[6,h],d=0}finally{u=f=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var i=jm(),a=function(o){t(s,o);function s(){return o!==null&&o.apply(this,arguments)||this}return s.prototype.apply=function(){return r(this,void 0,void 0,function(){return n(this,function(l){return[2,this.isFirstAttempt?!0:o.prototype.apply.call(this)]})})},Object.defineProperty(s.prototype,"isFirstAttempt",{get:function(){return this.attempt===0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),s}(i.Delay);e.SkipFirstDelay=a}),yE=xe(e=>{var t=e&&e.__extends||function(){var i=function(a,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])},i(a,o)};return function(a,o){i(a,o);function s(){this.constructor=a}a.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=jm(),n=function(i){t(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a}(r.Delay);e.AlwaysDelay=n}),bE=xe(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=vE(),r=yE();function n(a,o){var s=i(a);return s.setAttemptNumber(o),s}e.DelayFactory=n;function i(a){return a.delayFirstAttempt?new r.AlwaysDelay(a):new t.SkipFirstDelay(a)}}),SE=xe(e=>{var t=e&&e.__awaiter||function(s,l,u,d){function f(g){return g instanceof u?g:new u(function(y){y(g)})}return new(u||(u=Promise))(function(g,y){function m(p){try{h(d.next(p))}catch(v){y(v)}}function c(p){try{h(d.throw(p))}catch(v){y(v)}}function h(p){p.done?g(p.value):f(p.value).then(m,c)}h((d=d.apply(s,l||[])).next())})},r=e&&e.__generator||function(s,l){var u={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},d,f,g,y;return y={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function m(h){return function(p){return c([h,p])}}function c(h){if(d)throw new TypeError("Generator is already executing.");for(;u;)try{if(d=1,f&&(g=h[0]&2?f.return:h[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,h[1])).done)return g;switch(f=0,g&&(h=[h[0]&2,g.value]),h[0]){case 0:case 1:g=h;break;case 4:return u.label++,{value:h[1],done:!1};case 5:u.label++,f=h[1],h=[0];continue;case 7:h=u.ops.pop(),u.trys.pop();continue;default:if(g=u.trys,!(g=g.length>0&&g[g.length-1])&&(h[0]===6||h[0]===2)){u=0;continue}if(h[0]===3&&(!g||h[1]>g[0]&&h[1]<g[3])){u.label=h[1];break}if(h[0]===6&&u.label<g[1]){u.label=g[1],g=h;break}if(g&&u.label<g[2]){u.label=g[2],u.ops.push(h);break}g[2]&&u.ops.pop(),u.trys.pop();continue}h=l.call(s,u)}catch(p){h=[6,p],f=0}finally{d=g=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var n=pE(),i=bE();function a(s,l){return l===void 0&&(l={}),t(this,void 0,void 0,function(){var u,d;return r(this,function(f){switch(f.label){case 0:return u=n.getSanitizedOptions(l),d=new o(s,u),[4,d.execute()];case 1:return[2,f.sent()]}})})}e.backOff=a;var o=function(){function s(l,u){this.request=l,this.options=u,this.attemptNumber=0}return s.prototype.execute=function(){return t(this,void 0,void 0,function(){var l,u;return r(this,function(d){switch(d.label){case 0:if(this.attemptLimitReached)return[3,7];d.label=1;case 1:return d.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return d.sent(),[4,this.request()];case 3:return[2,d.sent()];case 4:return l=d.sent(),this.attemptNumber++,[4,this.options.retry(l,this.attemptNumber)];case 5:if(u=d.sent(),!u||this.attemptLimitReached)throw l;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(s.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),s.prototype.applyDelay=function(){return t(this,void 0,void 0,function(){var l;return r(this,function(u){switch(u.label){case 0:return l=i.DelayFactory(this.options,this.attemptNumber),[4,l.apply()];case 1:return u.sent(),[2]}})})},s}()}),wE=xe((e,t)=>{var r=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;if(!r)throw new Error("Unable to find global scope. Are you sure this is running in the browser?");if(!r.AbortController)throw new Error('Could not find "AbortController" in the global scope. You need to polyfill it first');t.exports=r.AbortController,t.exports.default=r.AbortController}),CE=xe((e,t)=>{function r(a){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");if(a=`${a}`,a=a.replace(/[ \t\n\f\r]/g,""),a.length%4==0&&(a=a.replace(/==?$/,"")),a.length%4==1||/[^+/0-9A-Za-z]/.test(a))return null;let o="",s=0,l=0;for(let u=0;u<a.length;u++)s<<=6,s|=i(a[u]),l+=6,l===24&&(o+=String.fromCharCode((s&16711680)>>16),o+=String.fromCharCode((s&65280)>>8),o+=String.fromCharCode(s&255),s=l=0);return l===12?(s>>=4,o+=String.fromCharCode(s)):l===18&&(s>>=2,o+=String.fromCharCode((s&65280)>>8),o+=String.fromCharCode(s&255)),o}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function i(a){let o=n.indexOf(a);return o<0?void 0:o}t.exports=r}),$E=xe((e,t)=>{function r(a){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let o;for(a=`${a}`,o=0;o<a.length;o++)if(a.charCodeAt(o)>255)return null;let s="";for(o=0;o<a.length;o+=3){let l=[void 0,void 0,void 0,void 0];l[0]=a.charCodeAt(o)>>2,l[1]=(a.charCodeAt(o)&3)<<4,a.length>o+1&&(l[1]|=a.charCodeAt(o+1)>>4,l[2]=(a.charCodeAt(o+1)&15)<<2),a.length>o+2&&(l[2]|=a.charCodeAt(o+2)>>6,l[3]=a.charCodeAt(o+2)&63);for(let u=0;u<l.length;u++)typeof l[u]=="undefined"?s+="=":s+=i(l[u])}return s}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function i(a){if(a>=0&&a<64)return n[a]}t.exports=r}),Tm=xe((e,t)=>{var r=CE(),n=$E();t.exports={atob:r,btoa:n}}),nc=xe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs=n()})(e,function(){var r=1e3,n=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",u="day",d="week",f="month",g="quarter",y="year",m="date",c="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},S=function(x,$,k){var C=String(x);return!C||C.length>=$?x:""+Array($+1-C.length).join(k)+x},E={s:S,z:function(x){var $=-x.utcOffset(),k=Math.abs($),C=Math.floor(k/60),O=k%60;return($<=0?"+":"-")+S(C,2,"0")+":"+S(O,2,"0")},m:function x($,k){if($.date()<k.date())return-x(k,$);var C=12*(k.year()-$.year())+(k.month()-$.month()),O=$.clone().add(C,f),j=k-O<0,R=$.clone().add(C+(j?-1:1),f);return+(-(C+(k-O)/(j?O-R:R-O))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:f,y,w:d,d:u,D:m,h:l,m:s,s:o,ms:a,Q:g}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},D="en",U={};U[D]=v;var L=function(x){return x instanceof q},w=function x($,k,C){var O;if(!$)return D;if(typeof $=="string"){var j=$.toLowerCase();U[j]&&(O=j),k&&(U[j]=k,O=j);var R=$.split("-");if(!O&&R.length>1)return x(R[0])}else{var H=$.name;U[H]=$,O=H}return!C&&O&&(D=O),O||!C&&D},I=function(x,$){if(L(x))return x.clone();var k=typeof $=="object"?$:{};return k.date=x,k.args=arguments,new q(k)},b=E;b.l=w,b.i=L,b.w=function(x,$){return I(x,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var q=function(){function x(k){this.$L=w(k.locale,null,!0),this.parse(k)}var $=x.prototype;return $.parse=function(k){this.$d=function(C){var O=C.date,j=C.utc;if(O===null)return new Date(NaN);if(b.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var R=O.match(h);if(R){var H=R[2]-1||0,Z=(R[7]||"0").substring(0,3);return j?new Date(Date.UTC(R[1],H,R[3]||1,R[4]||0,R[5]||0,R[6]||0,Z)):new Date(R[1],H,R[3]||1,R[4]||0,R[5]||0,R[6]||0,Z)}}return new Date(O)}(k),this.$x=k.x||{},this.init()},$.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},$.$utils=function(){return b},$.isValid=function(){return this.$d.toString()!==c},$.isSame=function(k,C){var O=I(k);return this.startOf(C)<=O&&O<=this.endOf(C)},$.isAfter=function(k,C){return I(k)<this.startOf(C)},$.isBefore=function(k,C){return this.endOf(C)<I(k)},$.$g=function(k,C,O){return b.u(k)?this[C]:this.set(O,k)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(k,C){var O=this,j=!!b.u(C)||C,R=b.p(k),H=function(oe,se){var ye=b.w(O.$u?Date.UTC(O.$y,se,oe):new Date(O.$y,se,oe),O);return j?ye:ye.endOf(u)},Z=function(oe,se){return b.w(O.toDate()[oe].apply(O.toDate("s"),(j?[0,0,0,0]:[23,59,59,999]).slice(se)),O)},W=this.$W,re=this.$M,me=this.$D,ce="set"+(this.$u?"UTC":"");switch(R){case y:return j?H(1,0):H(31,11);case f:return j?H(1,re):H(0,re+1);case d:var qe=this.$locale().weekStart||0,Re=(W<qe?W+7:W)-qe;return H(j?me-Re:me+(6-Re),re);case u:case m:return Z(ce+"Hours",0);case l:return Z(ce+"Minutes",1);case s:return Z(ce+"Seconds",2);case o:return Z(ce+"Milliseconds",3);default:return this.clone()}},$.endOf=function(k){return this.startOf(k,!1)},$.$set=function(k,C){var O,j=b.p(k),R="set"+(this.$u?"UTC":""),H=(O={},O[u]=R+"Date",O[m]=R+"Date",O[f]=R+"Month",O[y]=R+"FullYear",O[l]=R+"Hours",O[s]=R+"Minutes",O[o]=R+"Seconds",O[a]=R+"Milliseconds",O)[j],Z=j===u?this.$D+(C-this.$W):C;if(j===f||j===y){var W=this.clone().set(m,1);W.$d[H](Z),W.init(),this.$d=W.set(m,Math.min(this.$D,W.daysInMonth())).$d}else H&&this.$d[H](Z);return this.init(),this},$.set=function(k,C){return this.clone().$set(k,C)},$.get=function(k){return this[b.p(k)]()},$.add=function(k,C){var O,j=this;k=Number(k);var R=b.p(C),H=function(re){var me=I(j);return b.w(me.date(me.date()+Math.round(re*k)),j)};if(R===f)return this.set(f,this.$M+k);if(R===y)return this.set(y,this.$y+k);if(R===u)return H(1);if(R===d)return H(7);var Z=(O={},O[s]=n,O[l]=i,O[o]=r,O)[R]||1,W=this.$d.getTime()+k*Z;return b.w(W,this)},$.subtract=function(k,C){return this.add(-1*k,C)},$.format=function(k){var C=this,O=this.$locale();if(!this.isValid())return O.invalidDate||c;var j=k||"YYYY-MM-DDTHH:mm:ssZ",R=b.z(this),H=this.$H,Z=this.$m,W=this.$M,re=O.weekdays,me=O.months,ce=function(se,ye,Be,Ue){return se&&(se[ye]||se(C,j))||Be[ye].slice(0,Ue)},qe=function(se){return b.s(H%12||12,se,"0")},Re=O.meridiem||function(se,ye,Be){var Ue=se<12?"AM":"PM";return Be?Ue.toLowerCase():Ue},oe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:W+1,MM:b.s(W+1,2,"0"),MMM:ce(O.monthsShort,W,me,3),MMMM:ce(me,W),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:ce(O.weekdaysMin,this.$W,re,2),ddd:ce(O.weekdaysShort,this.$W,re,3),dddd:re[this.$W],H:String(H),HH:b.s(H,2,"0"),h:qe(1),hh:qe(2),a:Re(H,Z,!0),A:Re(H,Z,!1),m:String(Z),mm:b.s(Z,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:R};return j.replace(p,function(se,ye){return ye||oe[se]||R.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(k,C,O){var j,R=b.p(C),H=I(k),Z=(H.utcOffset()-this.utcOffset())*n,W=this-H,re=b.m(this,H);return re=(j={},j[y]=re/12,j[f]=re,j[g]=re/3,j[d]=(W-Z)/6048e5,j[u]=(W-Z)/864e5,j[l]=W/i,j[s]=W/n,j[o]=W/r,j)[R]||W,O?re:b.a(re)},$.daysInMonth=function(){return this.endOf(f).$D},$.$locale=function(){return U[this.$L]},$.locale=function(k,C){if(!k)return this.$L;var O=this.clone(),j=w(k,C,!0);return j&&(O.$L=j),O},$.clone=function(){return b.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},x}(),T=q.prototype;return I.prototype=T,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",u],["$M",f],["$y",y],["$D",m]].forEach(function(x){T[x[1]]=function($){return this.$g($,x[0],x[1])}}),I.extend=function(x,$){return x.$i||(x($,q,I),x.$i=!0),I},I.locale=w,I.isDayjs=L,I.unix=function(x){return I(1e3*x)},I.en=U[D],I.Ls=U,I.p={},I})}),kE=xe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_quarterOfYear=n()})(e,function(){var r="month",n="quarter";return function(i,a){var o=a.prototype;o.quarter=function(u){return this.$utils().u(u)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(u-1))};var s=o.add;o.add=function(u,d){return u=Number(u),this.$utils().p(d)===n?this.add(3*u,r):s.bind(this)(u,d)};var l=o.startOf;o.startOf=function(u,d){var f=this.$utils(),g=!!f.u(d)||d;if(f.p(u)===n){var y=this.quarter()-1;return g?this.month(3*y).startOf(r).startOf("day"):this.month(3*y+2).endOf(r).endOf("day")}return l.bind(this)(u,d)}}})}),OE=xe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_customParseFormat=n()})(e,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,a=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},l=function(c){return(c=+c)+(c>68?1900:2e3)},u=function(c){return function(h){this[c]=+h}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(c){(this.zone||(this.zone={})).offset=function(h){if(!h||h==="Z")return 0;var p=h.match(/([+-]|\d\d)/g),v=60*p[1]+(+p[2]||0);return v===0?0:p[0]==="+"?-v:v}(c)}],f=function(c){var h=s[c];return h&&(h.indexOf?h:h.s.concat(h.f))},g=function(c,h){var p,v=s.meridiem;if(v){for(var S=1;S<=24;S+=1)if(c.indexOf(v(S,0,h))>-1){p=S>12;break}}else p=c===(h?"pm":"PM");return p},y={A:[o,function(c){this.afternoon=g(c,!1)}],a:[o,function(c){this.afternoon=g(c,!0)}],S:[/\d/,function(c){this.milliseconds=100*+c}],SS:[i,function(c){this.milliseconds=10*+c}],SSS:[/\d{3}/,function(c){this.milliseconds=+c}],s:[a,u("seconds")],ss:[a,u("seconds")],m:[a,u("minutes")],mm:[a,u("minutes")],H:[a,u("hours")],h:[a,u("hours")],HH:[a,u("hours")],hh:[a,u("hours")],D:[a,u("day")],DD:[i,u("day")],Do:[o,function(c){var h=s.ordinal,p=c.match(/\d+/);if(this.day=p[0],h)for(var v=1;v<=31;v+=1)h(v).replace(/\[|\]/g,"")===c&&(this.day=v)}],M:[a,u("month")],MM:[i,u("month")],MMM:[o,function(c){var h=f("months"),p=(f("monthsShort")||h.map(function(v){return v.slice(0,3)})).indexOf(c)+1;if(p<1)throw new Error;this.month=p%12||p}],MMMM:[o,function(c){var h=f("months").indexOf(c)+1;if(h<1)throw new Error;this.month=h%12||h}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(c){this.year=l(c)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function m(c){var h,p;h=c,p=s&&s.formats;for(var v=(c=h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,b,q){var T=q&&q.toUpperCase();return b||p[q]||r[q]||p[T].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,$,k){return $||k.slice(1)})})).match(n),S=v.length,E=0;E<S;E+=1){var D=v[E],U=y[D],L=U&&U[0],w=U&&U[1];v[E]=w?{regex:L,parser:w}:D.replace(/^\[|\]$/g,"")}return function(I){for(var b={},q=0,T=0;q<S;q+=1){var x=v[q];if(typeof x=="string")T+=x.length;else{var $=x.regex,k=x.parser,C=I.slice(T),O=$.exec(C)[0];k.call(b,O),I=I.replace(O,"")}}return function(j){var R=j.afternoon;if(R!==void 0){var H=j.hours;R?H<12&&(j.hours+=12):H===12&&(j.hours=0),delete j.afternoon}}(b),b}}return function(c,h,p){p.p.customParseFormat=!0,c&&c.parseTwoDigitYear&&(l=c.parseTwoDigitYear);var v=h.prototype,S=v.parse;v.parse=function(E){var D=E.date,U=E.utc,L=E.args;this.$u=U;var w=L[1];if(typeof w=="string"){var I=L[2]===!0,b=L[3]===!0,q=I||b,T=L[2];b&&(T=L[2]),s=this.$locale(),!I&&T&&(s=p.Ls[T]),this.$d=function(C,O,j){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*C);var R=m(O)(C),H=R.year,Z=R.month,W=R.day,re=R.hours,me=R.minutes,ce=R.seconds,qe=R.milliseconds,Re=R.zone,oe=new Date,se=W||(H||Z?1:oe.getDate()),ye=H||oe.getFullYear(),Be=0;H&&!Z||(Be=Z>0?Z-1:oe.getMonth());var Ue=re||0,Vt=me||0,zt=ce||0,Nt=qe||0;return Re?new Date(Date.UTC(ye,Be,se,Ue,Vt,zt,Nt+60*Re.offset*1e3)):j?new Date(Date.UTC(ye,Be,se,Ue,Vt,zt,Nt)):new Date(ye,Be,se,Ue,Vt,zt,Nt)}catch(zo){return new Date("")}}(D,w,U),this.init(),T&&T!==!0&&(this.$L=this.locale(T).$L),q&&D!=this.format(w)&&(this.$d=new Date("")),s={}}else if(w instanceof Array)for(var x=w.length,$=1;$<=x;$+=1){L[1]=w[$-1];var k=p.apply(this,L);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}$===x&&(this.$d=new Date(""))}else S.call(this,E)}}})}),xE=xe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_timezone=n()})(e,function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(i,a,o){var s,l=function(g,y,m){m===void 0&&(m={});var c=new Date(g),h=function(p,v){v===void 0&&(v={});var S=v.timeZoneName||"short",E=p+"|"+S,D=n[E];return D||(D=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:p,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:S}),n[E]=D),D}(y,m);return h.formatToParts(c)},u=function(g,y){for(var m=l(g,y),c=[],h=0;h<m.length;h+=1){var p=m[h],v=p.type,S=p.value,E=r[v];E>=0&&(c[E]=parseInt(S,10))}var D=c[3],U=D===24?0:D,L=c[0]+"-"+c[1]+"-"+c[2]+" "+U+":"+c[4]+":"+c[5]+":000",w=+g;return(o.utc(L).valueOf()-(w-=w%1e3))/6e4},d=a.prototype;d.tz=function(g,y){g===void 0&&(g=s);var m=this.utcOffset(),c=this.toDate(),h=c.toLocaleString("en-US",{timeZone:g}),p=Math.round((c-new Date(h))/1e3/60),v=o(h).$set("millisecond",this.$ms).utcOffset(15*-Math.round(c.getTimezoneOffset()/15)-p,!0);if(y){var S=v.utcOffset();v=v.add(m-S,"minute")}return v.$x.$timezone=g,v},d.offsetName=function(g){var y=this.$x.$timezone||o.tz.guess(),m=l(this.valueOf(),y,{timeZoneName:g}).find(function(c){return c.type.toLowerCase()==="timezonename"});return m&&m.value};var f=d.startOf;d.startOf=function(g,y){if(!this.$x||!this.$x.$timezone)return f.call(this,g,y);var m=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return f.call(m,g,y).tz(this.$x.$timezone,!0)},o.tz=function(g,y,m){var c=m&&y,h=m||y||s,p=u(+o(),h);if(typeof g!="string")return o(g).tz(h);var v=function(U,L,w){var I=U-60*L*1e3,b=u(I,w);if(L===b)return[I,L];var q=u(I-=60*(b-L)*1e3,w);return b===q?[I,b]:[U-60*Math.min(b,q)*1e3,Math.max(b,q)]}(o.utc(g,c).valueOf(),p,h),S=v[0],E=v[1],D=o(S).utcOffset(E);return D.$x.$timezone=h,D},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(g){s=g}}})}),IE=xe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_utc=n()})(e,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,o,s){var l=o.prototype;s.utc=function(c){var h={date:c,utc:!0,args:arguments};return new o(h)},l.utc=function(c){var h=s(this.toDate(),{locale:this.$L,utc:!0});return c?h.add(this.utcOffset(),r):h},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(c){c.utc&&(this.$u=!0),this.$utils().u(c.$offset)||(this.$offset=c.$offset),u.call(this,c)};var d=l.init;l.init=function(){if(this.$u){var c=this.$d;this.$y=c.getUTCFullYear(),this.$M=c.getUTCMonth(),this.$D=c.getUTCDate(),this.$W=c.getUTCDay(),this.$H=c.getUTCHours(),this.$m=c.getUTCMinutes(),this.$s=c.getUTCSeconds(),this.$ms=c.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(c,h){var p=this.$utils().u;if(p(c))return this.$u?0:p(this.$offset)?f.call(this):this.$offset;if(typeof c=="string"&&(c=function(D){D===void 0&&(D="");var U=D.match(n);if(!U)return null;var L=(""+U[0]).match(i)||["-",0,0],w=L[0],I=60*+L[1]+ +L[2];return I===0?0:w==="+"?I:-I}(c),c===null))return this;var v=Math.abs(c)<=16?60*c:c,S=this;if(h)return S.$offset=v,S.$u=c===0,S;if(c!==0){var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(S=this.local().add(v+E,r)).$offset=v,S.$x.$localOffset=E}else S=this.utc();return S};var g=l.format;l.format=function(c){var h=c||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,h)},l.valueOf=function(){var c=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*c},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var y=l.toDate;l.toDate=function(c){return c==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():y.call(this)};var m=l.diff;l.diff=function(c,h,p){if(c&&this.$u===c.$u)return m.call(this,c,h,p);var v=this.local(),S=s(c).local();return m.call(v,S,h,p)}}})}),EE=xe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t!="undefined"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):(r=typeof globalThis!="undefined"?globalThis:r||self,n(r["fast-equals"]={}))})(e,function(r){var n=typeof WeakSet=="function",i=Object.keys;function a(b,q){return b===q||b!==b&&q!==q}function o(b){return b.constructor===Object||b.constructor==null}function s(b){return!!b&&typeof b.then=="function"}function l(b){return!!(b&&b.$$typeof)}function u(){var b=[];return{add:function(q){b.push(q)},has:function(q){return b.indexOf(q)!==-1}}}var d=function(b){return b?function(){return new WeakSet}:u}(n);function f(b){return function(q){var T=b||q;return function(x,$,k){k===void 0&&(k=d());var C=!!x&&typeof x=="object",O=!!$&&typeof $=="object";if(C||O){var j=C&&k.has(x),R=O&&k.has($);if(j||R)return j&&R;C&&k.add(x),O&&k.add($)}return T(x,$,k)}}}function g(b,q,T,x){var $=b.length;if(q.length!==$)return!1;for(;$-- >0;)if(!T(b[$],q[$],x))return!1;return!0}function y(b,q,T,x){var $=b.size===q.size;if($&&b.size){var k={};b.forEach(function(C,O){if($){var j=!1,R=0;q.forEach(function(H,Z){!j&&!k[R]&&(j=T(O,Z,x)&&T(C,H,x),j&&(k[R]=!0)),R++}),$=j}})}return $}var m="_owner",c=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function h(b,q,T,x){var $=i(b),k=$.length;if(i(q).length!==k)return!1;if(k)for(var C=void 0;k-- >0;){if(C=$[k],C===m){var O=l(b),j=l(q);if((O||j)&&O!==j)return!1}if(!c(q,C)||!T(b[C],q[C],x))return!1}return!0}function p(b,q){return b.source===q.source&&b.global===q.global&&b.ignoreCase===q.ignoreCase&&b.multiline===q.multiline&&b.unicode===q.unicode&&b.sticky===q.sticky&&b.lastIndex===q.lastIndex}function v(b,q,T,x){var $=b.size===q.size;if($&&b.size){var k={};b.forEach(function(C){if($){var O=!1,j=0;q.forEach(function(R){!O&&!k[j]&&(O=T(C,R,x),O&&(k[j]=!0)),j++}),$=O}})}return $}var S=typeof Map=="function",E=typeof Set=="function";function D(b){var q=typeof b=="function"?b(T):T;function T(x,$,k){if(x===$)return!0;if(x&&$&&typeof x=="object"&&typeof $=="object"){if(o(x)&&o($))return h(x,$,q,k);var C=Array.isArray(x),O=Array.isArray($);return C||O?C===O&&g(x,$,q,k):(C=x instanceof Date,O=$ instanceof Date,C||O?C===O&&a(x.getTime(),$.getTime()):(C=x instanceof RegExp,O=$ instanceof RegExp,C||O?C===O&&p(x,$):s(x)||s($)?x===$:S&&(C=x instanceof Map,O=$ instanceof Map,C||O)?C===O&&y(x,$,q,k):E&&(C=x instanceof Set,O=$ instanceof Set,C||O)?C===O&&v(x,$,q,k):h(x,$,q,k)))}return x!==x&&$!==$}return T}var U=D(),L=D(function(){return a}),w=D(f()),I=D(f(a));r.circularDeepEqual=w,r.circularShallowEqual=I,r.createCustomEqual=D,r.deepEqual=U,r.sameValueZeroEqual=a,r.shallowEqual=L,Object.defineProperty(r,"__esModule",{value:!0})})}),qE={};rc(qE,{buildMockCaseAssistEngine:()=>Hj,buildMockProductListingEngine:()=>Qj,buildMockProductRecommendationsAppEngine:()=>Nj,buildMockRaw:()=>$y,buildMockRecommendationAppEngine:()=>zj,buildMockResult:()=>Yj,buildMockSearchAppEngine:()=>Vj,createMockState:()=>Cy});var Fm={};rc(Fm,{MiddlewareArray:()=>Nm,TaskAbortError:()=>Ei,addListener:()=>uv,clearAllListeners:()=>cv,configureStore:()=>oq,createAction:()=>_,createAsyncThunk:()=>$e,createDraftSafeSelector:()=>Yt,createEntityAdapter:()=>yq,createImmutableStateInvariantMiddleware:()=>rq,createListenerMiddleware:()=>Fq,createNextState:()=>Eo,createReducer:()=>ie,createSelector:()=>Lm,createSerializableStateInvariantMiddleware:()=>nq,createSlice:()=>fq,current:()=>lc,findNonSerializableValue:()=>Hm,freeze:()=>Io,getDefaultMiddleware:()=>cc,getType:()=>uq,isAllOf:()=>Nl,isAnyOf:()=>xi,isAsyncThunkAction:()=>tv,isDraft:()=>xt,isFulfilled:()=>ev,isImmutableDefault:()=>tq,isPending:()=>Zm,isPlain:()=>Qm,isPlainObject:()=>qo,isRejected:()=>Ba,isRejectedWithValue:()=>Xm,miniSerializeError:()=>Jm,nanoid:()=>dc,original:()=>RE,removeListener:()=>dv,unwrapResult:()=>Km});function kt(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function xt(e){return!!e&&!!e[De]}function Kt(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===ME}(e)||Array.isArray(e)||!!e[Pf]||!!e.constructor[Pf]||ic(e)||ac(e))}function RE(e){return xt(e)||kt(23,e),e[De].t}function jr(e,t,r){r===void 0&&(r=!1),kn(e)===0?(r?Object.keys:cn)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function kn(e){var t=e[De];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ic(e)?2:ac(e)?3:0}function un(e,t){return kn(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function AE(e,t){return kn(e)===2?e.get(t):e[t]}function _m(e,t,r){var n=kn(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function Pm(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ic(e){return _E&&e instanceof Map}function ac(e){return PE&&e instanceof Set}function mr(e){return e.o||e.t}function oc(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Um(e);delete t[De];for(var r=cn(t),n=0;n<r.length;n++){var i=r[n],a=t[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Io(e,t){return t===void 0&&(t=!1),sc(e)||xt(e)||!Kt(e)||(kn(e)>1&&(e.set=e.add=e.clear=e.delete=DE),Object.freeze(e),t&&jr(e,function(r,n){return Io(n,!0)},!0)),e}function DE(){kt(2)}function sc(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Pt(e){var t=Ll[e];return t||kt(18,e),t}function jE(e,t){Ll[e]||(Ll[e]=t)}function Pl(){return ri}function Fs(e,t){t&&(Pt("Patches"),e.u=[],e.s=[],e.v=t)}function za(e){Ml(e),e.p.forEach(TE),e.p=null}function Ml(e){e===ri&&(ri=e.l)}function Af(e){return ri={p:[],l:ri,h:e,m:!0,_:0}}function TE(e){var t=e[De];t.i===0||t.i===1?t.j():t.O=!0}function _s(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||Pt("ES5").S(t,e,n),n?(r[De].P&&(za(t),kt(4)),Kt(e)&&(e=Na(t,e),t.l||Qa(t,e)),t.u&&Pt("Patches").M(r[De].t,e,t.u,t.s)):e=Na(t,r,[]),za(t),t.u&&t.v(t.u,t.s),e!==Mm?e:void 0}function Na(e,t,r){if(sc(t))return t;var n=t[De];if(!n)return jr(t,function(a,o){return Df(e,n,t,a,o,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Qa(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=oc(n.k):n.o;jr(n.i===3?new Set(i):i,function(a,o){return Df(e,n,i,a,o,r)}),Qa(e,i,!1),r&&e.u&&Pt("Patches").R(n,r,e.u,e.s)}return n.o}function Df(e,t,r,n,i,a){if(xt(i)){var o=Na(e,i,a&&t&&t.i!==3&&!un(t.D,n)?a.concat(n):void 0);if(_m(r,n,o),!xt(o))return;e.m=!1}if(Kt(i)&&!sc(i)){if(!e.h.F&&e._<1)return;Na(e,i),t&&t.A.l||Qa(e,i)}}function Qa(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&Io(t,r)}function Ps(e,t){var r=e[De];return(r?mr(r):e)[t]}function jf(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function ir(e){e.P||(e.P=!0,e.l&&ir(e.l))}function Ms(e){e.o||(e.o=oc(e.t))}function Ul(e,t,r){var n=ic(t)?Pt("MapSet").N(t,r):ac(t)?Pt("MapSet").T(t,r):e.g?function(i,a){var o=Array.isArray(i),s={i:o?1:0,A:a?a.A:Pl(),P:!1,I:!1,D:{},l:a,t:i,k:null,o:null,j:null,C:!1},l=s,u=ni;o&&(l=[s],u=Vn);var d=Proxy.revocable(l,u),f=d.revoke,g=d.proxy;return s.k=g,s.j=f,g}(t,r):Pt("ES5").J(t,r);return(r?r.A:Pl()).p.push(n),n}function lc(e){return xt(e)||kt(22,e),function t(r){if(!Kt(r))return r;var n,i=r[De],a=kn(r);if(i){if(!i.P&&(i.i<4||!Pt("ES5").K(i)))return i.t;i.I=!0,n=Tf(r,a),i.I=!1}else n=Tf(r,a);return jr(n,function(o,s){i&&AE(i.t,o)===s||_m(n,o,t(s))}),a===3?new Set(n):n}(e)}function Tf(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return oc(e)}function FE(){function e(a,o){var s=i[a];return s?s.enumerable=o:i[a]=s={configurable:!0,enumerable:o,get:function(){var l=this[De];return ni.get(l,a)},set:function(l){var u=this[De];ni.set(u,a,l)}},s}function t(a){for(var o=a.length-1;o>=0;o--){var s=a[o][De];if(!s.P)switch(s.i){case 5:n(s)&&ir(s);break;case 4:r(s)&&ir(s)}}}function r(a){for(var o=a.t,s=a.k,l=cn(s),u=l.length-1;u>=0;u--){var d=l[u];if(d!==De){var f=o[d];if(f===void 0&&!un(o,d))return!0;var g=s[d],y=g&&g[De];if(y?y.t!==f:!Pm(g,f))return!0}}var m=!!o[De];return l.length!==cn(o).length+(m?0:1)}function n(a){var o=a.k;if(o.length!==a.t.length)return!0;var s=Object.getOwnPropertyDescriptor(o,o.length-1);if(s&&!s.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};jE("ES5",{J:function(a,o){var s=Array.isArray(a),l=function(d,f){if(d){for(var g=Array(f.length),y=0;y<f.length;y++)Object.defineProperty(g,""+y,e(y,!0));return g}var m=Um(f);delete m[De];for(var c=cn(m),h=0;h<c.length;h++){var p=c[h];m[p]=e(p,d||!!m[p].enumerable)}return Object.create(Object.getPrototypeOf(f),m)}(s,a),u={i:s?5:4,A:o?o.A:Pl(),P:!1,I:!1,D:{},l:o,t:a,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,De,{value:u,writable:!0}),l},S:function(a,o,s){s?xt(o)&&o[De].A===a&&t(a.p):(a.u&&function l(u){if(u&&typeof u=="object"){var d=u[De];if(d){var f=d.t,g=d.k,y=d.D,m=d.i;if(m===4)jr(g,function(S){S!==De&&(f[S]!==void 0||un(f,S)?y[S]||l(g[S]):(y[S]=!0,ir(d)))}),jr(f,function(S){g[S]!==void 0||un(g,S)||(y[S]=!1,ir(d))});else if(m===5){if(n(d)&&(ir(d),y.length=!0),g.length<f.length)for(var c=g.length;c<f.length;c++)y[c]=!1;else for(var h=f.length;h<g.length;h++)y[h]=!0;for(var p=Math.min(g.length,f.length),v=0;v<p;v++)g.hasOwnProperty(v)||(y[v]=!0),y[v]===void 0&&l(g[v])}}}}(a.p[0]),t(a.p))},K:function(a){return a.i===4?r(a):n(a)}})}var Ff,ri,uc=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",_E=typeof Map!="undefined",PE=typeof Set!="undefined",_f=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Mm=uc?Symbol.for("immer-nothing"):((Ff={})["immer-nothing"]=!0,Ff),Pf=uc?Symbol.for("immer-draftable"):"__$immer_draftable",De=uc?Symbol.for("immer-state"):"__$immer_state",ME=""+Object.prototype.constructor,cn=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Um=Object.getOwnPropertyDescriptors||function(e){var t={};return cn(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Ll={},ni={get:function(e,t){if(t===De)return e;var r=mr(e);if(!un(r,t))return function(i,a,o){var s,l=jf(a,o);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Kt(n)?n:n===Ps(e.t,t)?(Ms(e),e.o[t]=Ul(e.A.h,n,e)):n},has:function(e,t){return t in mr(e)},ownKeys:function(e){return Reflect.ownKeys(mr(e))},set:function(e,t,r){var n=jf(mr(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=Ps(mr(e),t),a=i==null?void 0:i[De];if(a&&a.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(Pm(r,i)&&(r!==void 0||un(e.t,t)))return!0;Ms(e),ir(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return Ps(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,Ms(e),ir(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=mr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){kt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){kt(12)}},Vn={};jr(ni,function(e,t){Vn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Vn.deleteProperty=function(e,t){return Vn.set.call(this,e,t,void 0)},Vn.set=function(e,t,r){return ni.set.call(this,e[0],t,r,e[0])};var UE=function(){function e(r){var n=this;this.g=_f,this.F=!0,this.produce=function(i,a,o){if(typeof i=="function"&&typeof a!="function"){var s=a;a=i;var l=n;return function(c){var h=this;c===void 0&&(c=s);for(var p=arguments.length,v=Array(p>1?p-1:0),S=1;S<p;S++)v[S-1]=arguments[S];return l.produce(c,function(E){var D;return(D=a).call.apply(D,[h,E].concat(v))})}}var u;if(typeof a!="function"&&kt(6),o!==void 0&&typeof o!="function"&&kt(7),Kt(i)){var d=Af(n),f=Ul(n,i,void 0),g=!0;try{u=a(f),g=!1}finally{g?za(d):Ml(d)}return typeof Promise!="undefined"&&u instanceof Promise?u.then(function(c){return Fs(d,o),_s(c,d)},function(c){throw za(d),c}):(Fs(d,o),_s(u,d))}if(!i||typeof i!="object"){if((u=a(i))===void 0&&(u=i),u===Mm&&(u=void 0),n.F&&Io(u,!0),o){var y=[],m=[];Pt("Patches").M(i,u,y,m),o(y,m)}return u}kt(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(u){for(var d=arguments.length,f=Array(d>1?d-1:0),g=1;g<d;g++)f[g-1]=arguments[g];return n.produceWithPatches(u,function(y){return i.apply(void 0,[y].concat(f))})};var o,s,l=n.produce(i,a,function(u,d){o=u,s=d});return typeof Promise!="undefined"&&l instanceof Promise?l.then(function(u){return[u,o,s]}):[l,o,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Kt(r)||kt(8),xt(r)&&(r=lc(r));var n=Af(this),i=Ul(this,r,void 0);return i[De].C=!0,Ml(n),i},t.finishDraft=function(r,n){var i=r&&r[De],a=i.A;return Fs(a,n),_s(void 0,a)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!_f&&kt(20),this.g=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var a=n[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}i>-1&&(n=n.slice(i+1));var o=Pt("Patches").$;return xt(r)?o(r,n):this.produce(r,function(s){return o(s,n)})},e}(),Ct=new UE,LE=Ct.produce;Ct.produceWithPatches.bind(Ct);Ct.setAutoFreeze.bind(Ct);Ct.setUseProxies.bind(Ct);Ct.applyPatches.bind(Ct);Ct.createDraft.bind(Ct);Ct.finishDraft.bind(Ct);var Eo=LE;Dm(Fm,Ke(Oo()));var Ha="NOT_FOUND";function VE(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:Ha},put:function(r,n){t={key:r,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function zE(e,t){var r=[];function n(s){var l=r.findIndex(function(d){return t(s,d.key)});if(l>-1){var u=r[l];return l>0&&(r.splice(l,1),r.unshift(u)),u.value}return Ha}function i(s,l){n(s)===Ha&&(r.unshift({key:s,value:l}),r.length>e&&r.pop())}function a(){return r}function o(){r=[]}return{get:n,put:i,getEntries:a,clear:o}}var NE=function(e,t){return e===t};function QE(e){return function(t,r){if(t===null||r===null||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}}function HE(e,t){var r=typeof t=="object"?t:{equalityCheck:t},n=r.equalityCheck,i=n===void 0?NE:n,a=r.maxSize,o=a===void 0?1:a,s=r.resultEqualityCheck,l=QE(i),u=o===1?VE(l):zE(o,l);function d(){var f=u.get(arguments);if(f===Ha){if(f=e.apply(null,arguments),s){var g=u.getEntries(),y=g.find(function(m){return s(m.value,f)});y&&(f=y.value)}u.put(arguments,f)}return f}return d.clearCache=function(){return u.clear()},d}function BE(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(n){return typeof n=="function"})){var r=t.map(function(n){return typeof n=="function"?"function "+(n.name||"unnamed")+"()":typeof n}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}function WE(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=0,u,d={memoizeOptions:void 0},f=o.pop();if(typeof f=="object"&&(d=f,f=o.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var g=d,y=g.memoizeOptions,m=y===void 0?r:y,c=Array.isArray(m)?m:[m],h=BE(o),p=e.apply(void 0,[function(){return l++,f.apply(null,arguments)}].concat(c)),v=e(function(){for(var S=[],E=h.length,D=0;D<E;D++)S.push(h[D].apply(null,arguments));return u=p.apply(null,S),u});return Object.assign(v,{resultFunc:f,memoizedResultFunc:p,dependencies:h,lastResult:function(){return u},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),v};return i}var Lm=WE(HE),aa=Ke(Oo()),Mf=Ke(Oo());function Vm(e){var t=function(r){var n=r.dispatch,i=r.getState;return function(a){return function(o){return typeof o=="function"?o(n,i,e):a(o)}}};return t}var zm=Vm();zm.withExtraArgument=Vm;var Vl=zm,YE=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ki=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},yn=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},JE=Object.defineProperty,KE=Object.defineProperties,GE=Object.getOwnPropertyDescriptors,Uf=Object.getOwnPropertySymbols,ZE=Object.prototype.hasOwnProperty,XE=Object.prototype.propertyIsEnumerable,Lf=function(e,t,r){return t in e?JE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},gt=function(e,t){for(var r in t||(t={}))ZE.call(t,r)&&Lf(e,r,t[r]);if(Uf)for(var n=0,i=Uf(t);n<i.length;n++){var r=i[n];XE.call(t,r)&&Lf(e,r,t[r])}return e},Us=function(e,t){return KE(e,GE(t))},Oi=function(e,t,r){return new Promise(function(n,i){var a=function(l){try{s(r.next(l))}catch(u){i(u)}},o=function(l){try{s(r.throw(l))}catch(u){i(u)}},s=function(l){return l.done?n(l.value):Promise.resolve(l.value).then(a,o)};s((r=r.apply(e,t)).next())})},Yt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Lm.apply(void 0,e),n=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return r.apply(void 0,yn([xt(i)?lc(i):i],a))};return n},eq=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mf.compose:Mf.compose.apply(null,arguments)};function qo(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var Nm=function(e){YE(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,yn([void 0],r[0].concat(this)))):new(t.bind.apply(t,yn([void 0],r.concat(this))))},t}(Array);function zl(e){return Kt(e)?Eo(e,function(){}):e}function tq(e){return typeof e!="object"||e==null||Object.isFrozen(e)}function rq(e){return function(){return function(t){return function(r){return t(r)}}}}function Qm(e){var t=typeof e;return e==null||t==="string"||t==="boolean"||t==="number"||Array.isArray(e)||qo(e)}function Hm(e,t,r,n,i){t===void 0&&(t=""),r===void 0&&(r=Qm),i===void 0&&(i=[]);var a;if(!r(e))return{keyPath:t||"<root>",value:e};if(typeof e!="object"||e===null)return!1;for(var o=n!=null?n(e):Object.entries(e),s=i.length>0,l=0,u=o;l<u.length;l++){var d=u[l],f=d[0],g=d[1],y=t?t+"."+f:f;if(!(s&&i.indexOf(y)>=0)){if(!r(g))return{keyPath:y,value:g};if(typeof g=="object"&&(a=Hm(g,y,r,n,i),a))return a}}return!1}function nq(e){return function(){return function(t){return function(r){return t(r)}}}}function iq(e){return typeof e=="boolean"}function aq(){return function(e){return cc(e)}}function cc(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t,n=new Nm;return r&&(iq(r)?n.push(Vl):n.push(Vl.withExtraArgument(r.extraArgument))),n}var Vf=!0;function oq(e){var t=aq(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,a=r.middleware,o=a===void 0?t():a,s=r.devTools,l=s===void 0?!0:s,u=r.preloadedState,d=u===void 0?void 0:u,f=r.enhancers,g=f===void 0?void 0:f,y;if(typeof i=="function")y=i;else if(qo(i))y=(0,aa.combineReducers)(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=o;if(typeof m=="function"&&(m=m(t),!Vf))throw new Error("when using a middleware builder function, an array of middleware must be returned");var c=aa.applyMiddleware.apply(void 0,m),h=aa.compose;l&&(h=eq(gt({trace:!Vf},typeof l=="object"&&l)));var p=[c];Array.isArray(g)?p=yn([c],g):typeof g=="function"&&(p=g(p));var v=h.apply(void 0,p);return(0,aa.createStore)(y,d,v)}function _(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var a=t.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return gt(gt({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function sq(e){return qo(e)&&typeof e.type=="string"&&Object.keys(e).every(lq)}function lq(e){return["type","payload","error","meta"].indexOf(e)>-1}function uq(e){return""+e}function Bm(e){var t={},r=[],n,i={addCase:function(a,o){var s=typeof a=="string"?a:a.type;if(s in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[s]=o,i},addMatcher:function(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase:function(a){return n=a,i}};return e(i),[t,r,n]}function cq(e){return typeof e=="function"}function ie(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?Bm(t):[t,r,n],a=i[0],o=i[1],s=i[2],l;if(cq(e))l=function(){return zl(e())};else{var u=zl(e);l=function(){return u}}function d(f,g){f===void 0&&(f=l());var y=yn([a[g.type]],o.filter(function(m){var c=m.matcher;return c(g)}).map(function(m){var c=m.reducer;return c}));return y.filter(function(m){return!!m}).length===0&&(y=[s]),y.reduce(function(m,c){if(c)if(xt(m)){var h=m,p=c(h,g);return p===void 0?m:p}else{if(Kt(m))return Eo(m,function(S){return c(S,g)});var p=c(m,g);if(p===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}return m},f)}return d.getInitialState=l,d}function dq(e,t){return e+"/"+t}function fq(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r=typeof e.initialState=="function"?e.initialState:zl(e.initialState),n=e.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(function(d){var f=n[d],g=dq(t,d),y,m;"reducer"in f?(y=f.reducer,m=f.prepare):y=f,a[d]=y,o[g]=y,s[d]=m?_(g,m):_(g)});function l(){var d=typeof e.extraReducers=="function"?Bm(e.extraReducers):[e.extraReducers],f=d[0],g=f===void 0?{}:f,y=d[1],m=y===void 0?[]:y,c=d[2],h=c===void 0?void 0:c,p=gt(gt({},g),o);return ie(r,p,m,h)}var u;return{name:t,reducer:function(d,f){return u||(u=l()),u(d,f)},actions:s,caseReducers:a,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}function pq(){return{ids:[],entities:{}}}function hq(){function e(t){return t===void 0&&(t={}),Object.assign(pq(),t)}return{getInitialState:e}}function gq(){function e(t){var r=function(u){return u.ids},n=function(u){return u.entities},i=Yt(r,n,function(u,d){return u.map(function(f){return d[f]})}),a=function(u,d){return d},o=function(u,d){return u[d]},s=Yt(r,function(u){return u.length});if(!t)return{selectIds:r,selectEntities:n,selectAll:i,selectTotal:s,selectById:Yt(n,a,o)};var l=Yt(t,n);return{selectIds:Yt(t,r),selectEntities:l,selectAll:Yt(t,i),selectTotal:Yt(t,s),selectById:Yt(l,a,o)}}return{getSelectors:e}}function mq(e){var t=Ne(function(r,n){return e(n)});return function(r){return t(r,void 0)}}function Ne(e){return function(t,r){function n(a){return sq(a)}var i=function(a){n(r)?e(r.payload,a):e(r,a)};return xt(t)?(i(t),t):Eo(t,i)}}function Wn(e,t){var r=t(e);return r}function xr(e){return Array.isArray(e)||(e=Object.values(e)),e}function Wm(e,t,r){e=xr(e);for(var n=[],i=[],a=0,o=e;a<o.length;a++){var s=o[a],l=Wn(s,t);l in r.entities?i.push({id:l,changes:s}):n.push(s)}return[n,i]}function Ym(e){function t(m,c){var h=Wn(m,e);h in c.entities||(c.ids.push(h),c.entities[h]=m)}function r(m,c){m=xr(m);for(var h=0,p=m;h<p.length;h++){var v=p[h];t(v,c)}}function n(m,c){var h=Wn(m,e);h in c.entities||c.ids.push(h),c.entities[h]=m}function i(m,c){m=xr(m);for(var h=0,p=m;h<p.length;h++){var v=p[h];n(v,c)}}function a(m,c){m=xr(m),c.ids=[],c.entities={},r(m,c)}function o(m,c){return s([m],c)}function s(m,c){var h=!1;m.forEach(function(p){p in c.entities&&(delete c.entities[p],h=!0)}),h&&(c.ids=c.ids.filter(function(p){return p in c.entities}))}function l(m){Object.assign(m,{ids:[],entities:{}})}function u(m,c,h){var p=h.entities[c.id],v=Object.assign({},p,c.changes),S=Wn(v,e),E=S!==c.id;return E&&(m[c.id]=S,delete h.entities[c.id]),h.entities[S]=v,E}function d(m,c){return f([m],c)}function f(m,c){var h={},p={};m.forEach(function(E){E.id in c.entities&&(p[E.id]={id:E.id,changes:gt(gt({},p[E.id]?p[E.id].changes:null),E.changes)})}),m=Object.values(p);var v=m.length>0;if(v){var S=m.filter(function(E){return u(h,E,c)}).length>0;S&&(c.ids=Object.keys(c.entities))}}function g(m,c){return y([m],c)}function y(m,c){var h=Wm(m,e,c),p=h[0],v=h[1];f(v,c),r(p,c)}return{removeAll:mq(l),addOne:Ne(t),addMany:Ne(r),setOne:Ne(n),setMany:Ne(i),setAll:Ne(a),updateOne:Ne(d),updateMany:Ne(f),upsertOne:Ne(g),upsertMany:Ne(y),removeOne:Ne(o),removeMany:Ne(s)}}function vq(e,t){var r=Ym(e),n=r.removeOne,i=r.removeMany,a=r.removeAll;function o(v,S){return s([v],S)}function s(v,S){v=xr(v);var E=v.filter(function(D){return!(Wn(D,e)in S.entities)});E.length!==0&&h(E,S)}function l(v,S){return u([v],S)}function u(v,S){v=xr(v),v.length!==0&&h(v,S)}function d(v,S){v=xr(v),S.entities={},S.ids=[],s(v,S)}function f(v,S){return g([v],S)}function g(v,S){for(var E=!1,D=0,U=v;D<U.length;D++){var L=U[D],w=S.entities[L.id];if(w){E=!0,Object.assign(w,L.changes);var I=e(w);L.id!==I&&(delete S.entities[L.id],S.entities[I]=w)}}E&&p(S)}function y(v,S){return m([v],S)}function m(v,S){var E=Wm(v,e,S),D=E[0],U=E[1];g(U,S),s(D,S)}function c(v,S){if(v.length!==S.length)return!1;for(var E=0;E<v.length&&E<S.length;E++)if(v[E]!==S[E])return!1;return!0}function h(v,S){v.forEach(function(E){S.entities[e(E)]=E}),p(S)}function p(v){var S=Object.values(v.entities);S.sort(t);var E=S.map(e),D=v.ids;c(D,E)||(v.ids=E)}return{removeOne:n,removeMany:i,removeAll:a,addOne:Ne(o),updateOne:Ne(f),upsertOne:Ne(y),setOne:Ne(l),setMany:Ne(u),setAll:Ne(d),addMany:Ne(s),updateMany:Ne(g),upsertMany:Ne(m)}}function yq(e){e===void 0&&(e={});var t=gt({sortComparer:!1,selectId:function(s){return s.id}},e),r=t.selectId,n=t.sortComparer,i=hq(),a=gq(),o=n?vq(r,n):Ym(r);return gt(gt(gt({selectId:r,sortComparer:n},i),a),o)}var bq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dc=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=bq[Math.random()*64|0];return t},Sq=["name","message","stack","code"],Ls=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),zf=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),Jm=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=Sq;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};function $e(e,t,r){var n=_(e+"/fulfilled",function(l,u,d,f){return{payload:l,meta:Us(gt({},f||{}),{arg:d,requestId:u,requestStatus:"fulfilled"})}}),i=_(e+"/pending",function(l,u,d){return{payload:void 0,meta:Us(gt({},d||{}),{arg:u,requestId:l,requestStatus:"pending"})}}),a=_(e+"/rejected",function(l,u,d,f,g){return{payload:f,error:(r&&r.serializeError||Jm)(l||"Rejected"),meta:Us(gt({},g||{}),{arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),o=typeof AbortController!="undefined"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function s(l){return function(u,d,f){var g=r!=null&&r.idGenerator?r.idGenerator(l):dc(),y=new o,m,c=new Promise(function(S,E){return y.signal.addEventListener("abort",function(){return E({name:"AbortError",message:m||"Aborted"})})}),h=!1;function p(S){h&&(m=S,y.abort())}var v=function(){return Oi(this,null,function(){var S,E,D,U,L,w;return ki(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),U=(S=r==null?void 0:r.condition)==null?void 0:S.call(r,l,{getState:d,extra:f}),wq(U)?[4,U]:[3,2];case 1:U=I.sent(),I.label=2;case 2:if(U===!1)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return h=!0,u(i(g,l,(E=r==null?void 0:r.getPendingMeta)==null?void 0:E.call(r,{requestId:g,arg:l},{getState:d,extra:f}))),[4,Promise.race([c,Promise.resolve(t(l,{dispatch:u,getState:d,extra:f,requestId:g,signal:y.signal,rejectWithValue:function(b,q){return new Ls(b,q)},fulfillWithValue:function(b,q){return new zf(b,q)}})).then(function(b){if(b instanceof Ls)throw b;return b instanceof zf?n(b.payload,g,l,b.meta):n(b,g,l)})])];case 3:return D=I.sent(),[3,5];case 4:return L=I.sent(),D=L instanceof Ls?a(null,g,l,L.payload,L.meta):a(L,g,l),[3,5];case 5:return w=r&&!r.dispatchConditionRejection&&a.match(D)&&D.meta.condition,w||u(D),[2,D]}})})}();return Object.assign(v,{abort:p,requestId:g,arg:l,unwrap:function(){return v.then(Km)}})}}return Object.assign(s,{pending:i,rejected:a,fulfilled:n,typePrefix:e})}function Km(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function wq(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Cq=function(e){return e&&typeof e.match=="function"},Gm=function(e,t){return Cq(e)?e.match(t):e(t)};function xi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return e.some(function(n){return Gm(n,r)})}}function Nl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return e.every(function(n){return Gm(n,r)})}}function Ro(e,t){if(!e||!e.meta)return!1;var r=typeof e.meta.requestId=="string",n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function Ii(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Zm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return Ro(r,["pending"])}:Ii(e)?function(r){var n=e.map(function(a){return a.pending}),i=xi.apply(void 0,n);return i(r)}:Zm()(e[0])}function Ba(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return Ro(r,["rejected"])}:Ii(e)?function(r){var n=e.map(function(a){return a.rejected}),i=xi.apply(void 0,n);return i(r)}:Ba()(e[0])}function Xm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(n){return n&&n.meta&&n.meta.rejectedWithValue};return e.length===0?function(n){var i=Nl(Ba.apply(void 0,e),r);return i(n)}:Ii(e)?function(n){var i=Nl(Ba.apply(void 0,e),r);return i(n)}:Xm()(e[0])}function ev(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return Ro(r,["fulfilled"])}:Ii(e)?function(r){var n=e.map(function(a){return a.fulfilled}),i=xi.apply(void 0,n);return i(r)}:ev()(e[0])}function tv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?function(r){return Ro(r,["pending","fulfilled","rejected"])}:Ii(e)?function(r){for(var n=[],i=0,a=e;i<a.length;i++){var o=a[i];n.push(o.pending,o.rejected,o.fulfilled)}var s=xi.apply(void 0,n);return s(r)}:tv()(e[0])}var fc=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},$q=function(){},pc=function(e,t){return t===void 0&&(t=$q),e.catch(t),e},rv=function(e,t){e.addEventListener("abort",t,{once:!0})},dn=function(e,t){var r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},kq="task",nv="listener",iv="completed",hc="cancelled",Oq="task-"+hc,xq="task-"+iv,av=nv+"-"+hc,Iq=nv+"-"+iv,Ei=function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=kq+" "+hc+" (reason: "+t+")"}return e}(),fn=function(e){if(e.aborted)throw new Ei(e.reason)},ov=function(e){return pc(new Promise(function(t,r){var n=function(){return r(new Ei(e.reason))};e.aborted?n():rv(e,n)}))},Eq=function(e,t){return Oi(void 0,null,function(){var r,n;return ki(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return r=i.sent(),[2,{status:"ok",value:r}];case 3:return n=i.sent(),[2,{status:n instanceof Ei?"cancelled":"rejected",error:n}];case 4:return t==null||t(),[7];case 5:return[2]}})})},Wa=function(e){return function(t){return pc(Promise.race([ov(e),t]).then(function(r){return fn(e),r}))}},sv=function(e){var t=Wa(e);return function(r){return t(new Promise(function(n){return setTimeout(n,r)}))}},qq=Object.assign,Nf={},qi="listenerMiddleware",Rq=function(e){var t=function(r){return rv(e,function(){return dn(r,e.reason)})};return function(r){fc(r,"taskExecutor");var n=new AbortController;t(n);var i=Eq(function(){return Oi(void 0,null,function(){var a;return ki(this,function(o){switch(o.label){case 0:return fn(e),fn(n.signal),[4,r({pause:Wa(n.signal),delay:sv(n.signal),signal:n.signal})];case 1:return a=o.sent(),fn(n.signal),[2,a]}})})},function(){return dn(n,xq)});return{result:Wa(e)(i),cancel:function(){dn(n,Oq)}}}},Aq=function(e,t){var r=function(n,i){return Oi(void 0,null,function(){var a,o,s,l;return ki(this,function(u){switch(u.label){case 0:fn(t),a=function(){},o=new Promise(function(d){a=e({predicate:n,effect:function(f,g){g.unsubscribe(),d([f,g.getState(),g.getOriginalState()])}})}),s=[ov(t),o],i!=null&&s.push(new Promise(function(d){return setTimeout(d,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,Promise.race(s)];case 2:return l=u.sent(),fn(t),[2,l];case 3:return a(),[7];case 4:return[2]}})})};return function(n,i){return pc(r(n,i))}},lv=function(e){var t=e.type,r=e.actionCreator,n=e.matcher,i=e.predicate,a=e.effect;if(t)i=_(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return fc(a,"options.listener"),{predicate:i,type:t,effect:a}},Dq=function(e){var t=lv(e),r=t.type,n=t.predicate,i=t.effect,a=dc(),o={id:a,effect:i,type:r,predicate:n,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},jq=function(e){return function(){e.forEach(Ql),e.clear()}},Qf=function(e,t,r){try{e(t,r)}catch(n){setTimeout(function(){throw n},0)}},uv=_(qi+"/add"),cv=_(qi+"/removeAll"),dv=_(qi+"/remove"),Tq=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,yn([qi+"/error"],e))},Ql=function(e){e.pending.forEach(function(t){dn(t,av)})};function Fq(e){var t=this;e===void 0&&(e={});var r=new Map,n=e.extra,i=e.onError,a=i===void 0?Tq:i;fc(a,"onError");var o=function(y){return y.unsubscribe=function(){return r.delete(y.id)},r.set(y.id,y),function(m){y.unsubscribe(),m!=null&&m.cancelActive&&Ql(y)}},s=function(y){for(var m=0,c=Array.from(r.values());m<c.length;m++){var h=c[m];if(y(h))return h}},l=function(y){var m=s(function(c){return c.effect===y.effect});return m||(m=Dq(y)),o(m)},u=function(y){var m=lv(y),c=m.type,h=m.effect,p=m.predicate,v=s(function(S){var E=typeof c=="string"?S.type===c:S.predicate===p;return E&&S.effect===h});return v&&(v.unsubscribe(),y.cancelActive&&Ql(v)),!!v},d=function(y,m,c,h){return Oi(t,null,function(){var p,v,S;return ki(this,function(E){switch(E.label){case 0:p=new AbortController,v=Aq(l,p.signal),E.label=1;case 1:return E.trys.push([1,3,4,5]),y.pending.add(p),[4,Promise.resolve(y.effect(m,qq({},c,{getOriginalState:h,condition:function(D,U){return v(D,U).then(Boolean)},take:v,delay:sv(p.signal),pause:Wa(p.signal),extra:n,signal:p.signal,fork:Rq(p.signal),unsubscribe:y.unsubscribe,subscribe:function(){r.set(y.id,y)},cancelActiveListeners:function(){y.pending.forEach(function(D,U,L){D!==p&&(dn(D,av),L.delete(D))})}})))];case 2:return E.sent(),[3,5];case 3:return S=E.sent(),S instanceof Ei||Qf(a,S,{raisedBy:"effect"}),[3,5];case 4:return dn(p,Iq),y.pending.delete(p),[7];case 5:return[2]}})})},f=jq(r),g=function(y){return function(m){return function(c){if(uv.match(c))return l(c.payload);if(cv.match(c)){f();return}if(dv.match(c))return u(c.payload);var h=y.getState(),p=function(){if(h===Nf)throw new Error(qi+": getOriginalState can only be called synchronously");return h},v;try{if(v=m(c),r.size>0)for(var S=y.getState(),E=Array.from(r.values()),D=0,U=E;D<U.length;D++){var L=U[D],w=!1;try{w=L.predicate(c,S,h)}catch(I){w=!1,Qf(a,I,{raisedBy:"predicate"})}!w||d(L,c,y,p)}}finally{h=Nf}return v}}};return{middleware:g,startListening:l,stopListening:u,clearListeners:f}}FE();var _q=Ke(xo()),Pq=Ke(dE());function Mq(e,t){let r=`
  The following properties are invalid:

    ${e.join(`
	`)}

  ${t}
  `;return new gc(r)}var gc=class extends Error{constructor(e){super(e),this.name="SchemaValidationError"}},Ri=class{constructor(e){this.definition=e}validate(e={},t=""){let r={...this.default,...e},n=[];for(let i in this.definition){let a=this.definition[i].validate(r[i]);a&&n.push(`${i}: ${a}`)}if(n.length)throw Mq(n,t);return r}get default(){let e={};for(let t in this.definition){let r=this.definition[t].default;r!==void 0&&(e[t]=r)}return e}},dt=class{constructor(e={}){this.baseConfig=e}validate(e){return this.baseConfig.required&&ve(e)?"value is required.":null}get default(){return this.baseConfig.default instanceof Function?this.baseConfig.default():this.baseConfig.default}get required(){return this.baseConfig.required===!0}};function ut(e){return e===void 0}function Uq(e){return e===null}function ve(e){return ut(e)||Uq(e)}var fe=class{constructor(e={}){this.config=e,this.value=new dt(e)}validate(e){return this.value.validate(e)||(Lq(e)?e<this.config.min?`minimum value of ${this.config.min} not respected.`:e>this.config.max?`maximum value of ${this.config.max} not respected.`:null:"value is not a number.")}get default(){return this.value.default}get required(){return this.value.required}};function Lq(e){return ut(e)||fv(e)}function fv(e){return typeof e=="number"&&!isNaN(e)}var _e=class{constructor(e={}){this.value=new dt(e)}validate(e){return this.value.validate(e)||(Vq(e)?null:"value is not a boolean.")}get default(){return this.value.default}get required(){return this.value.required}};function Vq(e){return ut(e)||pv(e)}function pv(e){return typeof e=="boolean"}var zq=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i,ue=class{constructor(e={}){this.config={emptyAllowed:!0,url:!1,...e},this.value=new dt(this.config)}validate(e){let{emptyAllowed:t,url:r,regex:n,constrainTo:i}=this.config;return this.value.validate(e)||(ut(e)?null:mc(e)?!t&&!e.length?"value is an empty string.":r&&!zq.test(e)?"value is not a valid URL.":n&&!n.test(e)?`value did not match provided regex ${n}`:i&&!i.includes(e)?`value should be one of: ${i.join(", ")}.`:null:"value is not a string.")}get default(){return this.value.default}get required(){return this.value.required}};function mc(e){return Object.prototype.toString.call(e)==="[object String]"}var pe=class{constructor(e={}){this.config={options:{required:!1},values:{},...e}}validate(e){if(ut(e))return this.config.options.required?"value is required and is currently undefined":null;if(!hv(e))return"value is not an object";for(let[r,n]of Object.entries(this.config.values))if(n.required&&ve(e[r]))return`value does not contain ${r}`;let t="";for(let[r,n]of Object.entries(this.config.values)){let i=e[r],a=n.validate(i);a!==null&&(t+=" "+a)}return t===""?null:t}get default(){}get required(){return!!this.config.options.required}};function hv(e){return e!==void 0&&typeof e=="object"}var He=class{constructor(e={}){this.config=e,this.value=new dt(this.config)}validate(e){if(!ve(e)&&!Array.isArray(e))return"value is not an array";let t=this.value.validate(e);if(t!==null)return t;if(ve(e))return null;if(this.config.max!==void 0&&e.length>this.config.max)return`value contains more than ${this.config.max}`;if(this.config.min!==void 0&&e.length<this.config.min)return`value contains less than ${this.config.min}`;if(this.config.each!==void 0){let r="";return e.forEach(n=>{this.config.each.required&&ve(n)&&(r=`value is null or undefined: ${e.join(",")}`);let i=this.validatePrimitiveValue(n,this.config.each);i!==null&&(r+=" "+i)}),r===""?null:r}return null}validatePrimitiveValue(e,t){return pv(e)||mc(e)||fv(e)||hv(e)?t.validate(e):"value is not a primitive value"}get default(){}get required(){return this.value.required}};function gv(e){return Array.isArray(e)}var mv=class{constructor(e){this.config=e,this.value=new dt(e)}validate(e){let t=this.value.validate(e);return t!==null?t:ut(e)||Object.values(this.config.enum).find(r=>r===e)?null:"value is not in enum."}get default(){return this.value.default}get required(){return this.value.required}};function vr(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function M(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(e,t||[])).next())})}var Te;(function(e){e.search="search",e.click="click",e.custom="custom",e.view="view",e.collect="collect"})(Te||(Te={}));function Nq(){return typeof window!="undefined"}function vc(){return typeof navigator!="undefined"}function vv(){return typeof document!="undefined"}function Hl(){try{return typeof localStorage!="undefined"}catch(e){return!1}}function Qq(){try{return typeof sessionStorage!="undefined"}catch(e){return!1}}function yv(){return vc()&&navigator.cookieEnabled}function Hq(){return typeof crypto!="undefined"}function Bq(){return Hq()&&typeof crypto.getRandomValues!="undefined"}var Wq=[Te.click,Te.custom,Te.search,Te.view],Yq=(e,t)=>Wq.indexOf(e)!==-1?Object.assign({language:vv()?document.documentElement.lang:"unknown",userAgent:vc()?navigator.userAgent:"unknown"},t):t,pn=class{static set(e,t,r){var n,i,a,o,s;r?(a=new Date,a.setTime(a.getTime()+r),o="; expires="+a.toGMTString()):o="",s=window.location.hostname,s.indexOf(".")===-1?document.cookie=e+"="+t+o+"; path=/":(i=s.split("."),i.shift(),n="."+i.join("."),Hf({name:e,value:t,expires:o,domain:n}),(pn.get(e)==null||pn.get(e)!=t)&&(n="."+s,Hf({name:e,value:t,expires:o,domain:n})))}static get(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){var i=r[n];if(i=i.replace(/^\s+/,""),i.indexOf(t)==0)return i.substring(t.length,i.length)}return null}static erase(e){pn.set(e,"",-1)}};function Hf(e){let{name:t,value:r,expires:n,domain:i}=e;document.cookie=`${t}=${r}${n}; path=/; domain=${i}; SameSite=Lax`}function Jq(){return Hl()?localStorage:yv()?new hn:Qq()?sessionStorage:new Ai}var hn=class{getItem(e){return pn.get(`${hn.prefix}${e}`)}removeItem(e){pn.erase(`${hn.prefix}${e}`)}setItem(e,t){pn.set(`${hn.prefix}${e}`,t)}};hn.prefix="coveo_";var Kq=class{constructor(){this.cookieStorage=new hn}getItem(e){return localStorage.getItem(e)||this.cookieStorage.getItem(e)}removeItem(e){this.cookieStorage.removeItem(e),localStorage.removeItem(e)}setItem(e,t){localStorage.setItem(e,t),this.cookieStorage.setItem(e,t)}},Ai=class{getItem(e){return null}removeItem(e){}setItem(e,t){}},zn="__coveo.analytics.history",bv=20,Sv=1e3*60,wv=75,Ya=class{constructor(e){this.store=e||Jq()}addElement(e){e.internalTime=new Date().getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e));let t=this.getHistoryWithInternalTime();t!=null?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])}addElementAsync(e){return M(this,void 0,void 0,function*(){e.internalTime=new Date().getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e));let t=yield this.getHistoryWithInternalTimeAsync();t!=null?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])})}getHistory(){let e=this.getHistoryWithInternalTime();return this.stripEmptyQueries(this.stripInternalTime(e))}getHistoryAsync(){return M(this,void 0,void 0,function*(){let e=yield this.getHistoryWithInternalTimeAsync();return this.stripEmptyQueries(this.stripInternalTime(e))})}getHistoryWithInternalTime(){try{let e=this.store.getItem(zn);return e&&typeof e=="string"?JSON.parse(e):[]}catch(e){return[]}}getHistoryWithInternalTimeAsync(){return M(this,void 0,void 0,function*(){try{let e=yield this.store.getItem(zn);return e?JSON.parse(e):[]}catch(e){return[]}})}setHistory(e){try{this.store.setItem(zn,JSON.stringify(e.slice(0,bv)))}catch(t){}}clear(){try{this.store.removeItem(zn)}catch(e){}}getMostRecentElement(){let e=this.getHistoryWithInternalTime();return e!=null?e.sort((t,r)=>(r.internalTime||0)-(t.internalTime||0))[0]:null}cropQueryElement(e){return e.name&&e.value&&e.name.toLowerCase()==="query"&&(e.value=e.value.slice(0,wv)),e}isValidEntry(e){let t=this.getMostRecentElement();return t&&t.value==e.value?(e.internalTime||0)-(t.internalTime||0)>Sv:!0}stripInternalTime(e){return e.map(t=>{let{name:r,time:n,value:i}=t;return{name:r,time:n,value:i}})}stripEmptyQuery(e){let{name:t,time:r,value:n}=e;return t&&typeof n=="string"&&t.toLowerCase()==="query"&&n.trim()===""?{name:t,time:r}:e}stripEmptyQueries(e){return e.map(t=>this.stripEmptyQuery(t))}},Cv=Object.freeze({__proto__:null,STORE_KEY:zn,MAX_NUMBER_OF_HISTORY_ELEMENTS:bv,MIN_THRESHOLD_FOR_DUPLICATE_VALUE:Sv,MAX_VALUE_SIZE:wv,HistoryStore:Ya,default:Ya}),Gq=(e,t)=>M(void 0,void 0,void 0,function*(){return e===Te.view?(yield Zq(t.contentIdValue),Object.assign({location:window.location.toString(),referrer:document.referrer,title:document.title},t)):t}),Zq=e=>M(void 0,void 0,void 0,function*(){let t=new Ya,r={name:"PageView",value:e,time:JSON.stringify(new Date)};yield t.addElementAsync(r)}),ya=e=>e?(Number(e)^Xq(new Uint8Array(1))[0]%16>>Number(e)/4).toString(16):("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,ya),Xq=e=>{if(Bq())return crypto.getRandomValues(e);for(var t=0,r=0;t<e.length;t++)!(t&3)&&(r=Math.random()*4294967296),e[t]=r>>>((t&3)<<3)&255;return e},Dt=Object.keys,Bf={id:"svc_ticket_id",subject:"svc_ticket_subject",description:"svc_ticket_description",category:"svc_ticket_category",productId:"svc_ticket_product_id",custom:"svc_ticket_custom"},eR=Dt(Bf).map(e=>Bf[e]),tR=[...eR].join("|"),rR=new RegExp(`^(${tR}$)`),nR={svcAction:"svc_action",svcActionData:"svc_action_data"},iR=e=>rR.test(e),aR=[iR],Wf={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",price:"pr",quantity:"qt",coupon:"cc",position:"ps",group:"group"},Yf={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",group:"group"},st={action:"pa",list:"pal",listSource:"pls"},Ja={id:"ti",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",affiliation:"ta",step:"cos",option:"col"},oR=["loyaltyCardId","loyaltyTier","thirdPartyPersona","companyName","favoriteStore","storeName","userIndustry","userRole","userDepartment","businessUnit"],Bl={id:"quoteId",affiliation:"quoteAffiliation"},Wl={id:"reviewId",rating:"reviewRating",comment:"reviewComment"},sR={add:st,bookmark_add:st,bookmark_remove:st,click:st,checkout:st,checkout_option:st,detail:st,impression:st,remove:st,refund:Object.assign(Object.assign({},st),Ja),purchase:Object.assign(Object.assign({},st),Ja),quickview:st,quote:Object.assign(Object.assign({},st),Bl),review:Object.assign(Object.assign({},st),Wl)},lR=Dt(Wf).map(e=>Wf[e]),uR=Dt(Yf).map(e=>Yf[e]),cR=Dt(st).map(e=>st[e]),dR=Dt(Ja).map(e=>Ja[e]),fR=Dt(Wl).map(e=>Wl[e]),pR=Dt(Bl).map(e=>Bl[e]),hR=[...lR,"custom"].join("|"),gR=[...uR,"custom"].join("|"),$v="(pr[0-9]+)",kv="(il[0-9]+pi[0-9]+)",mR=new RegExp(`^${$v}(${hR})$`),vR=new RegExp(`^(${kv}(${gR}))|(il[0-9]+nm)$`),yR=new RegExp(`^(${cR.join("|")})$`),bR=new RegExp(`^(${dR.join("|")})$`),SR=new RegExp(`^${$v}custom$`),wR=new RegExp(`^${kv}custom$`),CR=new RegExp(`^(${[...oR,...fR,...pR].join("|")})$`),$R=e=>mR.test(e),kR=e=>vR.test(e),OR=e=>yR.test(e),xR=e=>bR.test(e),IR=e=>CR.test(e),ER=[kR,$R,OR,xR,IR],qR=[SR,wR],RR={anonymizeIp:"aip"},AR={eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",page:"dp",visitorId:"cid",clientId:"cid",userId:"uid",currencyCode:"cu"},DR={hitType:"t",pageViewId:"pid",encoding:"de",location:"dl",referrer:"dr",screenColor:"sd",screenResolution:"sr",title:"dt",userAgent:"ua",language:"ul",eventId:"z",time:"tm"},jR=["contentId","contentIdKey","contentType","searchHub","tab","searchUid","permanentId","contentLocale"],TR=Object.assign(Object.assign(Object.assign(Object.assign({},RR),AR),DR),jR.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:t}),{})),Yl=Object.assign(Object.assign({},TR),nR),FR=e=>{let t=!!e.action&&sR[e.action]||{};return Dt(e).reduce((r,n)=>{let i=t[n]||Yl[n]||n;return Object.assign(Object.assign({},r),{[i]:e[n]})},{})},_R=Dt(Yl).map(e=>Yl[e]),PR=e=>_R.indexOf(e)!==-1,MR=e=>e==="custom",UR=e=>[...ER,...aR,PR,MR].some(t=>t(e)),LR=e=>Dt(e).reduce((t,r)=>{let n=VR(r);return n?Object.assign(Object.assign({},t),zR(n,e[r])):Object.assign(Object.assign({},t),{[r]:e[r]})},{}),VR=e=>{let t;return[...qR].every(r=>{var n;return t=(n=r.exec(e))===null||n===void 0?void 0:n[1],!t}),t},zR=(e,t)=>Dt(t).reduce((r,n)=>Object.assign(Object.assign({},r),{[`${e}${n}`]:t[n]}),{}),NR=class{constructor(e){this.opts=e}sendEvent(e,t){return M(this,void 0,void 0,function*(){if(!navigator.sendBeacon)throw new Error('navigator.sendBeacon is not supported in this browser. Consider adding a polyfill like "sendbeacon-polyfill".');let{baseUrl:r,preprocessRequest:n}=this.opts,i=this.encodeForEventType(e,t),a=yield this.getQueryParamsForEventType(e),o={url:`${r}/analytics/${e}?${a}`,body:new Blob([i],{type:"application/x-www-form-urlencoded"})},{url:s,body:l}=Object.assign(Object.assign({},o),n?yield n(o,"analyticsBeacon"):{});console.log(`Sending beacon for "${e}" with: `,JSON.stringify(t)),navigator.sendBeacon(s,l)})}deleteHttpCookieVisitorId(){return Promise.resolve()}encodeForEventType(e,t){return this.isEventTypeLegacy(e)?this.encodeForLegacyType(e,t):this.encodeForFormUrlEncoded(Object.assign({access_token:this.opts.token},t))}getQueryParamsForEventType(e){return M(this,void 0,void 0,function*(){let{token:t,visitorIdProvider:r}=this.opts,n=yield r.getCurrentVisitorId();return[t&&this.isEventTypeLegacy(e)?`access_token=${t}`:"",n?`visitorId=${n}`:"","discardVisitInfo=true"].filter(i=>!!i).join("&")})}isEventTypeLegacy(e){return[Te.click,Te.custom,Te.search,Te.view].indexOf(e)!==-1}encodeForLegacyType(e,t){return`${e}Event=${encodeURIComponent(JSON.stringify(t))}`}encodeForFormUrlEncoded(e){return Object.keys(e).filter(t=>!!e[t]).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(this.encodeValue(e[t]))}`).join("&")}encodeValue(e){return typeof e=="number"||typeof e=="string"||typeof e=="boolean"?e:JSON.stringify(e)}},QR=class{sendEvent(e,t){return M(this,void 0,void 0,function*(){return Promise.resolve()})}deleteHttpCookieVisitorId(){return M(this,void 0,void 0,function*(){return Promise.resolve()})}},Jf=window.fetch,Ov=class{constructor(e){this.opts=e}sendEvent(e,t){return M(this,void 0,void 0,function*(){let{baseUrl:r,visitorIdProvider:n,preprocessRequest:i}=this.opts,a=this.shouldAppendVisitorId(e)?yield this.getVisitorIdParam():"",o={url:`${r}/analytics/${e}${a}`,credentials:"include",mode:"cors",headers:this.getHeaders(),method:"POST",body:JSON.stringify(t)},s=Object.assign(Object.assign({},o),i?yield i(o,"analyticsFetch"):{}),{url:l}=s,u=vr(s,["url"]),d=yield Jf(l,u);if(d.ok){let f=yield d.json();return f.visitorId&&n.setCurrentVisitorId(f.visitorId),f}else{try{d.json()}catch(f){}throw console.error(`An error has occured when sending the "${e}" event.`,d,t),new Error(`An error has occurred when sending the "${e}" event. Check the console logs for more details.`)}})}deleteHttpCookieVisitorId(){return M(this,void 0,void 0,function*(){let{baseUrl:e}=this.opts,t=`${e}/analytics/visit`;yield Jf(t,{headers:this.getHeaders(),method:"DELETE"})})}shouldAppendVisitorId(e){return[Te.click,Te.custom,Te.search,Te.view].indexOf(e)!==-1}getVisitorIdParam(){return M(this,void 0,void 0,function*(){let{visitorIdProvider:e}=this.opts,t=yield e.getCurrentVisitorId();return t?`?visitor=${t}`:""})}getHeaders(){let{token:e}=this.opts;return Object.assign(Object.assign({},e?{Authorization:`Bearer ${e}`}:{}),{"Content-Type":"application/json"})}},HR=class{constructor(e,t){Hl()&&yv()?this.storage=new Kq:Hl()?this.storage=localStorage:(console.warn("BrowserRuntime detected no valid storage available.",this),this.storage=new Ai),this.client=new Ov(e),this.beaconClient=new NR(e),window.addEventListener("beforeunload",()=>{let r=t();for(let{eventType:n,payload:i}of r)this.beaconClient.sendEvent(n,i)})}},BR=class{constructor(e,t){this.storage=t||new Ai,this.client=new Ov(e)}},WR=class{constructor(){this.storage=new Ai,this.client=new QR}},YR="xx",JR=e=>(e==null?void 0:e.startsWith(YR))||!1,KR=`
        We've detected you're using React Native but have not provided the corresponding runtime,
        for an optimal experience please use the "coveo.analytics/react-native" subpackage.
        Follow the Readme on how to set it up: https://github.com/coveo/coveo.analytics.js#using-react-native
    `;function GR(){return typeof navigator!="undefined"&&navigator.product=="ReactNative"}var ZR=["1",1,"yes",!0];function xv(){return vc()&&[navigator.globalPrivacyControl,navigator.doNotTrack,navigator.msDoNotTrack,window.doNotTrack].some(e=>ZR.indexOf(e)!==-1)}var Iv="v15",Ev={default:"https://analytics.cloud.coveo.com/rest/ua",production:"https://analytics.cloud.coveo.com/rest/ua",hipaa:"https://analyticshipaa.cloud.coveo.com/rest/ua"};function XR(e=Ev.default,t=Iv){let r=e.indexOf(".cloud.coveo.com")!==-1;return`${e}${r?"":"/rest"}/${t}`}var Zr=class{constructor(e){if(!e)throw new Error("You have to pass options to this constructor");this.options=Object.assign(Object.assign({},this.defaultOptions),e),this.visitorId="",this.bufferedRequests=[],this.beforeSendHooks=[Gq,Yq].concat(this.options.beforeSendHooks),this.afterSendHooks=this.options.afterSendHooks,this.eventTypeMapping={};let t={baseUrl:this.baseUrl,token:this.options.token,visitorIdProvider:this,preprocessRequest:this.options.preprocessRequest};this.runtime=this.options.runtimeEnvironment||this.initRuntime(t),xv()&&(this.clear(),this.runtime.storage=new Ai)}get defaultOptions(){return{endpoint:Ev.default,token:"",version:Iv,beforeSendHooks:[],afterSendHooks:[]}}initRuntime(e){return Nq()&&vv()?new HR(e,()=>{let t=[...this.bufferedRequests];return this.bufferedRequests=[],t}):(GR()&&console.warn(KR),new BR(e))}get storage(){return this.runtime.storage}determineVisitorId(){return M(this,void 0,void 0,function*(){try{return(yield this.storage.getItem("visitorId"))||ya()}catch(e){return console.log("Could not get visitor ID from the current runtime environment storage. Using a random ID instead.",e),ya()}})}getCurrentVisitorId(){return M(this,void 0,void 0,function*(){if(!this.visitorId){let e=yield this.determineVisitorId();yield this.setCurrentVisitorId(e)}return this.visitorId})}setCurrentVisitorId(e){return M(this,void 0,void 0,function*(){this.visitorId=e,yield this.storage.setItem("visitorId",e)})}getParameters(e,...t){return M(this,void 0,void 0,function*(){return yield this.resolveParameters(e,...t)})}getPayload(e,...t){return M(this,void 0,void 0,function*(){let r=yield this.resolveParameters(e,...t);return yield this.resolvePayloadForParameters(e,r)})}get currentVisitorId(){return typeof(this.visitorId||this.storage.getItem("visitorId"))!="string"&&this.setCurrentVisitorId(ya()),this.visitorId}set currentVisitorId(e){this.visitorId=e,this.storage.setItem("visitorId",e)}resolveParameters(e,...t){return M(this,void 0,void 0,function*(){let{variableLengthArgumentsNames:r=[],addVisitorIdParameter:n=!1,usesMeasurementProtocol:i=!1,addClientIdParameter:a=!1}=this.eventTypeMapping[e]||{};return yield[o=>r.length>0?this.parseVariableArgumentsPayload(r,o):o[0],o=>M(this,void 0,void 0,function*(){return Object.assign(Object.assign({},o),{visitorId:n?yield this.getCurrentVisitorId():""})}),o=>M(this,void 0,void 0,function*(){return a?Object.assign(Object.assign({},o),{clientId:yield this.getCurrentVisitorId()}):o}),o=>i?this.ensureAnonymousUserWhenUsingApiKey(o):o,o=>this.beforeSendHooks.reduce((s,l)=>M(this,void 0,void 0,function*(){let u=yield s;return yield l(e,u)}),o)].reduce((o,s)=>M(this,void 0,void 0,function*(){let l=yield o;return yield s(l)}),Promise.resolve(t))})}resolvePayloadForParameters(e,t){return M(this,void 0,void 0,function*(){let{usesMeasurementProtocol:r=!1}=this.eventTypeMapping[e]||{};return yield[n=>this.removeEmptyPayloadValues(n,e),n=>this.validateParams(n),n=>r?FR(n):n,n=>r?this.removeUnknownParameters(n):n,n=>r?this.processCustomParameters(n):n].reduce((n,i)=>M(this,void 0,void 0,function*(){let a=yield n;return yield i(a)}),Promise.resolve(t))})}makeEvent(e,...t){return M(this,void 0,void 0,function*(){let{newEventType:r=e}=this.eventTypeMapping[e]||{},n=yield this.resolveParameters(e,...t),i=yield this.resolvePayloadForParameters(e,n);return{eventType:r,payload:i,log:a=>M(this,void 0,void 0,function*(){return this.bufferedRequests.push({eventType:r,payload:Object.assign(Object.assign({},i),a)}),yield Promise.all(this.afterSendHooks.map(o=>o(e,Object.assign(Object.assign({},n),a)))),yield this.deferExecution(),yield this.sendFromBufferWithFetch()})}})}sendEvent(e,...t){return M(this,void 0,void 0,function*(){return(yield this.makeEvent(e,...t)).log({})})}deferExecution(){return new Promise(e=>setTimeout(e,0))}sendFromBufferWithFetch(){return M(this,void 0,void 0,function*(){let e=this.bufferedRequests.shift();if(e){let{eventType:t,payload:r}=e;return this.runtime.client.sendEvent(t,r)}})}clear(){this.storage.removeItem("visitorId"),new Ya().clear()}deleteHttpOnlyVisitorId(){this.runtime.client.deleteHttpCookieVisitorId()}makeSearchEvent(e){return M(this,void 0,void 0,function*(){return this.makeEvent(Te.search,e)})}sendSearchEvent(e){var{searchQueryUid:t}=e,r=vr(e,["searchQueryUid"]);return M(this,void 0,void 0,function*(){return(yield this.makeSearchEvent(r)).log({searchQueryUid:t})})}makeClickEvent(e){return M(this,void 0,void 0,function*(){return this.makeEvent(Te.click,e)})}sendClickEvent(e){var{searchQueryUid:t}=e,r=vr(e,["searchQueryUid"]);return M(this,void 0,void 0,function*(){return(yield this.makeClickEvent(r)).log({searchQueryUid:t})})}makeCustomEvent(e){return M(this,void 0,void 0,function*(){return this.makeEvent(Te.custom,e)})}sendCustomEvent(e){var{lastSearchQueryUid:t}=e,r=vr(e,["lastSearchQueryUid"]);return M(this,void 0,void 0,function*(){return(yield this.makeCustomEvent(r)).log({lastSearchQueryUid:t})})}makeViewEvent(e){return M(this,void 0,void 0,function*(){return this.makeEvent(Te.view,e)})}sendViewEvent(e){return M(this,void 0,void 0,function*(){return(yield this.makeViewEvent(e)).log({})})}getVisit(){return M(this,void 0,void 0,function*(){let e=yield(yield fetch(`${this.baseUrl}/analytics/visit`)).json();return this.visitorId=e.visitorId,e})}getHealth(){return M(this,void 0,void 0,function*(){return yield(yield fetch(`${this.baseUrl}/analytics/monitoring/health`)).json()})}registerBeforeSendEventHook(e){this.beforeSendHooks.push(e)}registerAfterSendEventHook(e){this.afterSendHooks.push(e)}addEventTypeMapping(e,t){this.eventTypeMapping[e]=t}parseVariableArgumentsPayload(e,t){let r={};for(let n=0,i=t.length;n<i;n++){let a=t[n];if(typeof a=="string")r[e[n]]=a;else if(typeof a=="object")return Object.assign(Object.assign({},r),a)}return r}isKeyAllowedEmpty(e,t){return({[Te.search]:["queryText"]}[e]||[]).indexOf(t)!==-1}removeEmptyPayloadValues(e,t){let r=n=>typeof n!="undefined"&&n!==null&&n!=="";return Object.keys(e).filter(n=>this.isKeyAllowedEmpty(t,n)||r(e[n])).reduce((n,i)=>Object.assign(Object.assign({},n),{[i]:e[i]}),{})}removeUnknownParameters(e){return Object.keys(e).filter(t=>{if(UR(t))return!0;console.log(t,"is not processed by coveoua")}).reduce((t,r)=>Object.assign(Object.assign({},t),{[r]:e[r]}),{})}processCustomParameters(e){let{custom:t}=e,r=vr(e,["custom"]),n=this.lowercaseKeys(t),i=LR(r);return Object.assign(Object.assign({},n),i)}lowercaseKeys(e){return Object.keys(e||{}).reduce((t,r)=>Object.assign(Object.assign({},t),{[r.toLowerCase()]:e[r]}),{})}validateParams(e){let{anonymizeIp:t}=e,r=vr(e,["anonymizeIp"]);return t!==void 0&&["0","false","undefined","null","{}","[]",""].indexOf(`${t}`.toLowerCase())==-1&&(r.anonymizeIp=1),r}ensureAnonymousUserWhenUsingApiKey(e){let{userId:t}=e,r=vr(e,["userId"]);return JR(this.options.token)&&!t?(r.userId="anonymous",r):e}get baseUrl(){return XR(this.options.endpoint,this.options.version)}},Jl;(function(e){e.contextChanged="contextChanged",e.expandToFullUI="expandToFullUI"})(Jl||(Jl={}));var z;(function(e){e.interfaceLoad="interfaceLoad",e.interfaceChange="interfaceChange",e.didyoumeanAutomatic="didyoumeanAutomatic",e.didyoumeanClick="didyoumeanClick",e.resultsSort="resultsSort",e.searchboxSubmit="searchboxSubmit",e.searchboxClear="searchboxClear",e.searchboxAsYouType="searchboxAsYouType",e.breadcrumbFacet="breadcrumbFacet",e.breadcrumbResetAll="breadcrumbResetAll",e.documentQuickview="documentQuickview",e.documentOpen="documentOpen",e.omniboxAnalytics="omniboxAnalytics",e.omniboxFromLink="omniboxFromLink",e.searchFromLink="searchFromLink",e.triggerNotify="notify",e.triggerExecute="execute",e.triggerQuery="query",e.undoTriggerQuery="undoQuery",e.triggerRedirect="redirect",e.pagerResize="pagerResize",e.pagerNumber="pagerNumber",e.pagerNext="pagerNext",e.pagerPrevious="pagerPrevious",e.pagerScrolling="pagerScrolling",e.staticFilterClearAll="staticFilterClearAll",e.staticFilterSelect="staticFilterSelect",e.staticFilterDeselect="staticFilterDeselect",e.facetClearAll="facetClearAll",e.facetSearch="facetSearch",e.facetSelect="facetSelect",e.facetSelectAll="facetSelectAll",e.facetDeselect="facetDeselect",e.facetExclude="facetExclude",e.facetUnexclude="facetUnexclude",e.facetUpdateSort="facetUpdateSort",e.facetShowMore="showMoreFacetResults",e.facetShowLess="showLessFacetResults",e.queryError="query",e.queryErrorBack="errorBack",e.queryErrorClear="errorClearQuery",e.queryErrorRetry="errorRetry",e.recommendation="recommendation",e.recommendationInterfaceLoad="recommendationInterfaceLoad",e.recommendationOpen="recommendationOpen",e.likeSmartSnippet="likeSmartSnippet",e.dislikeSmartSnippet="dislikeSmartSnippet",e.expandSmartSnippet="expandSmartSnippet",e.collapseSmartSnippet="collapseSmartSnippet",e.openSmartSnippetFeedbackModal="openSmartSnippetFeedbackModal",e.closeSmartSnippetFeedbackModal="closeSmartSnippetFeedbackModal",e.sendSmartSnippetReason="sendSmartSnippetReason",e.expandSmartSnippetSuggestion="expandSmartSnippetSuggestion",e.collapseSmartSnippetSuggestion="collapseSmartSnippetSuggestion",e.showMoreSmartSnippetSuggestion="showMoreSmartSnippetSuggestion",e.showLessSmartSnippetSuggestion="showLessSmartSnippetSuggestion",e.openSmartSnippetSource="openSmartSnippetSource",e.openSmartSnippetSuggestionSource="openSmartSnippetSuggestionSource",e.openSmartSnippetInlineLink="openSmartSnippetInlineLink",e.openSmartSnippetSuggestionInlineLink="openSmartSnippetSuggestionInlineLink",e.recentQueryClick="recentQueriesClick",e.clearRecentQueries="clearRecentQueries",e.recentResultClick="recentResultClick",e.clearRecentResults="clearRecentResults",e.noResultsBack="noResultsBack",e.showMoreFoldedResults="showMoreFoldedResults",e.showLessFoldedResults="showLessFoldedResults",e.copyToClipboard="copyToClipboard",e.caseAttach="caseAttach",e.caseDetach="caseDetach"})(z||(z={}));var Kf={[z.triggerNotify]:"queryPipelineTriggers",[z.triggerExecute]:"queryPipelineTriggers",[z.triggerQuery]:"queryPipelineTriggers",[z.triggerRedirect]:"queryPipelineTriggers",[z.queryError]:"errors",[z.queryErrorBack]:"errors",[z.queryErrorClear]:"errors",[z.queryErrorRetry]:"errors",[z.pagerNext]:"getMoreResults",[z.pagerPrevious]:"getMoreResults",[z.pagerNumber]:"getMoreResults",[z.pagerResize]:"getMoreResults",[z.pagerScrolling]:"getMoreResults",[z.facetSearch]:"facet",[z.facetShowLess]:"facet",[z.facetShowMore]:"facet",[z.recommendation]:"recommendation",[z.likeSmartSnippet]:"smartSnippet",[z.dislikeSmartSnippet]:"smartSnippet",[z.expandSmartSnippet]:"smartSnippet",[z.collapseSmartSnippet]:"smartSnippet",[z.openSmartSnippetFeedbackModal]:"smartSnippet",[z.closeSmartSnippetFeedbackModal]:"smartSnippet",[z.sendSmartSnippetReason]:"smartSnippet",[z.expandSmartSnippetSuggestion]:"smartSnippetSuggestions",[z.collapseSmartSnippetSuggestion]:"smartSnippetSuggestions",[z.showMoreSmartSnippetSuggestion]:"smartSnippetSuggestions",[z.showLessSmartSnippetSuggestion]:"smartSnippetSuggestions",[z.clearRecentQueries]:"recentQueries",[z.recentResultClick]:"recentlyClickedDocuments",[z.clearRecentResults]:"recentlyClickedDocuments",[z.showLessFoldedResults]:"folding",[Jl.expandToFullUI]:"interface",[z.caseDetach]:"case"},Gf=class{constructor(){this.runtime=new WR,this.currentVisitorId=""}getPayload(){return Promise.resolve()}getParameters(){return Promise.resolve()}makeEvent(e){return Promise.resolve({eventType:e,payload:null,log:()=>Promise.resolve()})}sendEvent(){return Promise.resolve()}makeSearchEvent(){return this.makeEvent(Te.search)}sendSearchEvent(){return Promise.resolve()}makeClickEvent(){return this.makeEvent(Te.click)}sendClickEvent(){return Promise.resolve()}makeCustomEvent(){return this.makeEvent(Te.custom)}sendCustomEvent(){return Promise.resolve()}makeViewEvent(){return this.makeEvent(Te.view)}sendViewEvent(){return Promise.resolve()}getVisit(){return Promise.resolve({id:"",visitorId:""})}getHealth(){return Promise.resolve({status:""})}registerBeforeSendEventHook(){}registerAfterSendEventHook(){}addEventTypeMapping(){}};function eA(e){let t="";return e.filter(r=>{let n=r!==t;return t=r,n})}function tA(e){return e.map(t=>t.replace(/;/g,""))}function qv(e){let t=256,r=e.join(";");return r.length<=t?r:qv(e.slice(1))}var Zf=e=>{let t=tA(e),r=eA(t);return qv(r)};function Xf(e){let t=typeof e.partialQueries=="string"?e.partialQueries:Zf(e.partialQueries),r=typeof e.suggestions=="string"?e.suggestions:Zf(e.suggestions);return Object.assign(Object.assign({},e),{partialQueries:t,suggestions:r})}var rA=class{constructor(e,t){this.opts=e,this.provider=t;let r=e.enableAnalytics===!1||xv();this.coveoAnalyticsClient=r?new Gf:new Zr(e)}disable(){this.coveoAnalyticsClient instanceof Zr&&this.coveoAnalyticsClient.clear(),this.coveoAnalyticsClient=new Gf}enable(){this.coveoAnalyticsClient=new Zr(this.opts)}makeInterfaceLoad(){return this.makeSearchEvent(z.interfaceLoad)}logInterfaceLoad(){return M(this,void 0,void 0,function*(){return(yield this.makeInterfaceLoad()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendationInterfaceLoad(){return this.makeSearchEvent(z.recommendationInterfaceLoad)}logRecommendationInterfaceLoad(){return M(this,void 0,void 0,function*(){return(yield this.makeRecommendationInterfaceLoad()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendation(){return this.makeCustomEvent(z.recommendation)}logRecommendation(){return M(this,void 0,void 0,function*(){return(yield this.makeRecommendation()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendationOpen(e,t){return this.makeClickEvent(z.recommendationOpen,e,t)}logRecommendationOpen(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeRecommendationOpen(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterClearAll(e){return this.makeSearchEvent(z.staticFilterClearAll,e)}logStaticFilterClearAll(e){return M(this,void 0,void 0,function*(){return(yield this.makeStaticFilterClearAll(e)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterSelect(e){return this.makeSearchEvent(z.staticFilterSelect,e)}logStaticFilterSelect(e){return M(this,void 0,void 0,function*(){return(yield this.makeStaticFilterSelect(e)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterDeselect(e){return this.makeSearchEvent(z.staticFilterDeselect,e)}logStaticFilterDeselect(e){return M(this,void 0,void 0,function*(){return(yield this.makeStaticFilterDeselect(e)).log({searchUID:this.provider.getSearchUID()})})}makeFetchMoreResults(){return this.makeCustomEvent(z.pagerScrolling,{type:"getMoreResults"})}logFetchMoreResults(){return M(this,void 0,void 0,function*(){return(yield this.makeFetchMoreResults()).log({searchUID:this.provider.getSearchUID()})})}makeInterfaceChange(e){return this.makeSearchEvent(z.interfaceChange,e)}logInterfaceChange(e){return M(this,void 0,void 0,function*(){return(yield this.makeInterfaceChange(e)).log({searchUID:this.provider.getSearchUID()})})}makeDidYouMeanAutomatic(){return this.makeSearchEvent(z.didyoumeanAutomatic)}logDidYouMeanAutomatic(){return M(this,void 0,void 0,function*(){return(yield this.makeDidYouMeanAutomatic()).log({searchUID:this.provider.getSearchUID()})})}makeDidYouMeanClick(){return this.makeSearchEvent(z.didyoumeanClick)}logDidYouMeanClick(){return M(this,void 0,void 0,function*(){return(yield this.makeDidYouMeanClick()).log({searchUID:this.provider.getSearchUID()})})}makeResultsSort(e){return this.makeSearchEvent(z.resultsSort,e)}logResultsSort(e){return M(this,void 0,void 0,function*(){return(yield this.makeResultsSort(e)).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxSubmit(){return this.makeSearchEvent(z.searchboxSubmit)}logSearchboxSubmit(){return M(this,void 0,void 0,function*(){return(yield this.makeSearchboxSubmit()).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxClear(){return this.makeSearchEvent(z.searchboxClear)}logSearchboxClear(){return M(this,void 0,void 0,function*(){return(yield this.makeSearchboxClear()).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxAsYouType(){return this.makeSearchEvent(z.searchboxAsYouType)}logSearchboxAsYouType(){return M(this,void 0,void 0,function*(){return(yield this.makeSearchboxAsYouType()).log({searchUID:this.provider.getSearchUID()})})}makeBreadcrumbFacet(e){return this.makeSearchEvent(z.breadcrumbFacet,e)}logBreadcrumbFacet(e){return M(this,void 0,void 0,function*(){return(yield this.makeBreadcrumbFacet(e)).log({searchUID:this.provider.getSearchUID()})})}makeBreadcrumbResetAll(){return this.makeSearchEvent(z.breadcrumbResetAll)}logBreadcrumbResetAll(){return M(this,void 0,void 0,function*(){return(yield this.makeBreadcrumbResetAll()).log({searchUID:this.provider.getSearchUID()})})}makeDocumentQuickview(e,t){return this.makeClickEvent(z.documentQuickview,e,t)}logDocumentQuickview(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeDocumentQuickview(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeDocumentOpen(e,t){return this.makeClickEvent(z.documentOpen,e,t)}logDocumentOpen(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeDocumentOpen(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOmniboxAnalytics(e){return this.makeSearchEvent(z.omniboxAnalytics,Xf(e))}logOmniboxAnalytics(e){return M(this,void 0,void 0,function*(){return(yield this.makeOmniboxAnalytics(e)).log({searchUID:this.provider.getSearchUID()})})}makeOmniboxFromLink(e){return this.makeSearchEvent(z.omniboxFromLink,Xf(e))}logOmniboxFromLink(e){return M(this,void 0,void 0,function*(){return(yield this.makeOmniboxFromLink(e)).log({searchUID:this.provider.getSearchUID()})})}makeSearchFromLink(){return this.makeSearchEvent(z.searchFromLink)}logSearchFromLink(){return M(this,void 0,void 0,function*(){return(yield this.makeSearchFromLink()).log({searchUID:this.provider.getSearchUID()})})}makeTriggerNotify(e){return this.makeCustomEvent(z.triggerNotify,e)}logTriggerNotify(e){return M(this,void 0,void 0,function*(){return(yield this.makeTriggerNotify(e)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerExecute(e){return this.makeCustomEvent(z.triggerExecute,e)}logTriggerExecute(e){return M(this,void 0,void 0,function*(){return(yield this.makeTriggerExecute(e)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerQuery(){return this.makeCustomEvent(z.triggerQuery,{query:this.provider.getSearchEventRequestPayload().queryText},"queryPipelineTriggers")}logTriggerQuery(){return M(this,void 0,void 0,function*(){return(yield this.makeTriggerQuery()).log({searchUID:this.provider.getSearchUID()})})}makeUndoTriggerQuery(e){return this.makeSearchEvent(z.undoTriggerQuery,e)}logUndoTriggerQuery(e){return M(this,void 0,void 0,function*(){return(yield this.makeUndoTriggerQuery(e)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerRedirect(e){return this.makeCustomEvent(z.triggerRedirect,Object.assign(Object.assign({},e),{query:this.provider.getSearchEventRequestPayload().queryText}))}logTriggerRedirect(e){return M(this,void 0,void 0,function*(){return(yield this.makeTriggerRedirect(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerResize(e){return this.makeCustomEvent(z.pagerResize,e)}logPagerResize(e){return M(this,void 0,void 0,function*(){return(yield this.makePagerResize(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerNumber(e){return this.makeCustomEvent(z.pagerNumber,e)}logPagerNumber(e){return M(this,void 0,void 0,function*(){return(yield this.makePagerNumber(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerNext(e){return this.makeCustomEvent(z.pagerNext,e)}logPagerNext(e){return M(this,void 0,void 0,function*(){return(yield this.makePagerNext(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerPrevious(e){return this.makeCustomEvent(z.pagerPrevious,e)}logPagerPrevious(e){return M(this,void 0,void 0,function*(){return(yield this.makePagerPrevious(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerScrolling(){return this.makeCustomEvent(z.pagerScrolling)}logPagerScrolling(){return M(this,void 0,void 0,function*(){return(yield this.makePagerScrolling()).log({searchUID:this.provider.getSearchUID()})})}makeFacetClearAll(e){return this.makeSearchEvent(z.facetClearAll,e)}logFacetClearAll(e){return M(this,void 0,void 0,function*(){return(yield this.makeFacetClearAll(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSearch(e){return this.makeSearchEvent(z.facetSearch,e)}logFacetSearch(e){return M(this,void 0,void 0,function*(){return(yield this.makeFacetSearch(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSelect(e){return this.makeSearchEvent(z.facetSelect,e)}logFacetSelect(e){return M(this,void 0,void 0,function*(){return(yield this.makeFacetSelect(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetDeselect(e){return this.makeSearchEvent(z.facetDeselect,e)}logFacetDeselect(e){return M(this,void 0,void 0,function*(){return(yield this.makeFacetDeselect(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetExclude(e){return this.makeSearchEvent(z.facetExclude,e)}logFacetExclude(e){return M(this,void 0,void 0,function*(){return(yield this.makeFacetExclude(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetUnexclude(e){return this.makeSearchEvent(z.facetUnexclude,e)}logFacetUnexclude(e){return M(this,void 0,void 0,function*(){return(yield this.makeFacetUnexclude(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSelectAll(e){return this.makeSearchEvent(z.facetSelectAll,e)}logFacetSelectAll(e){return M(this,void 0,void 0,function*(){return(yield this.makeFacetSelectAll(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetUpdateSort(e){return this.makeSearchEvent(z.facetUpdateSort,e)}logFacetUpdateSort(e){return M(this,void 0,void 0,function*(){return(yield this.makeFacetUpdateSort(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetShowMore(e){return this.makeCustomEvent(z.facetShowMore,e)}logFacetShowMore(e){return M(this,void 0,void 0,function*(){return(yield this.makeFacetShowMore(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetShowLess(e){return this.makeCustomEvent(z.facetShowLess,e)}logFacetShowLess(e){return M(this,void 0,void 0,function*(){return(yield this.makeFacetShowLess(e)).log({searchUID:this.provider.getSearchUID()})})}makeQueryError(e){return this.makeCustomEvent(z.queryError,e)}logQueryError(e){return M(this,void 0,void 0,function*(){return(yield this.makeQueryError(e)).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorBack(){return M(this,void 0,void 0,function*(){let e=yield this.makeCustomEvent(z.queryErrorBack);return{description:e.description,log:()=>M(this,void 0,void 0,function*(){return yield e.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(z.queryErrorBack)})}})}logQueryErrorBack(){return M(this,void 0,void 0,function*(){return(yield this.makeQueryErrorBack()).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorRetry(){return M(this,void 0,void 0,function*(){let e=yield this.makeCustomEvent(z.queryErrorRetry);return{description:e.description,log:()=>M(this,void 0,void 0,function*(){return yield e.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(z.queryErrorRetry)})}})}logQueryErrorRetry(){return M(this,void 0,void 0,function*(){return(yield this.makeQueryErrorRetry()).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorClear(){return M(this,void 0,void 0,function*(){let e=yield this.makeCustomEvent(z.queryErrorClear);return{description:e.description,log:()=>M(this,void 0,void 0,function*(){return yield e.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(z.queryErrorClear)})}})}logQueryErrorClear(){return M(this,void 0,void 0,function*(){return(yield this.makeQueryErrorClear()).log({searchUID:this.provider.getSearchUID()})})}makeLikeSmartSnippet(){return this.makeCustomEvent(z.likeSmartSnippet)}logLikeSmartSnippet(){return M(this,void 0,void 0,function*(){return(yield this.makeLikeSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeDislikeSmartSnippet(){return this.makeCustomEvent(z.dislikeSmartSnippet)}logDislikeSmartSnippet(){return M(this,void 0,void 0,function*(){return(yield this.makeDislikeSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeExpandSmartSnippet(){return this.makeCustomEvent(z.expandSmartSnippet)}logExpandSmartSnippet(){return M(this,void 0,void 0,function*(){return(yield this.makeExpandSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeCollapseSmartSnippet(){return this.makeCustomEvent(z.collapseSmartSnippet)}logCollapseSmartSnippet(){return M(this,void 0,void 0,function*(){return(yield this.makeCollapseSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetFeedbackModal(){return this.makeCustomEvent(z.openSmartSnippetFeedbackModal)}logOpenSmartSnippetFeedbackModal(){return M(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetFeedbackModal()).log({searchUID:this.provider.getSearchUID()})})}makeCloseSmartSnippetFeedbackModal(){return this.makeCustomEvent(z.closeSmartSnippetFeedbackModal)}logCloseSmartSnippetFeedbackModal(){return M(this,void 0,void 0,function*(){return(yield this.makeCloseSmartSnippetFeedbackModal()).log({searchUID:this.provider.getSearchUID()})})}makeSmartSnippetFeedbackReason(e,t){return this.makeCustomEvent(z.sendSmartSnippetReason,{reason:e,details:t})}logSmartSnippetFeedbackReason(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeSmartSnippetFeedbackReason(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeExpandSmartSnippetSuggestion(e){return this.makeCustomEvent(z.expandSmartSnippetSuggestion,"documentId"in e?e:{documentId:e})}logExpandSmartSnippetSuggestion(e){return M(this,void 0,void 0,function*(){return(yield this.makeExpandSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeCollapseSmartSnippetSuggestion(e){return this.makeCustomEvent(z.collapseSmartSnippetSuggestion,"documentId"in e?e:{documentId:e})}logCollapseSmartSnippetSuggestion(e){return M(this,void 0,void 0,function*(){return(yield this.makeCollapseSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeShowMoreSmartSnippetSuggestion(e){return this.makeCustomEvent(z.showMoreSmartSnippetSuggestion,e)}logShowMoreSmartSnippetSuggestion(e){return M(this,void 0,void 0,function*(){return(yield this.makeShowMoreSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeShowLessSmartSnippetSuggestion(e){return this.makeCustomEvent(z.showLessSmartSnippetSuggestion,e)}logShowLessSmartSnippetSuggestion(e){return M(this,void 0,void 0,function*(){return(yield this.makeShowLessSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSource(e,t){return this.makeClickEvent(z.openSmartSnippetSource,e,t)}logOpenSmartSnippetSource(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSource(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSuggestionSource(e,t){return this.makeClickEvent(z.openSmartSnippetSuggestionSource,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},t)}makeCopyToClipboard(e,t){return this.makeClickEvent(z.copyToClipboard,e,t)}logCopyToClipboard(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeCopyToClipboard(e,t)).log({searchUID:this.provider.getSearchUID()})})}logOpenSmartSnippetSuggestionSource(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSuggestionSource(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetInlineLink(e,t){return this.makeClickEvent(z.openSmartSnippetInlineLink,e,{contentIDKey:t.contentIDKey,contentIDValue:t.contentIDValue},t)}logOpenSmartSnippetInlineLink(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetInlineLink(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSuggestionInlineLink(e,t){return this.makeClickEvent(z.openSmartSnippetSuggestionInlineLink,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},t)}logOpenSmartSnippetSuggestionInlineLink(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSuggestionInlineLink(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeRecentQueryClick(){return this.makeSearchEvent(z.recentQueryClick)}logRecentQueryClick(){return M(this,void 0,void 0,function*(){return(yield this.makeRecentQueryClick()).log({searchUID:this.provider.getSearchUID()})})}makeClearRecentQueries(){return this.makeCustomEvent(z.clearRecentQueries)}logClearRecentQueries(){return M(this,void 0,void 0,function*(){return(yield this.makeClearRecentQueries()).log({searchUID:this.provider.getSearchUID()})})}makeRecentResultClick(e,t){return this.makeCustomEvent(z.recentResultClick,{info:e,identifier:t})}logRecentResultClick(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeRecentResultClick(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeClearRecentResults(){return this.makeCustomEvent(z.clearRecentResults)}logClearRecentResults(){return M(this,void 0,void 0,function*(){return(yield this.makeClearRecentResults()).log({searchUID:this.provider.getSearchUID()})})}makeNoResultsBack(){return this.makeSearchEvent(z.noResultsBack)}logNoResultsBack(){return M(this,void 0,void 0,function*(){return(yield this.makeNoResultsBack()).log({searchUID:this.provider.getSearchUID()})})}makeShowMoreFoldedResults(e,t){return this.makeClickEvent(z.showMoreFoldedResults,e,t)}logShowMoreFoldedResults(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeShowMoreFoldedResults(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeShowLessFoldedResults(){return this.makeCustomEvent(z.showLessFoldedResults)}logShowLessFoldedResults(){return M(this,void 0,void 0,function*(){return(yield this.makeShowLessFoldedResults()).log({searchUID:this.provider.getSearchUID()})})}makeEventDescription(e,t){var r;return{actionCause:t,customData:(r=e.payload)===null||r===void 0?void 0:r.customData}}makeCustomEvent(e,t,r=Kf[e]){return M(this,void 0,void 0,function*(){let n=Object.assign(Object.assign({},this.provider.getBaseMetadata()),t),i=Object.assign(Object.assign({},yield this.getBaseEventRequest(n)),{eventType:r,eventValue:e}),a=yield this.coveoAnalyticsClient.makeCustomEvent(i);return{description:this.makeEventDescription(a,e),log:({searchUID:o})=>a.log({lastSearchQueryUid:o})}})}logCustomEvent(e,t,r=Kf[e]){return M(this,void 0,void 0,function*(){return(yield this.makeCustomEvent(e,t,r)).log({searchUID:this.provider.getSearchUID()})})}makeCustomEventWithType(e,t,r){return M(this,void 0,void 0,function*(){let n=Object.assign(Object.assign({},this.provider.getBaseMetadata()),r),i=Object.assign(Object.assign({},yield this.getBaseEventRequest(n)),{eventType:t,eventValue:e}),a=yield this.coveoAnalyticsClient.makeCustomEvent(i);return{description:this.makeEventDescription(a,e),log:({searchUID:o})=>a.log({lastSearchQueryUid:o})}})}logCustomEventWithType(e,t,r){return M(this,void 0,void 0,function*(){return(yield this.makeCustomEventWithType(e,t,r)).log({searchUID:this.provider.getSearchUID()})})}logSearchEvent(e,t){return M(this,void 0,void 0,function*(){return(yield this.makeSearchEvent(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeSearchEvent(e,t){return M(this,void 0,void 0,function*(){let r=yield this.getBaseSearchEventRequest(e,t),n=yield this.coveoAnalyticsClient.makeSearchEvent(r);return{description:this.makeEventDescription(n,e),log:({searchUID:i})=>n.log({searchQueryUid:i})}})}makeClickEvent(e,t,r,n){return M(this,void 0,void 0,function*(){let i=Object.assign(Object.assign(Object.assign({},t),yield this.getBaseEventRequest(Object.assign(Object.assign({},r),n))),{queryPipeline:this.provider.getPipeline(),actionCause:e}),a=yield this.coveoAnalyticsClient.makeClickEvent(i);return{description:this.makeEventDescription(a,e),log:({searchUID:o})=>a.log({searchQueryUid:o})}})}logClickEvent(e,t,r,n){return M(this,void 0,void 0,function*(){return(yield this.makeClickEvent(e,t,r,n)).log({searchUID:this.provider.getSearchUID()})})}getBaseSearchEventRequest(e,t){return M(this,void 0,void 0,function*(){return Object.assign(Object.assign(Object.assign({},yield this.getBaseEventRequest(t)),this.provider.getSearchEventRequestPayload()),{queryPipeline:this.provider.getPipeline(),actionCause:e})})}getBaseEventRequest(e){return M(this,void 0,void 0,function*(){let t=Object.assign(Object.assign({},this.provider.getBaseMetadata()),e);return Object.assign(Object.assign(Object.assign({},this.getOrigins()),this.getSplitTestRun()),{customData:t,language:this.provider.getLanguage(),facetState:this.provider.getFacetState?this.provider.getFacetState():[],anonymous:this.provider.getIsAnonymous(),clientId:yield this.getClientId()})})}getOrigins(){var e,t;return{originContext:(t=(e=this.provider).getOriginContext)===null||t===void 0?void 0:t.call(e),originLevel1:this.provider.getOriginLevel1(),originLevel2:this.provider.getOriginLevel2(),originLevel3:this.provider.getOriginLevel3()}}getClientId(){return this.coveoAnalyticsClient instanceof Zr?this.coveoAnalyticsClient.getCurrentVisitorId():void 0}getSplitTestRun(){let e=this.provider.getSplitTestRunName?this.provider.getSplitTestRunName():"",t=this.provider.getSplitTestRunVersion?this.provider.getSplitTestRunVersion():"";return Object.assign(Object.assign({},e&&{splitTestRunName:e}),t&&{splitTestRunVersion:t})}},nA={pageview:"pageview",event:"event"},ep=Object.assign({},nA);Object.keys(ep).map(e=>ep[e]);var tp;(function(e){e.click="click",e.flowStart="flowStart"})(tp||(tp={}));var rp;(function(e){e.enterInterface="ticket_create_start",e.fieldUpdate="ticket_field_update",e.fieldSuggestionClick="ticket_classification_click",e.suggestionClick="suggestion_click",e.suggestionRate="suggestion_rate",e.nextCaseStep="ticket_next_stage",e.caseCancelled="ticket_cancel",e.caseSolved="ticket_cancel",e.caseCreated="ticket_create"})(rp||(rp={}));var np;(function(e){e.quit="Quit",e.solved="Solved"})(np||(np={}));function ii(e){if(!e)return{parents:[],values:[]};let t=[],r=e;for(;r.length&&r[0].children.length;)t=[...t,...r],r=r[0].children;let n=r.find(i=>i.state==="selected");return n&&(t=[...t,n],r=[]),{parents:t,values:r}}var iA=(e,t)=>{var r;return(r=e.categoryFacetSet[t])==null?void 0:r.request},Rv=(e,t)=>{let r=iA(e,t);return ii(r==null?void 0:r.currentValues).parents};function Di(){return{}}function aA(e){return{request:e}}function ji(){return{}}function oA(e){return{request:e}}function Ti(){return{}}function sA(e){return{request:e,hasBreadcrumbs:!0}}function Fi(){return{}}function lA(e){return{facetSet:e.facetSet||Fi(),categoryFacetSet:e.categoryFacetSet||Di(),dateFacetSet:e.dateFacetSet||ji(),numericFacetSet:e.numericFacetSet||Ti()}}var uA=e=>{let t=[];return fA(e).forEach((r,n)=>{let i=SA(e,r.facetId),a=yA(r,n+1);if(dA(r)){if(!Rv(e,r.facetId).length)return;t.push({...a,...vA(e,r.facetId),facetType:i,state:"selected"});return}r.currentValues.forEach((o,s)=>{if(o.state==="idle")return;let l=pA(o,s+1,i),u=cA(r)?gA(o):hA(o);t.push({...a,...l,...u})})}),t},cA=e=>e.type==="specific",dA=e=>e.type==="hierarchical",fA=e=>[...Object.values(e.facetSet),...Object.values(e.categoryFacetSet),...Object.values(e.dateFacetSet),...Object.values(e.numericFacetSet)].map(t=>t.request),pA=(e,t,r)=>({state:e.state,valuePosition:t,facetType:r}),hA=e=>({displayValue:`${e.start}..${e.end}`,value:`${e.start}..${e.end}`,start:e.start,end:e.end,endInclusive:e.endInclusive}),gA=e=>({displayValue:e.value,value:e.value}),mA=(e,t)=>Rv(e,t).map(r=>r.value).join(";"),vA=(e,t)=>{let r=1,n=mA(e,t);return{value:n,valuePosition:r,displayValue:n}},yA=(e,t)=>({title:`${e.field}_${e.facetId}`,field:e.field,id:e.facetId,facetPosition:t}),bA=(e,t)=>{var r,n,i,a;return((r=e.facetSet[t])==null?void 0:r.request)||((n=e.categoryFacetSet[t])==null?void 0:n.request)||((i=e.dateFacetSet[t])==null?void 0:i.request)||((a=e.numericFacetSet[t])==null?void 0:a.request)},SA=(e,t)=>{let r=bA(e,t);return r?r.type:"specific"},Ur=()=>({q:"",enableQuerySyntax:!1});function Ka(){return{answerSnippet:"",documentId:{contentIdKey:"",contentIdValue:""},question:"",relatedQuestions:[],score:0}}function Ir(){return{response:{results:[],searchUid:"",totalCountFiltered:0,facets:[],queryCorrections:[],triggers:[],questionAnswer:Ka(),pipeline:"",splitTestRun:"",termsToHighlight:{}},duration:0,queryExecuted:"",error:null,automaticallyCorrected:!1,isLoading:!1,results:[],searchResponseId:"",requestId:"",questionAnswer:Ka()}}var Lr=()=>"default",Av="2.8.10",wA=e=>{let t=e.configuration.search.locale.split("-")[0];return!t||t.length!==2?"en":t},yc=class{constructor(e){this.getState=e,this.state=e()}getLanguage(){return wA(this.state)}getBaseMetadata(){let{context:e}=this.state,t=(e==null?void 0:e.contextValues)||{},r={};for(let[n,i]of Object.entries(t)){let a=`context_${n}`;r[a]=i}return r.coveoHeadlessVersion=Av,r}getOriginContext(){return this.state.configuration.analytics.originContext}getOriginLevel1(){return this.state.searchHub||Lr()}getOriginLevel2(){return this.state.configuration.analytics.originLevel2}getOriginLevel3(){return this.state.configuration.analytics.originLevel3}getIsAnonymous(){return this.state.configuration.analytics.anonymous}},Kl=class extends yc{getFacetState(){return uA(lA(this.getState()))}getPipeline(){var e;return this.state.pipeline||((e=this.state.search)==null?void 0:e.response.pipeline)||Kl.fallbackPipelineName}getSearchEventRequestPayload(){return{queryText:this.queryText,responseTime:this.responseTime,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults}}getSearchUID(){var e,t;let r=this.getState();return((e=r.search)==null?void 0:e.searchResponseId)||((t=r.search)==null?void 0:t.response.searchUid)||Ir().response.searchUid}getSplitTestRunName(){var e;return(e=this.state.search)==null?void 0:e.response.splitTestRun}getSplitTestRunVersion(){var e;let t=!!this.getSplitTestRunName(),r=((e=this.state.search)==null?void 0:e.response.pipeline)||this.state.pipeline||Kl.fallbackPipelineName;return t?r:void 0}mapResultsToAnalyticsDocument(){var e;return(e=this.state.search)==null?void 0:e.response.results.map(t=>({documentUri:t.uri,documentUriHash:t.raw.urihash}))}get queryText(){var e;return((e=this.state.query)==null?void 0:e.q)||Ur().q}get responseTime(){var e;return((e=this.state.search)==null?void 0:e.duration)||Ir().duration}get numberOfResults(){var e;return((e=this.state.search)==null?void 0:e.response.totalCountFiltered)||Ir().response.totalCountFiltered}},Ao=Kl;Ao.fallbackPipelineName="default";var CA=({logger:e,getState:t,analyticsClientMiddleware:r=(a,o)=>o,preprocessRequest:n,provider:i=new Ao(t)})=>{let a=t(),o=a.configuration.accessToken,s=a.configuration.analytics.apiBaseUrl,l=a.configuration.analytics.runtimeEnvironment,u=a.configuration.analytics.enabled,d=new rA({token:o,endpoint:s,runtimeEnvironment:l,preprocessRequest:n,beforeSendHooks:[r,(f,g)=>(e.info({...g,type:f,endpoint:s,token:o},"Analytics request"),g)]},i);return u||d.disable(),d},Lt=e=>new Zr(e).getCurrentVisitorId(),ip=e=>{let t=new Zr(e);t.clear(),t.deleteHttpOnlyVisitorId()},On=new Cv.HistoryStore,ap=()=>{let e=On.getHistory().reverse().find(t=>t.name==="PageView"&&t.value);return e?e.value:""};function yr(e){let{url:t,accessToken:r,organizationId:n,authentication:i,...a}=e;return a}var br=e=>{let{response:t}=e;return t.body?$A(e):kA(t)},$A=e=>xA(e)?IA(e):OA(e)?e.body:{message:"unknown",statusCode:0,type:"unknown"},kA=e=>{let t=JSON.parse(JSON.stringify(e,Object.getOwnPropertyNames(e)));return{...t,message:`Client side error: ${t.message||""}`,statusCode:400,type:"ClientError"}};function OA(e){return e.body.statusCode!==void 0}function xA(e){return e.body.exception!==void 0}var IA=e=>({message:e.body.exception.code,statusCode:e.response.status,type:e.body.exception.code}),EA=Ke(fE()),qA=Ke(SE()),RA=class extends Error{constructor(){super(),this.name="ExpiredToken",this.message="The token being used to perform the request is expired."}},Gl=class extends Error{constructor(e,t){super(),this.name="Disconnected",this.message=`Client could not connect to the following URL: ${e}`,this.statusCode=t!=null?t:0}};function AA(e){let t=[];for(let r in e){let n=encodeURIComponent(r),i=encodeURIComponent(e[r]);t.push(`${n}=${i}`)}return t.join("&")}function DA(e){return typeof e!="object"||!e?!1:Object.values(e).every(jA)}function jA(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function op(e){return e===429}var tr=class{static async call(e){let t=FA(e),{origin:r,preprocessRequest:n,logger:i,requestMetadata:a}=e,o={...t,...n?await n(t,r,a):{}};i.info(o,"Platform request");let{url:s,...l}=o,u=async()=>{let d=await(0,EA.default)(s,l);if(op(d.status))throw d;return d};try{let d=await(0,qA.backOff)(u,{retry:f=>{let g=f&&op(f.status);return g&&i.info("Platform retrying request"),g}});if(d.status===419)throw i.info("Platform renewing token"),new RA;if(d.status===404)throw new Gl(s,d.status);return i.info({response:d,requestInfo:o},"Platform response"),d}catch(d){return d.message==="Failed to fetch"?new Gl(s):d}}};function Dv(e,t){let r=!t||!t.environment||t.environment==="prod"?"":t.environment,n=!t||!t.region||t.region==="us"?"":`-${t.region}`;return`https://${e}${r}${n}.cloud.coveo.com`}function sp(e){return e!=null&&e.multiRegionSubDomain?`https://${e.multiRegionSubDomain}.org.coveo.com`:Dv("platform",e)}function TA(e){return Dv("analytics",e)}function FA(e){let{url:t,method:r,requestParams:n,contentType:i,accessToken:a,signal:o}=e,s=e.method==="POST"||e.method==="PUT",l=_A(n,i);return{url:t,method:r,headers:{"Content-Type":i,Authorization:`Bearer ${a}`,...e.headers},...s&&{body:l},signal:o}}function _A(e,t){return t==="application/x-www-form-urlencoded"?DA(e)?AA(e):"":JSON.stringify(e)}var PA=TextDecoder,MA=class{constructor(e){this._params={},this._basePath=e}addParam(e,t){this._params={...this.params,[e]:t}}get basePath(){return this._basePath}get params(){return this._params}get hasParams(){return Object.entries(this._params).length}get href(){return this.hasParams?`${this.basePath}?${Object.entries(this.params).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&")}`:this.basePath}};function UA(e){return((e.headers.get("content-type")||"").split(";").find(t=>t.indexOf("charset=")!==-1)||"").split("=")[1]||"UTF-8"}var rr=(e,t,r,n)=>({accessToken:e.accessToken,method:t,contentType:r,url:`${e.url}${n}?${LA(e)}${e.authentication?`&${VA(e)}`:""}`,origin:"searchApiFetch"}),LA=e=>`organizationId=${e.organizationId}`,VA=e=>`authentication=${encodeURIComponent(e.authentication)}`,zA=(e,t)=>{let r=new MA(`${e.url}${t}`);return r.addParam("access_token",e.accessToken),r.addParam("organizationId",e.organizationId),r.addParam("uniqueId",e.uniqueId),e.q!==void 0&&r.addParam("q",e.q),e.enableNavigation!==void 0&&r.addParam("enableNavigation",`${e.enableNavigation}`),e.requestedOutputSize!==void 0&&r.addParam("requestedOutputSize",`${e.requestedOutputSize}`),e.visitorId!==void 0&&r.addParam("visitorId",`${e.visitorId}`),r.href},NA=async(e,t)=>{let r=await tr.call({...rr(e,"POST","application/x-www-form-urlencoded","/html"),requestParams:yr(e),requestMetadata:{method:"html"},...t});if(r instanceof Error)throw r;let n=UA(r),i=await r.arrayBuffer(),a=new PA(n).decode(i);return QA(a)?{success:a}:{error:br({response:r,body:a})}};function QA(e){return typeof e=="string"}function HA(e){return{statusCode:e.statusCode,type:e.name,message:e.message}}function BA(e){return{statusCode:e.code,type:e.name,message:e.message,ignored:!0}}function Vs(e,t){if(t&&e.name==="AbortError")return{error:BA(e)};if(e instanceof Gl)return{error:HA(e)};throw e}var WA=class{constructor(e){this.options=e,this.searchAbortController=null}async plan(e){let t=await tr.call({...rr(e,"POST","application/json","/plan"),requestParams:yr(e),requestMetadata:{method:"plan"},...this.options});if(t instanceof Error)return Vs(t);let r=await t.json();return KA(r)?{success:r}:{error:br({response:t,body:r})}}async querySuggest(e){let t=await tr.call({...rr(e,"POST","application/json","/querySuggest"),requestMetadata:{method:"querySuggest"},requestParams:yr(e),...this.options});if(t instanceof Error)return Vs(t);let r=await t.json(),n={response:t,body:r};return JA(r)?{success:(await this.options.postprocessQuerySuggestResponseMiddleware(n)).body}:{error:br(n)}}async search(e,t){var r;this.searchAbortController&&(!(t!=null&&t.disableAbortWarning)&&this.options.logger.warn("Cancelling current pending search query"),this.searchAbortController.abort()),this.searchAbortController=this.getAbortControllerInstanceIfAvailable();let n=await tr.call({...rr(e,"POST","application/json",""),requestParams:yr(e),requestMetadata:{method:"search",origin:t==null?void 0:t.origin},...this.options,signal:(r=this.searchAbortController)==null?void 0:r.signal});if(n instanceof Error)return Vs(n,t==null?void 0:t.disableAbortWarning);this.searchAbortController=null;let i=await n.json(),a={response:n,body:i};return zs(i)?(a.body=ZA(i),{success:(await this.options.postprocessSearchResponseMiddleware(a)).body}):{error:br(a)}}async facetSearch(e){let t=await tr.call({...rr(e,"POST","application/json","/facet"),requestParams:yr(e),requestMetadata:{method:"facetSearch"},...this.options});if(t instanceof Error)throw t;let r=await t.json(),n={response:t,body:r};return(await this.options.postprocessFacetSearchResponseMiddleware(n)).body}async recommendations(e){let t=await tr.call({...rr(e,"POST","application/json",""),requestParams:yr(e),requestMetadata:{method:"recommendations"},...this.options});if(t instanceof Error)throw t;let r=await t.json();return zs(r)?{success:r}:{error:br({response:t,body:r})}}async html(e){return NA(e,{...this.options})}async productRecommendations(e){let t=await tr.call({...rr(e,"POST","application/json",""),requestParams:yr(e),requestMetadata:{method:"productRecommendations"},...this.options});if(t instanceof Error)throw t;let r=await t.json();return zs(r)?{success:r}:{error:br({response:t,body:r})}}async fieldDescriptions(e){let t=await tr.call({...rr(e,"GET","application/json","/fields"),requestParams:{},requestMetadata:{method:"fieldDescriptions"},...this.options});if(t instanceof Error)throw t;let r=await t.json();return GA(r)?{success:r}:{error:br({response:t,body:r})}}getAbortControllerInstanceIfAvailable(){if(typeof window=="undefined"){let e=wE();return new e}return typeof AbortController=="undefined"?null:new AbortController}},YA=e=>e.success!==void 0,vt=e=>e.error!==void 0;function JA(e){return e.completions!==void 0}function KA(e){return e.preprocessingOutput!==void 0}function GA(e){return e.fields!==void 0}function zs(e){return e.results!==void 0}function ZA(e){let t=Ka();return ve(e.questionAnswer)?(e.questionAnswer=t,e):(e.questionAnswer={...t,...e.questionAnswer},e)}var XA=["uri","urihash","permanentid","ec_name","ec_brand","ec_category","ec_item_group_id","ec_price","ec_promo_price","ec_shortdesc","ec_thumbnails","ec_images","ec_in_stock","ec_rating","childResults","totalNumberOfChildResults"],te=new ue({required:!0,emptyAllowed:!1}),Ee=new ue({required:!1,emptyAllowed:!1}),Ve=new ue({required:!0,emptyAllowed:!0}),Vr=({message:e,name:t,stack:r})=>({message:e,name:t,stack:r}),zr=(e,t)=>{if("required"in t)return{payload:new Ri({value:t}).validate({value:e}).value};let r=new pe({options:{required:!0},values:t}).validate(e);if(r)throw new gc(r);return{payload:e}},N=(e,t)=>{try{return zr(e,t)}catch(r){return{payload:e,error:Vr(r)}}},eD=(e,t,r,n)=>{let i=`Check the initialState of ${n}`;return jv(e,t,r,i,"Controller initialization error")},tD=(e,t,r,n)=>{let i=`Check the options of ${n}`;return jv(e,t,r,i,"Controller initialization error")},jv=(e,t,r,n,i)=>{try{return t.validate(r,n)}catch(a){throw e.logger.error(a,i),a}},bc=()=>({id:"",skus:[],maxNumberOfRecommendations:5,filter:{brand:"",category:""},additionalFields:[],recommendations:[],error:null,isLoading:!1,searchUid:"",duration:0}),rD=class extends yc{constructor(){super(...arguments),this.initialState=bc()}getPipeline(){return""}getSearchEventRequestPayload(){return{queryText:"",responseTime:this.responseTime,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults}}getSearchUID(){var e;return((e=this.getState().productRecommendations)==null?void 0:e.searchUid)||this.initialState.searchUid}mapResultsToAnalyticsDocument(){var e;return(e=this.state.productRecommendations)==null?void 0:e.recommendations.map(t=>({documentUri:t.documentUri,documentUriHash:t.documentUriHash,permanentid:t.permanentid}))}get responseTime(){var e;return((e=this.state.productRecommendations)==null?void 0:e.duration)||this.initialState.duration}get numberOfResults(){var e;return((e=this.state.productRecommendations)==null?void 0:e.recommendations.length)||this.initialState.recommendations.length}};new Cv.HistoryStore;var nD=Ke(Tm());function Tv(e){return Array.isArray(e)}function Ns(e){return e.trim()===""}function iD(e,t){return Object.values(e.reduce((r,n,i)=>({...r,[t(n,i)]:n}),{}))}function aD(e){return(typeof btoa!="undefined"?btoa:nD.btoa)(encodeURI(e))}function oD(e){return aD(JSON.stringify(e))}var sD=new Set(["1",1,"yes",!0]);function lD(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;let e=navigator,t=window;return[e.globalPrivacyControl,e.doNotTrack,e.msDoNotTrack,t.doNotTrack].some(r=>sD.has(r))}function Fv(e){let t=_v(e),r=[e,...t].filter(n=>n.parentResult).map(n=>n.parentResult);return iD([e,...t,...r],n=>n.uniqueId)}function _v(e){return e.childResults?e.childResults.flatMap(t=>[t,..._v(t)]):[]}var _i=()=>"",et=(e=>(e[e.Search=0]="Search",e[e.Custom=1]="Custom",e[e.Click=2]="Click",e))(et||{});function uD(e){return Object.assign(e,{instantlyCallable:!0})}function cD(e,t){let r=i=>uD($e(e,i)),n=r(async(i,{getState:a,extra:o})=>{let{analyticsClientMiddleware:s,preprocessRequest:l,logger:u}=o;return await(await t({getState:a,analyticsClientMiddleware:s,preprocessRequest:l,logger:u})).log({state:a(),extra:o})});return Object.assign(n,{prepare:async({getState:i,analyticsClientMiddleware:a,preprocessRequest:o,logger:s})=>{let{description:l,log:u}=await t({getState:i,analyticsClientMiddleware:a,preprocessRequest:o,logger:s});return{description:l,action:r(async(d,{getState:f,extra:g})=>await u({state:f(),extra:g}))}}}),n}var it=(e,t,r,n=i=>new Ao(i))=>cD(e,async({getState:i,analyticsClientMiddleware:a,preprocessRequest:o,logger:s})=>{let l=CA({getState:i,logger:s,analyticsClientMiddleware:a,preprocessRequest:o,provider:n(i)}),u=await r(l,i());return{description:u==null?void 0:u.description,log:async({state:d})=>{let f=await(u==null?void 0:u.log({searchUID:n(()=>d).getSearchUID()}));return s.info({client:l.coveoAnalyticsClient,response:f},"Analytics response"),{analyticsType:t}}}}),Pi=(e,t)=>{var r;let n=o=>{var s,l;return o+((l=(s=t.pagination)==null?void 0:s.firstResult)!=null?l:0)},i=-1,a=(r=t.search)==null?void 0:r.results;return i=Uv(e,a),i<0&&(i=mD(e,a)),i<0&&(i=0),dD(e,n(i),t)};function dD(e,t,r){let n=e.raw.collection;return{collectionName:typeof n=="string"?n:"default",documentAuthor:hD(e),documentPosition:t+1,documentTitle:e.title,documentUri:e.uri,documentUriHash:e.raw.urihash,documentUrl:e.clickUri,rankingModifier:e.rankingModifier||"",sourceName:gD(e),queryPipeline:r.pipeline||_i()}}var Sc=e=>(e.raw.permanentid||console.warn("Missing field permanentid on result. This might cause many issues with your Coveo deployment. See https://docs.coveo.com/en/1913 and https://docs.coveo.com/en/1640 for more information.",e),{contentIDKey:"permanentid",contentIDValue:e.raw.permanentid||""}),Pv={urihash:new ue,sourcetype:new ue,permanentid:new ue},wc={uniqueId:te,raw:new pe({values:Pv}),title:te,uri:te,clickUri:te,rankingModifier:new ue({required:!1,emptyAllowed:!0})};function fD(e){return Object.assign({},...Object.keys(Pv).map(t=>({[t]:e[t]})))}function pD(e){return Object.assign({},...Object.keys(wc).map(t=>({[t]:e[t]})),{raw:fD(e.raw)})}function hD(e){let t=e.raw.author;return ve(t)?"unknown":Array.isArray(t)?t.join(";"):`${t}`}function gD(e){let t=e.raw.source;return ve(t)?"unknown":t}var Mv=e=>new Ri(wc).validate(pD(e));function mD(e,t){for(let[r,n]of t.entries()){let i=Fv(n);if(Uv(e,i)!==-1)return r}return-1}function Uv(e,t=[]){return t.findIndex(({uniqueId:r})=>r===e.uniqueId)}var vD=()=>it("analytics/productRecommendations/load",et.Search,e=>e.makeRecommendationInterfaceLoad(),e=>new rD(e));function yD(e){return e&&"childResults"in e&&"totalNumberOfChildResults"in e}var bD=_("productrecommendations/setId",e=>N(e,{id:te})),SD=_("productrecommendations/setSku",e=>N(e,{skus:new He({required:!0,min:1,each:Ee})})),wD=_("productrecommendations/setBrand",e=>N(e,{brand:new ue({required:!0,emptyAllowed:!0})})),CD=_("productrecommendations/setCategory",e=>N(e,{category:new ue({required:!0,emptyAllowed:!0})})),$D=_("productrecommendations/setAdditionalFields",e=>N(e,{additionalFields:new He({required:!0,each:Ee})})),kD=_("productrecommendations/setMaxNumberOfRecommendations",e=>N(e,{number:new fe({required:!0,max:50,min:1})})),ba=$e("productRecommendations/get",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n}})=>{let i=t(),a=new Date().getTime(),o=await n.productRecommendations(await OD(i)),s=new Date().getTime()-a;if(vt(o))return r(o.error);let l=i.productRecommendations.additionalFields||[];return{recommendations:o.success.results.map(u=>Lv(u,{additionalFields:l})),analyticsAction:vD(),searchUid:o.success.searchUid,duration:s}}),Lv=(e,{additionalFields:t})=>{let r=e.raw.ec_price,n=e.raw.ec_promo_price,i=e.raw.ec_in_stock,a={documentUri:e.uri,documentUriHash:e.raw.urihash,permanentid:e.raw.permanentid,clickUri:e.clickUri,ec_name:e.raw.ec_name,ec_brand:e.raw.ec_brand,ec_category:e.raw.ec_category,ec_item_group_id:e.raw.ec_item_group_id,ec_price:r,ec_shortdesc:e.raw.ec_shortdesc,ec_thumbnails:e.raw.ec_thumbnails,ec_images:e.raw.ec_images,ec_promo_price:n===void 0||r!==void 0&&n>=r?void 0:n,ec_in_stock:i===void 0?void 0:i.toLowerCase()==="yes"||i.toLowerCase()==="true",ec_rating:e.raw.ec_rating,additionalFields:t.reduce((o,s)=>({...o,[s]:e.raw[s]}),{}),childResults:[],totalNumberOfChildResults:0};return yD(e)&&(a.childResults=e.childResults.map(o=>Lv(o,{additionalFields:t})),a.totalNumberOfChildResults=e.totalNumberOfChildResults),a},OD=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,timezone:e.configuration.search.timezone,...e.configuration.analytics.enabled&&{visitorId:await Lt(e.configuration.analytics)},recommendation:e.productRecommendations.id,numberOfResults:e.productRecommendations.maxNumberOfRecommendations,fieldsToInclude:[...XA,...e.productRecommendations.additionalFields||[]],mlParameters:{...e.productRecommendations.skus&&e.productRecommendations.skus.length>0&&{itemIds:e.productRecommendations.skus},...e.productRecommendations.filter.brand&&{brandFilter:e.productRecommendations.filter.brand},...e.productRecommendations.filter.category&&{categoryFilter:e.productRecommendations.filter.category}},actionsHistory:e.configuration.analytics.enabled?On.getHistory():[],...e.context&&{context:e.context.contextValues},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.searchHub&&{searchHub:e.searchHub}}),Do=async(e,t)=>({analytics:{clientId:await Lt(e),clientTimestamp:new Date().toISOString(),documentReferrer:e.originLevel3,originContext:e.originContext,...t&&{actionCause:t.actionCause,customData:t.customData},...e.userDisplayName&&{userDisplayName:e.userDisplayName},...e.documentLocation&&{documentLocation:e.documentLocation},...e.deviceId&&{deviceId:e.deviceId},...ap()&&{pageId:ap()}}}),Yn=()=>({duration:0,error:null,isLoading:!1,id:"Recommendation",recommendations:[],searchUid:"",splitTestRun:"",pipeline:""}),xD=class extends yc{getPipeline(){var e;return this.state.pipeline||((e=this.state.recommendation)==null?void 0:e.pipeline)||"default"}getSearchEventRequestPayload(){return{queryText:Ur().q,responseTime:this.responseTime,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults}}getSearchUID(){var e;return((e=this.getState().recommendation)==null?void 0:e.searchUid)||Yn().searchUid}getSplitTestRunName(){var e;return(e=this.state.recommendation)==null?void 0:e.splitTestRun}getSplitTestRunVersion(){var e;let t=!!this.getSplitTestRunName(),r=((e=this.state.recommendation)==null?void 0:e.pipeline)||this.state.pipeline||"default";return t?r:void 0}get responseTime(){var e;return((e=this.state.recommendation)==null?void 0:e.duration)||Yn().duration}mapResultsToAnalyticsDocument(){var e;return(e=this.state.recommendation)==null?void 0:e.recommendations.map(t=>({documentUri:t.uri,documentUriHash:t.raw.urihash}))}get numberOfResults(){var e;return((e=this.state.recommendation)==null?void 0:e.recommendations.length)||Yn().recommendations.length}},ID=()=>it("analytics/recommendation/update",et.Search,e=>e.makeRecommendationInterfaceLoad(),e=>new xD(e)),ED=_("recommendation/set",e=>N(e,{id:te})),Sa=$e("recommendation/get",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n}})=>{let i=t(),a=new Date().getTime(),o=await n.recommendations(await qD(i)),s=new Date().getTime()-a;return vt(o)?r(o.error):{recommendations:o.success.results,analyticsAction:ID(),duration:s,searchUid:o.success.searchUid,splitTestRun:o.success.splitTestRun,pipeline:o.success.pipeline}}),qD=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,recommendation:e.recommendation.id,tab:e.configuration.analytics.originLevel2,referrer:e.configuration.analytics.originLevel3,timezone:e.configuration.search.timezone,locale:e.configuration.search.locale,actionsHistory:e.configuration.analytics.enabled?On.getHistory():[],...e.advancedSearchQueries&&{aq:e.advancedSearchQueries.aq,cq:e.advancedSearchQueries.cq},...e.pipeline&&{pipeline:e.pipeline},...e.searchHub&&{searchHub:e.searchHub},...e.context&&{context:e.context.contextValues},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.fields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.configuration.analytics.enabled&&{visitorId:await Lt(e.configuration.analytics)},...e.configuration.analytics.enabled&&await Do(e.configuration.analytics),...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")},...e.pagination&&{numberOfResults:e.pagination.numberOfResults}}),Nr=_("breadcrumb/deselectAll"),Vv=_("breadcrumb/deselectAllNonBreadcrumbs"),Cc=_("facet/updateFacetAutoSelection",e=>N(e,{allow:new _e({required:!0})})),RD=class extends Ao{constructor(e){super(e),this.getState=e}get activeInstantResultQuery(){let e=this.getState().instantResults;for(let t in e)for(let r in e[t].cache)if(e[t].cache[r].isActive)return e[t].q;return null}get activeInstantResultCache(){let e=this.getState().instantResults;for(let t in e)for(let r in e[t].cache)if(e[t].cache[r].isActive)return e[t].cache[r];return null}getSearchUID(){var e;return((e=this.activeInstantResultCache)==null?void 0:e.searchUid)||super.getSearchUID()}getSearchEventRequestPayload(){let e=super.getSearchEventRequestPayload(),t=this.activeInstantResultQuery||e.queryText;return{...e,queryText:t}}},AD=()=>it("analytics/instantResult/searchboxAsYouType",et.Search,e=>e.makeSearchboxAsYouType(),e=>new RD(e)),$c={id:te},DD={...$c,q:Ve},jD=_("instantResults/register",e=>N(e,$c)),zv=_("instantResults/updateQuery",e=>N(e,DD)),TD=_("instantResults/clearExpired",e=>N(e,$c)),jo=new fe({required:!0,min:0}),FD=_("pagination/registerNumberOfResults",e=>N(e,jo)),_D=_("pagination/updateNumberOfResults",e=>N(e,jo)),Nv=_("pagination/registerPage",e=>N(e,jo)),kc=_("pagination/updatePage",e=>N(e,jo)),Qv=_("pagination/nextPage"),Hv=_("pagination/previousPage"),Oc=_("query/updateQuery",e=>N(e,{q:new ue,enableQuerySyntax:new _e})),xc=async(e,t)=>{var r,n,i,a;return{accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,debug:e.debug,tab:e.configuration.analytics.originLevel2,referrer:e.configuration.analytics.originLevel3,timezone:e.configuration.search.timezone,...e.configuration.analytics.enabled&&{visitorId:await Lt(e.configuration.analytics),actionsHistory:On.getHistory()},...((r=e.advancedSearchQueries)==null?void 0:r.aq)&&{aq:e.advancedSearchQueries.aq},...((n=e.advancedSearchQueries)==null?void 0:n.cq)&&{cq:e.advancedSearchQueries.cq},...((i=e.advancedSearchQueries)==null?void 0:i.lq)&&{lq:e.advancedSearchQueries.lq},...((a=e.advancedSearchQueries)==null?void 0:a.dq)&&{dq:e.advancedSearchQueries.dq},...e.context&&{context:e.context.contextValues},...e.fields&&!e.fields.fetchAllFields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.query&&{q:e.query.q,enableQuerySyntax:e.query.enableQuerySyntax},...e.searchHub&&{searchHub:e.searchHub},...e.sortCriteria&&{sortCriteria:e.sortCriteria},...e.configuration.analytics.enabled&&await Do(e.configuration.analytics,t),...e.excerptLength&&!ve(e.excerptLength.length)&&{excerptLength:e.excerptLength.length},...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")}}},PD=_("didYouMean/enable"),MD=_("didYouMean/disable"),Ic=_("didYouMean/correction",e=>N(e,te)),UD=()=>it("analytics/didyoumean/automatic",et.Search,e=>e.makeDidYouMeanAutomatic()),LD=_("history/undo"),VD=_("history/redo"),wa=_("history/snapshot");$e("history/back",async(e,{dispatch:t})=>{t(LD()),await t(tt())});$e("history/forward",async(e,{dispatch:t})=>{t(VD()),await t(tt())});var tt=$e("history/change",async(e,{getState:t})=>t().history.present),Er=()=>({cq:"",cqWasSet:!1,aq:"",aqWasSet:!1,lq:"",lqWasSet:!1,dq:"",dqWasSet:!1,defaultFilters:{cq:"",aq:"",lq:"",dq:""}});function xn(){return{contextValues:{}}}var Mi=()=>!1;function Ui(){return{contextValues:{}}}function _n(){return{enabled:!0}}function To(){return{freezeFacetOrder:!1,facets:{}}}function Fo(){return[]}function Ec(){return{}}function zD(e){return e?e.expiresAt&&Date.now()>=e.expiresAt:!1}function In(){return{firstResult:0,defaultNumberOfResults:10,numberOfResults:10,totalCountFiltered:0}}function qc(){return{}}var ND=(e=>(e.Ascending="ascending",e.Descending="descending",e))(ND||{}),Bv=(e=>(e.Relevancy="relevancy",e.QRE="qre",e.Date="date",e.Field="field",e.NoSort="nosort",e))(Bv||{}),Ga=e=>{if(gv(e))return e.map(t=>Ga(t)).join(",");switch(e.by){case"relevancy":case"qre":case"nosort":return e.by;case"date":return`date ${e.order}`;case"field":return`@${e.field} ${e.order}`;default:return""}},QD=()=>({by:"relevancy"});function Rc(){return Ga(QD())}function Ac(){return{}}function Dc(){return{}}function Wv(){return Ca({})}function Ca(e){var t,r;return{context:e.context||xn(),dictionaryFieldContext:e.dictionaryFieldContext||Ui(),facetSet:e.facetSet||Fi(),numericFacetSet:e.numericFacetSet||Ti(),dateFacetSet:e.dateFacetSet||ji(),categoryFacetSet:e.categoryFacetSet||Di(),pagination:e.pagination||In(),query:e.query||Ur(),tabSet:e.tabSet||Dc(),advancedSearchQueries:e.advancedSearchQueries||Er(),staticFilterSet:e.staticFilterSet||Ac(),querySet:e.querySet||qc(),instantResults:e.instantResults||Ec(),sortCriteria:e.sortCriteria||Rc(),pipeline:e.pipeline||_i(),searchHub:e.searchHub||Lr(),facetOptions:e.facetOptions||To(),facetOrder:(t=e.facetOrder)!=null?t:Fo(),debug:(r=e.debug)!=null?r:Mi()}}var HD=()=>it("analytics/trigger/query",et.Search,(e,t)=>{var r;return(r=t.triggers)!=null&&r.queryModification.newQuery?e.makeTriggerQuery():null}),Yv=_("trigger/query/ignore",e=>N(e,new ue({emptyAllowed:!0,required:!0}))),Jv=_("trigger/query/modification",e=>N(e,new pe({values:{originalQuery:Ee,modification:Ee}}))),lp=()=>it("search/logFetchMoreResults",et.Search,e=>e.makeFetchMoreResults()),$a=e=>it("search/queryError",et.Search,(t,r)=>{var n,i,a,o;return t.makeQueryError({query:((n=r.query)==null?void 0:n.q)||Ur().q,aq:((i=r.advancedSearchQueries)==null?void 0:i.aq)||Er().aq,cq:((a=r.advancedSearchQueries)==null?void 0:a.cq)||Er().cq,dq:((o=r.advancedSearchQueries)==null?void 0:o.dq)||Er().dq,errorType:e.type,errorMessage:e.message})}),ka=Ke(nc()),BD=Ke(kE()),Zl=Ke(nc()),WD=Ke(OE());Zl.default.extend(WD.default);var Kv="YYYY/MM/DD@HH:mm:ss",YD="1401-01-01";function Za(e,t){let r=(0,Zl.default)(e,t);return!r.isValid()&&!t?(0,Zl.default)(e,Kv):r}function Gv(e){return e.format(Kv)}function JD(e,t){let r=Za(e,t);if(!r.isValid()){let n=". Please provide a date format string in the configuration options. See https://day.js.org/docs/en/parse/string-format for more information.",i=` with the format "${t}""`;throw new Error(`Could not parse the provided date "${e}"${t?i:n}`)}Zv(r)}function Zv(e){if(e.isBefore(YD))throw new Error(`Date is before year 1401, which is unsupported by the API: ${e}`)}ka.default.extend(BD.default);var Xv=["past","now","next"],ey=["minute","hour","day","week","month","quarter","year"],KD=e=>{let t=e==="now";return{amount:new fe({required:!t,min:1}),unit:new ue({required:!t,constrainTo:ey}),period:new ue({required:!0,constrainTo:Xv})}};function up(e){if(typeof e=="string"&&!ai(e))throw new Error(`The value "${e}" is not respecting the relative date format "period-amount-unit"`);let t=typeof e=="string"?ny(e):e;new Ri(KD(t.period)).validate(t);let r=ty(t),n=JSON.stringify(t);if(!r.isValid())throw new Error(`Date is invalid: ${n}`);Zv(r)}function GD(e){let{period:t,amount:r,unit:n}=e;switch(t){case"past":case"next":return`${t}-${r}-${n}`;case"now":return t}}function ty(e){let{period:t,amount:r,unit:n}=e;switch(t){case"past":return(0,ka.default)().subtract(r,n);case"next":return(0,ka.default)().add(r,n);case"now":return(0,ka.default)()}}function Xl(e){return Gv(ty(ny(e)))}function ry(e){return e.toLocaleLowerCase().split("-")}function ai(e){let[t,r,n]=ry(e);if(t==="now")return!0;if(!Xv.includes(t)||!ey.includes(n))return!1;let i=parseInt(r);return!(isNaN(i)||i<=0)}function ZD(e){return!!e&&typeof e=="object"&&"period"in e}function ny(e){let[t,r,n]=ry(e);return t==="now"?{period:"now"}:{period:t,amount:r?parseInt(r):void 0,unit:n||void 0}}function XD(e){return e.type==="dateRange"}function iy(e){return`start${e}`}function ay(e){return`end${e}`}var ej=()=>({dateFacetValueMap:{}});function tj(e,t,r){let n=e.start,i=e.end;return ai(n)&&(n=Xl(n),r.dateFacetValueMap[t][iy(n)]=e.start),ai(i)&&(i=Xl(i),r.dateFacetValueMap[t][ay(i)]=e.end),{...e,start:n,end:i}}function rj(e,t){if(XD(e)){let{facetId:r,currentValues:n}=e;return t.dateFacetValueMap[r]={},{...e,currentValues:n.map(i=>tj(i,r,t))}}return e}function oy(e){var t;let r=ej();return{request:{...e,facets:(t=e.facets)==null?void 0:t.map(n=>rj(n,r))},mappings:r}}function nj(e,t,r){return{...e,start:r.dateFacetValueMap[t][iy(e.start)]||e.start,end:r.dateFacetValueMap[t][ay(e.end)]||e.end}}function ij(e,t){return e.facetId in t.dateFacetValueMap}function aj(e,t){return ij(e,t)?{...e,values:e.values.map(r=>nj(r,e.facetId,t))}:e}function oj(e,t){var r;return"success"in e?{success:{...e.success,facets:(r=e.success.facets)==null?void 0:r.map(n=>aj(n,t))}}:e}function sy(e,t){let r={};e.forEach(a=>r[a.facetId]=a);let n=[];t.forEach(a=>{a in r&&(n.push(r[a]),delete r[a])});let i=Object.values(r);return[...n,...i]}function wr(e){return Object.values(e).map(t=>t.request)}var _o=1,eu=5e3,lr=async(e,t)=>{var r;let n=cj(e),i=sj(e),a=await xc(e,t),o=()=>e.pagination?e.pagination.firstResult+e.pagination.numberOfResults>eu?eu-e.pagination.firstResult:e.pagination.numberOfResults:void 0;return oy({...a,...e.didYouMean&&{enableDidYouMean:e.didYouMean.enableDidYouMean},...n&&{cq:n},...i.length&&{facets:i},...e.pagination&&{numberOfResults:o(),firstResult:e.pagination.firstResult},...e.facetOptions&&{facetOptions:{freezeFacetOrder:e.facetOptions.freezeFacetOrder}},...((r=e.folding)==null?void 0:r.enabled)&&{filterField:e.folding.fields.collection,childField:e.folding.fields.parent,parentField:e.folding.fields.child,filterFieldRange:e.folding.filterFieldRange}})};function sj(e){var t;return sy(lj(e),(t=e.facetOrder)!=null?t:[])}function lj(e){return uj(e).filter(({facetId:t})=>{var r,n,i;return(i=(n=(r=e.facetOptions)==null?void 0:r.facets[t])==null?void 0:n.enabled)!=null?i:!0})}function uj(e){var t,r,n,i;return[...wr((t=e.facetSet)!=null?t:{}),...cp((r=e.numericFacetSet)!=null?r:{}),...cp((n=e.dateFacetSet)!=null?n:{}),...wr((i=e.categoryFacetSet)!=null?i:{})]}function cp(e){return wr(e).map(t=>{let r=t.currentValues.find(({state:n})=>n==="selected");return t.generateAutomaticRanges&&!r?{...t,currentValues:[]}:t})}function cj(e){var t;let r=((t=e.advancedSearchQueries)==null?void 0:t.cq.trim())||"",n=Object.values(e.tabSet||{}).find(o=>o.isActive),i=(n==null?void 0:n.expression.trim())||"",a=dj(e);return[r,i,...a].filter(o=>!!o).join(" AND ")}function dj(e){return Object.values(e.staticFilterSet||{}).map(t=>{let r=t.values.filter(i=>i.state==="selected"&&!!i.expression.trim()),n=r.map(i=>i.expression).join(" OR ");return r.length>1?`(${n})`:n})}var Li=class{constructor(e,t=r=>{this.dispatch(Oc({q:r}))}){this.config=e,this.onUpdateQueryForCorrection=t}async fetchFromAPI({mappings:e,request:t},r){var n;let i=new Date().getTime(),a=oj(await this.extra.apiClient.search(t,r),e),o=new Date().getTime()-i,s=((n=this.getState().query)==null?void 0:n.q)||"";return{response:a,duration:o,queryExecuted:s,requestExecuted:t}}async process(e){var t,r,n;return(n=(r=(t=this.processQueryErrorOrContinue(e))!=null?t:await this.processQueryCorrectionsOrContinue(e))!=null?r:await this.processQueryTriggersOrContinue(e))!=null?n:this.processSuccessReponse(e)}processQueryErrorOrContinue(e){return vt(e.response)?(this.dispatch($a(e.response.error)),this.rejectWithValue(e.response.error)):null}async processQueryCorrectionsOrContinue(e){var t;let r=this.getState(),n=this.getSuccessResponse(e);if(!n||((t=r.didYouMean)==null?void 0:t.enableDidYouMean)===!1||n.results.length!==0||n.queryCorrections.length===0)return null;let i=this.getCurrentQuery(),{correctedQuery:a}=n.queryCorrections[0],o=await this.automaticallyRetryQueryWithCorrection(a);return vt(o.response)?(this.dispatch($a(o.response.error)),this.rejectWithValue(o.response.error)):(this.analyticsAction&&this.analyticsAction()(this.dispatch,()=>this.getStateAfterResponse(e.queryExecuted,e.duration,r,n),this.extra),this.dispatch(wa(Ca(this.getState()))),{...o,response:{...o.response.success,queryCorrections:n.queryCorrections},automaticallyCorrected:!0,originalQuery:i,analyticsAction:UD()})}async processQueryTriggersOrContinue(e){var t,r;let n=this.getSuccessResponse(e);if(!n)return null;let i=((t=n.triggers.find(s=>s.type==="query"))==null?void 0:t.content)||"";if(!i)return null;if(((r=this.getState().triggers)==null?void 0:r.queryModification.queryToIgnore)===i)return this.dispatch(Yv("")),null;this.analyticsAction&&await this.dispatch(this.analyticsAction);let a=this.getCurrentQuery(),o=await this.automaticallyRetryQueryWithTriggerModification(i);return vt(o.response)?(this.dispatch($a(o.response.error)),this.rejectWithValue(o.response.error)):(this.dispatch(wa(Ca(this.getState()))),{...o,response:{...o.response.success},automaticallyCorrected:!1,originalQuery:a,analyticsAction:HD()})}processSuccessReponse(e){return this.dispatch(wa(Ca(this.getState()))),{...e,response:this.getSuccessResponse(e),automaticallyCorrected:!1,originalQuery:this.getCurrentQuery(),analyticsAction:this.analyticsAction}}getSuccessResponse(e){return YA(e.response)?e.response.success:null}async automaticallyRetryQueryWithCorrection(e){this.onUpdateQueryForCorrection(e);let t=await this.fetchFromAPI(await lr(this.getState()),{origin:"mainSearch"});return this.dispatch(Ic(e)),t}async automaticallyRetryQueryWithTriggerModification(e){return this.dispatch(Jv({newQuery:e,originalQuery:this.getCurrentQuery()})),this.onUpdateQueryForCorrection(e),await this.fetchFromAPI(await lr(this.getState()),{origin:"mainSearch"})}getStateAfterResponse(e,t,r,n){var i,a;return{...r,query:{q:e,enableQuerySyntax:(a=(i=r.query)==null?void 0:i.enableQuerySyntax)!=null?a:Ur().enableQuerySyntax},search:{...Ir(),duration:t,response:n,results:n.results}}}getCurrentQuery(){var e;let t=this.getState();return((e=t.query)==null?void 0:e.q)!==void 0?t.query.q:""}get extra(){return this.config.extra}getState(){return this.config.getState()}get dispatch(){return this.config.dispatch}get analyticsAction(){return this.config.analyticsAction}get rejectWithValue(){return this.config.rejectWithValue}};$e("search/prepareForSearchWithQuery",(e,t)=>{let{dispatch:r}=t;N(e,{q:new ue,enableQuerySyntax:new _e,clearFilters:new _e}),e.clearFilters&&(r(Nr()),r(Vv())),r(Cc({allow:!0})),r(Oc({q:e.q,enableQuerySyntax:e.enableQuerySyntax})),r(kc(1))});var Me=$e("search/executeSearch",async(e,t)=>{let r=t.getState();ly(r);let{analyticsClientMiddleware:n,preprocessRequest:i,logger:a}=t.extra,{description:o}=await e.prepare({getState:()=>t.getState(),analyticsClientMiddleware:n,preprocessRequest:i,logger:a}),s=await lr(r,o),l=new Li({...t,analyticsAction:e}),u=await l.fetchFromAPI(s,{origin:"mainSearch"});return await l.process(u)}),qr=$e("search/fetchPage",async(e,t)=>{let r=t.getState();ly(r);let{analyticsClientMiddleware:n,preprocessRequest:i,logger:a}=t.extra,{description:o}=await e.prepare({getState:()=>t.getState(),analyticsClientMiddleware:n,preprocessRequest:i,logger:a}),s=new Li({...t,analyticsAction:e}),l=await lr(r,o),u=await s.fetchFromAPI(l,{origin:"mainSearch"});return await s.process(u)}),Jn=$e("search/fetchMoreResults",async(e,t)=>{let r=t.getState(),{analyticsClientMiddleware:n,preprocessRequest:i,logger:a}=t.extra,{description:o}=await lp().prepare({getState:()=>t.getState(),analyticsClientMiddleware:n,preprocessRequest:i,logger:a}),s=new Li({...t,analyticsAction:lp()}),l=await fj(r,o),u=await s.fetchFromAPI(l,{origin:"mainSearch"});return await s.process(u)}),jc=$e("search/fetchFacetValues",async(e,t)=>{let r=t.getState(),{analyticsClientMiddleware:n,preprocessRequest:i,logger:a}=t.extra,{description:o}=await e.prepare({getState:()=>t.getState(),analyticsClientMiddleware:n,preprocessRequest:i,logger:a}),s=new Li({...t,analyticsAction:e}),l=await hj(r,o),u=await s.fetchFromAPI(l,{origin:"facetValues"});return await s.process(u)}),Qs=$e("search/fetchInstantResults",async(e,t)=>{N(e,{id:te,q:te,maxResultsPerQuery:new fe({required:!0,min:1}),cacheTimeout:new fe});let{q:r,maxResultsPerQuery:n}=e,i=t.getState(),a=new Li({...t,analyticsAction:AD()},u=>{t.dispatch(zv({q:u,id:e.id}))}),o=await pj(i,r,n),s=await a.fetchFromAPI(o,{origin:"instantResults",disableAbortWarning:!0}),l=await a.process(s);return"response"in l?{results:l.response.results,searchUid:l.response.searchUid,analyticsAction:l.analyticsAction}:l}),fj=async(e,t)=>{var r,n,i,a;let o=await lr(e,t);return o.request={...o.request,firstResult:((n=(r=e.pagination)==null?void 0:r.firstResult)!=null?n:0)+((a=(i=e.search)==null?void 0:i.results.length)!=null?a:0)},o},pj=async(e,t,r)=>{let n=await xc(e);return oy({...n,...e.didYouMean&&{enableDidYouMean:e.didYouMean.enableDidYouMean},numberOfResults:r,q:t})},hj=async(e,t)=>{let r=await lr(e,t);return r.request.numberOfResults=0,r},ly=e=>{var t;e.configuration.analytics.enabled&&On.addElement({name:"Query",...((t=e.query)==null?void 0:t.q)&&{value:e.query.q},time:JSON.stringify(new Date)})},gj=e=>t=>r=>{var n,i;let a=(n=r.payload)==null?void 0:n.analyticsAction;a!==void 0&&((i=r.payload)==null||delete i.analyticsAction);let o=t(r);return r.type===Me.fulfilled.type&&a===void 0&&console.error("No analytics action associated with search:",r),r.type===Sa.fulfilled&&a===void 0&&console.error("No analytics action associated with recommendation:",r),r.type===ba.fulfilled&&a===void 0&&console.error("No analytics action associated with product recommendation:",r),a!==void 0&&e.dispatch(a),o};function mj(e){return e.instantlyCallable}var vj=()=>e=>t=>e(mj(t)?t():t),yj=e=>()=>t=>r=>{var n;if(!r.error)return t(r);let i=r.error;if((n=r.payload)!=null&&n.ignored||e.error(i.stack||i.message||i.name||"Error",`Action dispatch error ${r.type}`,r),r.error.name!=="SchemaValidationError")return t(r)},bj=e=>t=>r=>n=>(e.debug({action:n,nextState:t.getState()},`Action dispatched: ${n.type}`),r(n)),uy=()=>({caseAssistId:"",locale:"en-US"}),cy=()=>({status:{loading:!1,error:null,lastResponseId:""},fields:{}}),dy=()=>({}),Tc=Ke(nc()),Sj=Ke(xE()),wj=Ke(IE());Tc.default.extend(wj.default);Tc.default.extend(Sj.default);var fy="/rest/search/v2",tu="/rest/ua",En=()=>({organizationId:"",accessToken:"",platformUrl:sp(),search:{apiBaseUrl:`${sp()}${fy}`,locale:"en-US",timezone:Tc.default.tz.guess(),authenticationProviders:[]},analytics:{enabled:!0,apiBaseUrl:`${TA()}${tu}`,originContext:"Search",originLevel2:"default",originLevel3:"default",anonymous:!1,deviceId:"",userDisplayName:"",documentLocation:""}}),py=()=>({status:{loading:!1,error:null,lastResponseId:""},documents:[]});function Xa(){return{uniqueId:"",content:"",isLoading:!1,position:-1,resultsWithPreview:[]}}function Cj(e={}){return{configuration:En(),caseAssistConfiguration:uy(),caseField:cy(),caseInput:dy(),documentSuggestion:py(),debug:Mi(),version:"unit-testing-version",resultPreview:Xa(),searchHub:Lr(),...e}}Ke(xo());var $j=e=>e;function kj(){return{results:[],loading:!1}}var Oj=()=>({caseContext:{},caseId:"",caseNumber:""}),ru=()=>({correctedQuery:"",wordCorrections:[],originalQuery:""});function hy(){return{enableDidYouMean:!1,wasCorrectedTo:"",wasAutomaticallyCorrected:!1,queryCorrection:ru(),originalQuery:""}}function Fc(){return{}}var xj=["author","language","urihash","objecttype","collection","source","permanentid"],_c=()=>({fieldsToInclude:xj,fetchAllFields:!1,fieldsDescription:[]}),Ij=()=>({insightId:""}),Ej=()=>({loading:!1,config:void 0}),qj=()=>({});function Pc(){return{}}var gy=()=>({url:"",clientId:"",additionalFields:[],advancedParameters:{debug:!1},products:[],facets:{results:[]},error:null,isLoading:!1,responseId:""}),eo=(e=>(e.Relevance="relevance",e.Fields="fields",e))(eo||{}),Rj=(e=>(e.Ascending="asc",e.Descending="desc",e))(Rj||{}),Aj=()=>({by:"relevance"});function my(){return Aj()}function Dj(e={}){return{configuration:En(),productListing:gy(),sort:my(),facetSearchSet:Fc(),categoryFacetSet:Di(),categoryFacetSearchSet:Pc(),dateFacetSet:ji(),facetOptions:To(),facetOrder:Fo(),facetSet:Fi(),numericFacetSet:Ti(),pagination:In(),version:"unit-testing-version",context:xn(),...e}}function jj(e={}){return{configuration:En(),context:xn(),dictionaryFieldContext:Ui(),searchHub:Lr(),productRecommendations:bc(),version:"unit-testing-version",...e}}function Tj(e={}){return{configuration:En(),advancedSearchQueries:Er(),context:xn(),dictionaryFieldContext:Ui(),fields:_c(),searchHub:Lr(),pipeline:_i(),recommendation:Yn(),debug:Mi(),version:"unit-testing-version",pagination:In(),...e}}var Fj=Ke(xo()),_j=e=>e,Pj=e=>e,Mj=e=>e;function Uj(e){return new WA({logger:(0,Fj.default)({level:"silent"}),preprocessRequest:$j,postprocessSearchResponseMiddleware:_j,postprocessFacetSearchResponseMiddleware:Pj,postprocessQuerySuggestResponseMiddleware:Mj,...e})}var Lj=e=>({past:[],present:e,future:[]});function vy(){return{length:void 0}}var Mc=()=>({enabled:!1,fields:{collection:"foldingcollection",parent:"foldingparent",child:"foldingchild"},filterFieldRange:2,collections:{}}),nu=()=>({liked:!1,disliked:!1,expanded:!1,feedbackModalOpen:!1,relatedQuestions:[]});function yy(){return{queries:[],maxLength:10}}function by(){return{results:[],maxLength:10}}function Sy(){return{}}var wy=()=>({redirectTo:"",query:"",executions:[],notifications:[],queryModification:{originalQuery:"",newQuery:"",queryToIgnore:""}});function Cy(e={}){return{configuration:En(),advancedSearchQueries:Er(),staticFilterSet:Ac(),facetSet:Fi(),dateFacetSet:ji(),numericFacetSet:Ti(),categoryFacetSet:Di(),facetSearchSet:Fc(),categoryFacetSearchSet:Pc(),facetOptions:To(),pagination:In(),query:Ur(),querySet:qc(),instantResults:Ec(),tabSet:Dc(),querySuggest:{},search:Ir(),sortCriteria:Rc(),context:xn(),dictionaryFieldContext:Ui(),didYouMean:hy(),fields:_c(),history:Lj(Wv()),pipeline:_i(),facetOrder:Fo(),searchHub:Lr(),debug:Mi(),resultPreview:Xa(),version:"unit-testing-version",folding:Mc(),triggers:wy(),questionAnswering:nu(),standaloneSearchBoxSet:Sy(),recentResults:by(),recentQueries:yy(),excerptLength:vy(),...e}}function Vj(e={}){let t=Vi(e,Cy);return{...t,executeFirstSearch:jest.fn(),executeFirstSearchAfterStandaloneSearchBoxRedirect:jest.fn(),apiClient:t.apiClient}}function zj(e={}){return Vi(e,Tj)}function Nj(e={}){return Vi(e,jj)}function Qj(e={}){return Vi(e,Dj)}function Hj(e={}){return Vi(e,Cj)}function Vi(e={},t,r=Bj){let n=(0,_q.default)({level:"silent"}),i=dp(e,t),{store:a,apiClient:o}=r(n,i),s=a(i),l=()=>{},{state:u,...d}=e;return{store:s,apiClient:o,state:dp(e,t),subscribe:jest.fn(()=>l),get dispatch(){return s.dispatch},get actions(){return s.getActions()},findAsyncAction(f){let g=this.actions.find(y=>y.type===f.type);return Wj(g)?g:void 0},logger:n,addReducers:jest.fn(),enableAnalytics:jest.fn(),disableAnalytics:jest.fn(),...d}}function dp(e,t){let r=e.state||t();return r.configuration.analytics.enabled=!1,r}var Bj=e=>{let t={apiClient:Uj({logger:e}),validatePayload:zr,logger:e};return{store:(0,Pq.default)([vj,yj(e),gj,Vl.withExtraArgument(t),...cc(),bj(e)]),apiClient:t.apiClient}};function Wj(e){return e?"meta"in e:!1}function $y(e={}){return{urihash:"",parents:"",sfid:"",sfparentid:"",sfinsertedbyid:"",documenttype:"",sfcreatedbyid:"",permanentid:"",date:0,objecttype:"",sourcetype:"",sftitle:"",size:0,sffeeditemid:"",clickableuri:"",sfcreatedby:"",source:"",collection:"",connectortype:"",filetype:"",sfcreatedbyname:"",sflikecount:0,language:[],...e}}function Yj(e={}){return{title:"",uri:"",printableUri:"",clickUri:"",uniqueId:"",excerpt:"",firstSentences:"",summary:null,flags:"",hasHtmlVersion:!1,score:0,percentScore:0,rankingInfo:null,isTopResult:!1,isRecommendation:!1,titleHighlights:[],firstSentencesHighlights:[],excerptHighlights:[],printableUriHighlights:[],summaryHighlights:[],absentTerms:[],raw:$y(),...e}}var Jj={};rc(Jj,{escape:()=>Xr,getHighlightedSuggestion:()=>Gj,highlightString:()=>Kj});function Kj(e){if(Ns(e.openingDelimiter)||Ns(e.closingDelimiter))throw Error("delimiters should be a non-empty string");if(ve(e.content)||Ns(e.content))return e.content;if(e.highlights.length===0)return Xr(e.content);let t=e.content.length,r="",n=0;for(let i=0;i<e.highlights.length;i++){let a=e.highlights[i],o=a.offset,s=o+a.length;if(s>t)break;r+=Xr(e.content.slice(n,o)),r+=e.openingDelimiter,r+=Xr(e.content.slice(o,s)),r+=e.closingDelimiter,n=s}return n!==t&&(r+=Xr(e.content.slice(n))),r}function Gj(e,t){return e=Xr(e),e.replace(/\[(.*?)\]|\{(.*?)\}|\((.*?)\)/g,(r,n,i,a)=>n?Hs(n,t.notMatchDelimiters):i?Hs(i,t.exactMatchDelimiters):a?Hs(a,t.correctionDelimiters):r)}function Hs(e,t){return t?t.open+e+t.close:e}function Xr(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r="(?:"+Object.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return n.test(e)?e.replace(i,a=>t[a]):e}var Bs=()=>Ee,ky=()=>te,Zj=_("configuration/updateBasicConfiguration",e=>N(e,{accessToken:Ee,organizationId:Ee,platformUrl:Ee})),Uc=_("configuration/updateSearchConfiguration",e=>N(e,{apiBaseUrl:Ee,pipeline:new ue({required:!1,emptyAllowed:!0}),searchHub:Ee,timezone:Ee,locale:Ee,authenticationProviders:new He({required:!1,each:te})})),Xj=_("configuration/updateAnalyticsConfiguration",e=>(lD()&&(e.enabled=!1),N(e,{enabled:new _e({default:!0}),originContext:Bs(),originLevel2:Bs(),originLevel3:Bs(),apiBaseUrl:Ee,runtimeEnvironment:new dt,anonymous:new _e({default:!1}),deviceId:Ee,userDisplayName:Ee,documentLocation:Ee}))),eT=_("configuration/analytics/disable"),tT=_("configuration/analytics/enable"),rT=_("configuration/analytics/originlevel2",e=>N(e,{originLevel2:ky()})),nT=_("configuration/analytics/originlevel3",e=>N(e,{originLevel3:ky()})),zi=(e,t)=>{let r=e;return ve(r[t])?ve(e.raw[t])?null:e.raw[t]:r[t]},iT=e=>t=>e.every(r=>!ve(zi(t,r))),aT=e=>t=>e.every(r=>ve(zi(t,r))),oT=(e,t)=>r=>{let n=Oy(e,r);return t.some(i=>n.some(a=>`${a}`.toLowerCase()===i.toLowerCase()))},sT=(e,t)=>r=>{let n=Oy(e,r);return t.every(i=>n.every(a=>`${a}`.toLowerCase()!==i.toLowerCase()))},Oy=(e,t)=>{let r=zi(t,e);return Tv(r)?r:[r]};function lT(e){return e.search.response.searchUid!==""}function uT(e,t,r){return e.search.results.find(n=>zi(n,t)===r)}var cT={q:new ue,enableQuerySyntax:new _e,aq:new ue,cq:new ue,firstResult:new fe({min:0}),numberOfResults:new fe({min:0}),sortCriteria:new ue,f:new pe,cf:new pe,nf:new pe,df:new pe,debug:new _e,sf:new pe,tab:new ue},bt=_("searchParameters/restore",e=>N(e,cT)),or=()=>new ue({required:!1,emptyAllowed:!0}),dT=_("advancedSearchQueries/update",e=>N(e,{aq:or(),cq:or(),lq:or(),dq:or()})),fT=_("advancedSearchQueries/register",e=>N(e,{aq:or(),cq:or(),lq:or(),dq:or()}));ie(Er(),e=>{e.addCase(dT,(t,r)=>{let{aq:n,cq:i,lq:a,dq:o}=r.payload;ut(n)||(t.aq=n,t.aqWasSet=!0),ut(i)||(t.cq=i,t.cqWasSet=!0),ut(a)||(t.lq=a,t.lqWasSet=!0),ut(o)||(t.dq=o,t.dqWasSet=!0)}).addCase(fT,(t,r)=>{let{aq:n,cq:i,lq:a,dq:o}=r.payload;ut(n)||(t.defaultFilters.aq=n,t.aqWasSet||(t.aq=n)),ut(i)||(t.defaultFilters.cq=i,t.cqWasSet||(t.cq=i)),ut(a)||(t.defaultFilters.lq=a,t.lqWasSet||(t.lq=a)),ut(o)||(t.defaultFilters.dq=o,t.dqWasSet||(t.dq=o))}).addCase(tt.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.advancedSearchQueries)!=null?i:t}).addCase(bt,(t,r)=>{let{aq:n,cq:i}=r.payload;ut(n)||(t.aq=n,t.aqWasSet=!0),ut(i)||(t.cq=i,t.cqWasSet=!0)})});var xy=new pe({options:{required:!0},values:{articleLanguage:Ee,articlePublishStatus:Ee,articleVersionNumber:Ee,caseId:te,knowledgeArticleId:Ee,name:Ee,permanentId:Ee,resultUrl:Ee,source:Ee,title:te,uriHash:Ee}}),pT=_("insight/attachToCase/setAttachedResults",e=>N(e,{results:new He({each:xy}),loading:new _e({required:!1,default:!1})})),hT=_("insight/attachToCase/attach",e=>Iy(e)),gT=_("insight/attachToCase/detach",e=>Iy(e)),Iy=e=>ve(e.result.permanentId)&&ve(e.result.uriHash)?{payload:e,error:Vr(new gc("Either permanentId or uriHash is required"))}:N(e,{result:xy});ie(kj(),e=>{e.addCase(pT,(t,r)=>{var n;let{results:i,loading:a}=r.payload;"results"in t&&((n=t.results)==null?void 0:n.length)>0||(t.results=i,a&&(t.loading=a))}).addCase(hT,(t,r)=>{(!ve(r.payload.result.permanentId)||!ve(r.payload.result.uriHash))&&(t.results=[...t.results,r.payload.result])}).addCase(gT,(t,r)=>{t.results=t.results.filter(n=>mT(n,r.payload.result))})});var mT=(e,t)=>{let r=!ve(e.permanentId)&&(e==null?void 0:e.permanentId)===(t==null?void 0:t.permanentId),n=!ve(e.uriHash)&&(e==null?void 0:e.uriHash)===(t==null?void 0:t.uriHash);return e.caseId!==t.caseId||!r&&!n},vT=_("caseAssistConfiguration/set",e=>N(e,{caseAssistId:te,locale:Ee}));ie(uy(),e=>{e.addCase(vT,(t,r)=>{t.caseAssistId=r.payload.caseAssistId,t.locale=r.payload.locale})});var yT=_("insight/caseContext/set",e=>{let t=new pe({options:{required:!0}}),r=N(e,t).error;if(r)return{payload:e,error:r};let n=Object.values(e),i=new He({each:Ve}),a=N(n,i).error;return a?{payload:e,error:a}:{payload:e}}),bT=_("insight/caseId/set",e=>{let t=N(e,Ve).error;return t?{payload:e,error:t}:{payload:e}}),ST=_("insight/caseNumber/set",e=>{let t=N(e,Ve).error;return t?{payload:e,error:t}:{payload:e}});ie(Oj(),e=>{e.addCase(yT,(t,r)=>{t.caseContext=r.payload}).addCase(bT,(t,r)=>{t.caseId=r.payload}).addCase(ST,(t,r)=>{t.caseNumber=r.payload})});var Ey=e=>Object.keys(e).filter(t=>e[t].value!=="").reduce((t,r)=>({...t,[r]:e[r].value}),{}),wT=_("caseAssist/caseField/register",e=>N(e,{fieldName:te,fieldValue:Ve})),CT=_("caseAssist/caseField/update",e=>N(e,{fieldName:te,fieldValue:Ve})),Ws=$e("caseAssist/classifications/fetch",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n}})=>{let i=t(),a=await n.getCaseClassifications(await $T(i));return vt(a)?r(a.error):{response:a.success}}),$T=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.platformUrl,caseAssistId:e.caseAssistConfiguration.caseAssistId,...e.configuration.analytics.enabled&&{visitorId:await Lt(e.configuration.analytics)},fields:e.caseInput,context:e.caseField?Ey(e.caseField.fields):void 0,locale:e.caseAssistConfiguration.locale,debug:e.debug});ie(cy(),e=>{e.addCase(wT,(t,r)=>{let{fieldName:n,fieldValue:i}=r.payload;t.fields[n]={value:i,suggestions:[]}}).addCase(CT,(t,r)=>{let{fieldName:n,fieldValue:i}=r.payload;t.fields[n].value=i}).addCase(Ws.rejected,(t,r)=>{var n;t.status.error=(n=r.payload)!=null?n:null,t.status.loading=!1}).addCase(Ws.fulfilled,(t,r)=>{let n={value:"",suggestions:[]};Object.entries(r.payload.response.fields).forEach(([i,a])=>{t.fields[i]||(t.fields[i]={...n}),t.fields[i].suggestions=a.predictions}),t.status.lastResponseId=r.payload.response.responseId,t.status.error=null,t.status.loading=!1}).addCase(Ws.pending,t=>{t.status.loading=!0})});var kT=_("caseAssist/caseInput/update",e=>N(e,{fieldName:te,fieldValue:Ve}));ie(dy(),e=>{e.addCase(kT,(t,r)=>{t[r.payload.fieldName]={value:r.payload.fieldValue}})});var OT=_("tab/register",e=>{let t=new pe({values:{id:te,expression:Ve}});return N(e,t)}),qy=_("tab/updateActiveTab",e=>N(e,te));function xT(e,t){if(/^https:\/\/platform(dev|stg|hipaa)?(-)?(eu|au)?\.cloud\.coveo\.com/.test(e))return e.replace(/^(https:\/\/)platform/,"$1analytics")+tu;let r=e.match(new RegExp(`^https://(${t}\\.org)\\.coveo.com`));return r?e.replace(r[1],"analytics.cloud")+tu:e}var IT=ie(En(),e=>e.addCase(Zj,(t,r)=>{r.payload.accessToken&&(t.accessToken=r.payload.accessToken),r.payload.organizationId&&(t.organizationId=r.payload.organizationId),r.payload.platformUrl&&(t.platformUrl=r.payload.platformUrl,t.search.apiBaseUrl=`${r.payload.platformUrl}${fy}`,t.analytics.apiBaseUrl=xT(r.payload.platformUrl,t.organizationId))}).addCase(Uc,(t,r)=>{r.payload.apiBaseUrl&&(t.search.apiBaseUrl=r.payload.apiBaseUrl),r.payload.locale&&(t.search.locale=r.payload.locale),r.payload.timezone&&(t.search.timezone=r.payload.timezone),r.payload.authenticationProviders&&(t.search.authenticationProviders=r.payload.authenticationProviders)}).addCase(Xj,(t,r)=>{ve(r.payload.enabled)||(!r.payload.enabled&&t.analytics.enabled&&ip(t.analytics),t.analytics.enabled=r.payload.enabled),ve(r.payload.originContext)||(t.analytics.originContext=r.payload.originContext),ve(r.payload.originLevel2)||(t.analytics.originLevel2=r.payload.originLevel2),ve(r.payload.originLevel3)||(t.analytics.originLevel3=r.payload.originLevel3),ve(r.payload.apiBaseUrl)||(t.analytics.apiBaseUrl=r.payload.apiBaseUrl),ve(r.payload.runtimeEnvironment)||(t.analytics.runtimeEnvironment=r.payload.runtimeEnvironment),ve(r.payload.anonymous)||(t.analytics.anonymous=r.payload.anonymous),ve(r.payload.deviceId)||(t.analytics.deviceId=r.payload.deviceId),ve(r.payload.userDisplayName)||(t.analytics.userDisplayName=r.payload.userDisplayName),ve(r.payload.documentLocation)||(t.analytics.documentLocation=r.payload.documentLocation)}).addCase(eT,t=>{t.analytics.enabled=!1,ip(t.analytics)}).addCase(tT,t=>{t.analytics.enabled=!0}).addCase(rT,(t,r)=>{t.analytics.originLevel2=r.payload.originLevel2}).addCase(nT,(t,r)=>{t.analytics.originLevel3=r.payload.originLevel3}).addCase(qy,(t,r)=>{t.analytics.originLevel2=r.payload}).addCase(bt,(t,r)=>{t.analytics.originLevel2=r.payload.tab||t.analytics.originLevel2})),ET=new He({each:te,required:!0}),Ry=(e,t)=>(N(e,te),mc(t)?N(t,te):N(t,ET),{payload:{contextKey:e,contextValue:t}}),qT=_("context/set",e=>{for(let[t,r]of Object.entries(e))Ry(t,r);return{payload:e}}),RT=_("context/add",e=>Ry(e.contextKey,e.contextValue)),AT=_("context/remove",e=>N(e,te));ie(xn(),e=>{e.addCase(qT,(t,r)=>{t.contextValues=r.payload}).addCase(RT,(t,r)=>{t.contextValues[r.payload.contextKey]=r.payload.contextValue}).addCase(AT,(t,r)=>{delete t.contextValues[r.payload]}).addCase(tt.fulfilled,(t,r)=>{!r.payload||(t.contextValues=r.payload.context.contextValues)})});var DT=_("debug/enable"),jT=_("debug/disable");ie(Mi(),e=>{e.addCase(DT,()=>!0).addCase(jT,()=>!1).addCase(bt,(t,r)=>{var n;return(n=r.payload.debug)!=null?n:t})});ie(Av,e=>e);var TT=_("dictionaryFieldContext/set",e=>{let t=new pe({options:{required:!0}}),r=N(e,t).error;if(r)return{payload:e,error:r};let n=Object.values(e),i=new He({each:Ve}),a=N(n,i).error;return a?{payload:e,error:a}:{payload:e}}),FT=_("dictionaryFieldContext/add",e=>{let t=new pe({options:{required:!0},values:{field:Ve,key:Ve}});return N(e,t)}),_T=_("dictionaryFieldContext/remove",e=>N(e,Ve));ie(Ui(),e=>{e.addCase(TT,(t,r)=>{t.contextValues=r.payload}).addCase(FT,(t,r)=>{let{field:n,key:i}=r.payload;t.contextValues[n]=i}).addCase(_T,(t,r)=>{delete t.contextValues[r.payload]}).addCase(tt.fulfilled,(t,r)=>{!r.payload||(t.contextValues=r.payload.dictionaryFieldContext.contextValues)})});ie(hy(),e=>{e.addCase(PD,t=>{t.enableDidYouMean=!0}).addCase(MD,t=>{t.enableDidYouMean=!1}).addCase(Me.pending,t=>{t.queryCorrection=ru(),t.wasAutomaticallyCorrected=!1,t.wasCorrectedTo=""}).addCase(Me.fulfilled,(t,r)=>{t.queryCorrection=r.payload.response.queryCorrections[0]||ru(),t.originalQuery=r.payload.originalQuery,t.wasAutomaticallyCorrected=r.payload.automaticallyCorrected}).addCase(Ic,(t,r)=>{t.wasCorrectedTo=r.payload})});var Ys=$e("caseAssist/documentSuggestions/fetch",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n}})=>{let i=t(),a=await n.getDocumentSuggestions(await PT(i));return vt(a)?r(a.error):{response:a.success}}),PT=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.platformUrl,caseAssistId:e.caseAssistConfiguration.caseAssistId,...e.configuration.analytics.enabled&&{visitorId:await Lt(e.configuration.analytics)},fields:e.caseInput,context:e.caseField?Ey(e.caseField.fields):void 0,locale:e.caseAssistConfiguration.locale,debug:e.debug});ie(py(),e=>{e.addCase(Ys.rejected,(t,r)=>{var n;t.status.error=(n=r.payload)!=null?n:null,t.status.loading=!1}).addCase(Ys.fulfilled,(t,r)=>{t.documents=r.payload.response.documents,t.status.lastResponseId=r.payload.response.responseId,t.status.error=null,t.status.loading=!1}).addCase(Ys.pending,t=>{t.status.loading=!0})});var MT=_("excerptLength/set",e=>N(e,new fe({min:0,required:!0})));ie(vy(),e=>{e.addCase(MT,(t,r)=>{t.length=r.payload})});var ke=te,UT={state:new dt({required:!0}),numberOfResults:new fe({required:!0,min:0}),value:new ue({required:!0,emptyAllowed:!0}),path:new He({required:!0,each:te}),moreValuesAvailable:new _e({required:!1})};function Ay(e){e.children.forEach(t=>{Ay(t)}),zr({state:e.state,numberOfResults:e.numberOfResults,value:e.value,path:e.path,moreValuesAvailable:e.moreValuesAvailable},UT)}var LT={facetId:ke,field:te,delimitingCharacter:new ue({required:!1,emptyAllowed:!0}),filterFacetCount:new _e({required:!1}),injectionDepth:new fe({required:!1,min:0}),numberOfValues:new fe({required:!1,min:1}),sortCriteria:new dt({required:!1}),basePath:new He({required:!1,each:te}),filterByBasePath:new _e({required:!1})},Dy=_("categoryFacet/register",e=>N(e,LT)),jy=_("categoryFacet/toggleSelectValue",e=>{try{return zr(e.facetId,te),Ay(e.selection),{payload:e,error:null}}catch(t){return{payload:e,error:Vr(t)}}}),Ty=_("categoryFacet/deselectAll",e=>N(e,ke)),VT=_("categoryFacet/updateNumberOfValues",e=>N(e,{facetId:ke,numberOfValues:new fe({required:!0,min:1})})),zT=_("categoryFacet/updateSortCriterion",e=>N(e,{facetId:ke,criterion:new dt})),NT=new pe({options:{required:!1},values:{type:new ue({constrainTo:["simple"],emptyAllowed:!1,required:!0}),values:new He({required:!0,max:25,each:new ue({emptyAllowed:!1,required:!0})})}}),Fy={value:te,numberOfResults:new fe({min:0}),state:te},QT={facetId:ke,field:new ue({required:!0,emptyAllowed:!0}),filterFacetCount:new _e({required:!1}),injectionDepth:new fe({required:!1,min:0}),numberOfValues:new fe({required:!1,min:1}),sortCriteria:new dt({required:!1}),allowedValues:NT},_y=_("facet/register",e=>N(e,QT)),Lc=_("facet/toggleSelectValue",e=>N(e,{facetId:ke,selection:new pe({values:Fy})})),Po=_("facet/deselectAll",e=>N(e,ke)),HT=_("facet/updateSortCriterion",e=>N(e,{facetId:ke,criterion:new dt({required:!0})})),BT=_("facet/updateNumberOfValues",e=>N(e,{facetId:ke,numberOfValues:new fe({required:!0,min:1})})),WT=_("facet/updateIsFieldExpanded",e=>N(e,{facetId:ke,isFieldExpanded:new _e({required:!0})})),YT=_("facet/updateFreezeCurrentValues",e=>N(e,{facetId:ke,freezeCurrentValues:new _e({required:!0})}));function JT(e){var t,r;let n=fp(e.start,e),i=fp(e.end,e),a=(t=e.endInclusive)!=null?t:!1,o=(r=e.state)!=null?r:"idle";return{start:n,end:i,endInclusive:a,state:o}}function fp(e,t){let{dateFormat:r}=t;return ZD(e)?(up(e),GD(e)):typeof e=="string"&&ai(e)?(up(e),e):(JD(e,r),Gv(Za(e,r)))}var Py=_("rangeFacet/updateSortCriterion",e=>N(e,{facetId:ke,criterion:new dt({required:!0})})),Mo={state:te,start:new fe({required:!0}),end:new fe({required:!0}),endInclusive:new _e({required:!0}),numberOfResults:new fe({required:!0,min:0})},Uo={start:te,end:te,endInclusive:new _e({required:!0}),state:te,numberOfResults:new fe({required:!0,min:0})},KT=e=>({facetId:ke,selection:typeof e.start=="string"?new pe({values:Uo}):new pe({values:Mo})}),GT={start:te,end:te,endInclusive:new _e({required:!0}),state:te},ZT={facetId:ke,field:te,currentValues:new He({required:!1,each:new pe({values:GT})}),generateAutomaticRanges:new _e({required:!0}),filterFacetCount:new _e({required:!1}),injectionDepth:new fe({required:!1,min:0}),numberOfValues:new fe({required:!1,min:1}),sortCriteria:new dt({required:!1}),rangeAlgorithm:new dt({required:!1})};function pp(e){return ai(e)?Xl(e):e}function My(e){!e.currentValues||e.currentValues.forEach(t=>{let{start:r,end:n}=JT(t);if(Za(pp(r)).isAfter(Za(pp(n))))throw new Error(`The start value is greater than the end value for the date range ${t.start} to ${t.end}`)})}var Uy=_("dateFacet/register",e=>{try{return zr(e,ZT),My(e),{payload:e,error:null}}catch(t){return{payload:e,error:Vr(t)}}}),Vc=_("dateFacet/toggleSelectValue",e=>N(e,{facetId:ke,selection:new pe({values:Uo})})),Ly=_("dateFacet/updateFacetValues",e=>{try{return zr(e,{facetId:ke,values:new He({each:new pe({values:Uo})})}),My({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:Vr(t)}}}),XT=Py,eF=Po,tF={state:te,start:new fe({required:!0}),end:new fe({required:!0}),endInclusive:new _e({required:!0})},rF={facetId:ke,field:te,currentValues:new He({required:!1,each:new pe({values:tF})}),generateAutomaticRanges:new _e({required:!0}),filterFacetCount:new _e({required:!1}),injectionDepth:new fe({required:!1,min:0}),numberOfValues:new fe({required:!1,min:1}),sortCriteria:new dt({required:!1}),rangeAlgorithm:new dt({required:!1})};function Vy(e){!e.currentValues||e.currentValues.forEach(({start:t,end:r})=>{if(t>r)throw new Error(`The start value is greater than the end value for the numeric range ${t} to ${r}`)})}var zy=_("numericFacet/register",e=>{try{return N(e,rF),Vy(e),{payload:e,error:null}}catch(t){return{payload:e,error:Vr(t)}}}),zc=_("numericFacet/toggleSelectValue",e=>N(e,{facetId:ke,selection:new pe({values:Mo})})),Ny=_("numericFacet/updateFacetValues",e=>{try{return zr(e,{facetId:ke,values:new He({each:new pe({values:Mo})})}),Vy({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:Vr(t)}}}),nF=Py,iF=Po,Lo=_("facetOptions/update",e=>N(e,{freezeFacetOrder:new _e({required:!1})})),aF=_("facetOptions/facet/enable",e=>N(e,ke)),Ni=_("facetOptions/facet/disable",e=>N(e,ke));ie(To(),e=>{e.addCase(Lo,(t,r)=>({...t,...r.payload})).addCase(Me.fulfilled,t=>{t.freezeFacetOrder=!1}).addCase(Me.rejected,t=>{t.freezeFacetOrder=!1}).addCase(tt.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.facetOptions)!=null?i:t}).addCase(Dy,(t,r)=>{t.facets[r.payload.facetId]=_n()}).addCase(_y,(t,r)=>{t.facets[r.payload.facetId]=_n()}).addCase(Uy,(t,r)=>{t.facets[r.payload.facetId]=_n()}).addCase(zy,(t,r)=>{t.facets[r.payload.facetId]=_n()}).addCase(aF,(t,r)=>{t.facets[r.payload].enabled=!0}).addCase(Ni,(t,r)=>{t.facets[r.payload].enabled=!1}).addCase(bt,(t,r)=>{var n,i,a,o;[...Object.keys((n=r.payload.f)!=null?n:{}),...Object.keys((i=r.payload.cf)!=null?i:{}),...Object.keys((a=r.payload.nf)!=null?a:{}),...Object.keys((o=r.payload.df)!=null?o:{})].forEach(s=>{s in t||(t.facets[s]=_n()),t.facets[s].enabled=!0})})});var Nc={facetId:ke,captions:new pe({options:{required:!1}}),numberOfValues:new fe({required:!1,min:1}),query:new ue({required:!1,emptyAllowed:!0})},oF={path:new He({required:!0,each:te}),displayValue:Ve,rawValue:Ve,count:new fe({required:!0,min:0})},Qy=_("categoryFacet/selectSearchResult",e=>N(e,{facetId:ke,value:new pe({values:oF})})),sF=_("categoryFacetSearch/register",e=>N(e,Nc));function Qc(e,t){var r;let{facetId:n,criterion:i}=t,a=(r=e[n])==null?void 0:r.request;!a||(a.sortCriteria=i)}function oa(e){!e||(e.currentValues=e.currentValues.map(t=>({...t,state:"idle"})),e.preventAutoSelect=!0)}function Hy(e,t){!e||(e.numberOfValues=t)}function Js(e,t){let r=e[t];!r||(r.request.numberOfValues=r.initialNumberOfValues,r.request.currentValues=[],r.request.preventAutoSelect=!0)}function hp(e,t,r){e.currentValues=lF(t,r),e.numberOfValues=t.length?1:r,e.preventAutoSelect=!0}function lF(e,t){if(!e.length)return[];let r=gp(e[0],t),n=r;for(let i of e.splice(1)){let a=gp(i,t);n.children.push(a),n=a}return n.state="selected",n.retrieveChildren=!0,[r]}function gp(e,t){return{value:e,retrieveCount:t,children:[],state:"idle",retrieveChildren:!1}}ie(Di(),e=>{e.addCase(Dy,(t,r)=>{let n=r.payload,{facetId:i}=n;if(i in t)return;let a=dF(n),o=a.numberOfValues;t[i]={request:a,initialNumberOfValues:o}}).addCase(tt.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.categoryFacetSet)!=null?i:t}).addCase(bt,(t,r)=>{let n=r.payload.cf||{};Object.keys(t).forEach(i=>{let a=t[i].request,o=n[i]||[];(o.length||a.currentValues.length)&&hp(a,o,t[i].initialNumberOfValues)})}).addCase(zT,(t,r)=>{var n;let{facetId:i,criterion:a}=r.payload,o=(n=t[i])==null?void 0:n.request;!o||(o.sortCriteria=a)}).addCase(jy,(t,r)=>{var n;let{facetId:i,selection:a,retrieveCount:o}=r.payload,s=(n=t[i])==null?void 0:n.request;if(!s)return;let{path:l}=a,u=l.slice(0,l.length-1),d=cF(s,u,o);if(d.length){let g=d[0];g.retrieveChildren=!0,g.state="selected",g.children=[];return}let f=By(a.value,o);f.state="selected",d.push(f),s.numberOfValues=1}).addCase(Ty,(t,r)=>{let n=r.payload;Js(t,n)}).addCase(Nr,t=>{Object.keys(t).forEach(r=>Js(t,r))}).addCase(Cc,(t,r)=>Object.keys(t).forEach(n=>{t[n].request.preventAutoSelect=!r.payload.allow})).addCase(VT,(t,r)=>{var n;let{facetId:i,numberOfValues:a}=r.payload,o=(n=t[i])==null?void 0:n.request;if(o){if(!o.currentValues.length)return Hy(o,a);fF(t,r.payload)}}).addCase(Qy,(t,r)=>{let{facetId:n,value:i}=r.payload,a=t[n];if(!a)return;let o=[...i.path,i.rawValue];hp(a.request,o,a.initialNumberOfValues)}).addCase(jc.fulfilled,(t,r)=>{mp(t,r.payload.response.facets)}).addCase(Me.fulfilled,(t,r)=>{mp(t,r.payload.response.facets)}).addCase(Ni,(t,r)=>{Js(t,r.payload)})});var uF={delimitingCharacter:";",filterFacetCount:!0,injectionDepth:1e3,numberOfValues:5,sortCriteria:"occurrences",basePath:[],filterByBasePath:!0};function cF(e,t,r){let n=e.currentValues;for(let i of t){let a=n[0];(!a||i!==a.value)&&(a=By(i,r),n.length=0,n.push(a)),a.retrieveChildren=!1,a.state="idle",n=a.children}return n}function dF(e){return{...uF,currentValues:[],preventAutoSelect:!1,type:"hierarchical",...e}}function By(e,t){return{value:e,state:"idle",children:[],retrieveChildren:!0,retrieveCount:t}}function mp(e,t){t.forEach(r=>{var n;if(!pF(e,r))return;let i=r.facetId,a=(n=e[i])==null?void 0:n.request;if(!a)return;let o=hF(a,r);a.currentValues=o?[]:a.currentValues,a.preventAutoSelect=!1})}function fF(e,t){var r;let{facetId:n,numberOfValues:i}=t,a=(r=e[n])==null?void 0:r.request.currentValues[0];if(a){for(;a.children.length&&(a==null?void 0:a.state)!=="selected";)a=a.children[0];a.retrieveCount=i}}function pF(e,t){return t.facetId in e}function hF(e,t){let r=ii(e.currentValues).parents,n=ii(t.values).parents;return r.length!==n.length}ie(Fo(),e=>{e.addCase(Me.fulfilled,(t,r)=>r.payload.response.facets.map(n=>n.facetId)).addCase(tt.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.facetOrder)!=null?i:t})});function Wy(e,t,r){let{facetId:n}=t;if(e[n])return;let i=!1,a={...Xy,...t},o=r();e[n]={options:a,isLoading:i,response:o,initialNumberOfValues:a.numberOfValues,requestId:""}}function Yy(e,t){let{facetId:r,...n}=t,i=e[r];!i||(i.options={...i.options,...n})}function Jy(e,t,r){let n=e[t];!n||(n.requestId=r,n.isLoading=!0)}function Ky(e,t){let r=e[t];!r||(r.isLoading=!1)}function Gy(e,t,r){let{facetId:n,response:i}=t,a=e[n];!a||a.requestId===r&&(a.isLoading=!1,a.response=i)}function Hc(e,t,r){let{facetId:n}=t,i=e[n];!i||(i.requestId="",i.isLoading=!1,i.response=r(),i.options.numberOfValues=i.initialNumberOfValues,i.options.query=Xy.query)}function Zy(e,t){Object.keys(e).forEach(r=>Hc(e,{facetId:r},t))}var Xy={captions:{},numberOfValues:10,query:""},gF=async(e,t,r)=>{let n=t.categoryFacetSearchSet[e].options,i=t.categoryFacetSet[e].request,{captions:a,query:o,numberOfValues:s}=n,{field:l,delimitingCharacter:u,basePath:d,filterFacetCount:f}=i,g=mF(i),y=g.length?[g]:[],m=`*${o}*`;return{url:t.configuration.search.apiBaseUrl,accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,...t.configuration.search.authenticationProviders.length&&{authentication:t.configuration.search.authenticationProviders.join(",")},basePath:d,captions:a,numberOfValues:s,query:m,field:l,delimitingCharacter:u,ignorePaths:y,filterFacetCount:f,type:"hierarchical",...r?{}:{searchContext:(await lr(t)).request}}},mF=e=>{let t=[],r=e.currentValues[0];for(;r;)t.push(r.value),r=r.children[0];return t},vF=async(e,t,r)=>{let{captions:n,query:i,numberOfValues:a}=t.facetSearchSet[e].options,{field:o,currentValues:s,filterFacetCount:l}=t.facetSet[e].request,u=s.filter(f=>f.state!=="idle").map(f=>f.value),d=`*${i}*`;return{url:t.configuration.search.apiBaseUrl,accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,...t.configuration.search.authenticationProviders&&{authentication:t.configuration.search.authenticationProviders.join(",")},captions:n,numberOfValues:a,query:d,field:o,ignoreValues:u,filterFacetCount:l,type:"specific",...r?{}:{searchContext:(await lr(t)).request}}},eb=e=>async(t,{getState:r,extra:{apiClient:n,validatePayload:i}})=>{let a=r(),o;i(t,te),yF(a,t)?o=await vF(t,a,e):o=await gF(t,a,e);let s=await n.facetSearch(o);return{facetId:t,response:s}},gn=$e("facetSearch/executeSearch",eb(!1));$e("facetSearch/executeSearch",eb(!0));var tb=_("facetSearch/clearResults",e=>N(e,{facetId:ke})),yF=(e,t)=>e.facetSearchSet!==void 0&&e.facetSet!==void 0&&e.facetSet[t]!==void 0,bF={facetId:ke,value:new pe({values:{displayValue:Ve,rawValue:Ve,count:new fe({required:!0,min:0})}})},SF=_("facetSearch/register",e=>N(e,Nc)),rb=_("facetSearch/update",e=>N(e,Nc)),nb=_("facetSearch/toggleSelectValue",e=>N(e,bF));ie(Pc(),e=>{e.addCase(sF,(t,r)=>{let n=r.payload;Wy(t,n,Ks)}).addCase(rb,(t,r)=>{Yy(t,r.payload)}).addCase(gn.pending,(t,r)=>{let n=r.meta.arg;Jy(t,n,r.meta.requestId)}).addCase(gn.rejected,(t,r)=>{let n=r.meta.arg;Ky(t,n)}).addCase(gn.fulfilled,(t,r)=>{Gy(t,r.payload,r.meta.requestId)}).addCase(tb,(t,{payload:{facetId:r}})=>{Hc(t,{facetId:r},Ks)}).addCase(Me.fulfilled,t=>{Zy(t,Ks)})});function Ks(){return{moreValuesAvailable:!1,values:[]}}ie(Fc(),e=>{e.addCase(SF,(t,r)=>{let n=r.payload;Wy(t,n,Gs)}).addCase(rb,(t,r)=>{Yy(t,r.payload)}).addCase(gn.pending,(t,r)=>{let n=r.meta.arg;Jy(t,n,r.meta.requestId)}).addCase(gn.rejected,(t,r)=>{let n=r.meta.arg;Ky(t,n)}).addCase(gn.fulfilled,(t,r)=>{Gy(t,r.payload,r.meta.requestId)}).addCase(tb,(t,{payload:r})=>{Hc(t,r,Gs)}).addCase(Me.fulfilled,t=>{Zy(t,Gs)})});function Gs(){return{moreValuesAvailable:!1,values:[]}}var wF=_("productlisting/setUrl",e=>N(e,{url:new ue({required:!0,url:!0})})),CF=_("productlisting/setAdditionalFields",e=>N(e,{additionalFields:new He({required:!0,each:new ue({required:!0,emptyAllowed:!1})})})),Rr=$e("productlisting/fetch",async(e,{getState:t,dispatch:r,rejectWithValue:n,extra:i})=>{let a=t(),{apiClient:o}=i,s=await o.getProducts(await $F(a));return vt(s)?(r($a(s.error)),n(s.error)):{response:s.success}}),$F=async e=>{var t,r,n;let i=OF(e),a=await Lt(e.configuration.analytics);return{accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,platformUrl:e.configuration.platformUrl,url:(t=e.productListing)==null?void 0:t.url,...e.configuration.analytics.enabled&&a?{clientId:a}:{},...(r=e.productListing.additionalFields)!=null&&r.length?{additionalFields:e.productListing.additionalFields}:{},...e.productListing.advancedParameters&&kF(e.productListing.advancedParameters)?{advancedParameters:e.productListing.advancedParameters||{}}:{},...i.length&&{facets:{requests:i}},...e.pagination&&{pagination:{numberOfValues:e.pagination.numberOfResults,page:Math.ceil(e.pagination.firstResult/(e.pagination.numberOfResults||1))+1}},...(((n=e.sort)==null?void 0:n.by)||eo.Relevance)!==eo.Relevance&&{sort:e.sort},...e.context&&{userContext:e.context.contextValues}}};function kF(e){return e.debug}function OF(e){var t;return sy(xF(e),(t=e.facetOrder)!=null?t:[])}function xF(e){var t,r,n,i;return[...wr((t=e.facetSet)!=null?t:{}),...wr((r=e.numericFacetSet)!=null?r:{}),...wr((n=e.dateFacetSet)!=null?n:{}),...wr((i=e.categoryFacetSet)!=null?i:{})]}ie(Fi(),e=>{e.addCase(_y,(t,r)=>{let{facetId:n}=r.payload;n in t||(t[n]=sA(EF(r.payload)))}).addCase(tt.fulfilled,(t,r)=>{if(r.payload&&Object.keys(r.payload.facetSet).length!==0)return r.payload.facetSet}).addCase(bt,(t,r)=>{let n=r.payload.f||{};Object.keys(t).forEach(i=>{let{request:a}=t[i],o=n[i]||[],s=a.currentValues.filter(l=>!o.includes(l.value));a.currentValues=[...o.map(yp),...s.map(RF)],a.preventAutoSelect=o.length>0,a.numberOfValues=Math.max(o.length,a.numberOfValues)})}).addCase(Lc,(t,r)=>{var n;let{facetId:i,selection:a}=r.payload,o=(n=t[i])==null?void 0:n.request;if(!o)return;o.preventAutoSelect=!0;let s=o.currentValues.find(u=>u.value===a.value);if(!s){vp(o,a);return}let l=s.state==="selected";s.state=l?"idle":"selected",o.freezeCurrentValues=!0}).addCase(YT,(t,r)=>{var n;let{facetId:i,freezeCurrentValues:a}=r.payload,o=(n=t[i])==null?void 0:n.request;!o||(o.freezeCurrentValues=a)}).addCase(Po,(t,r)=>{var n;oa((n=t[r.payload])==null?void 0:n.request)}).addCase(Nr,t=>{Object.values(t).filter(r=>r.hasBreadcrumbs).forEach(({request:r})=>oa(r))}).addCase(Vv,t=>{Object.values(t).filter(r=>!r.hasBreadcrumbs).forEach(({request:r})=>oa(r))}).addCase(Cc,(t,r)=>Object.values(t).forEach(n=>{n.request.preventAutoSelect=!r.payload.allow})).addCase(HT,(t,r)=>{Qc(t,r.payload)}).addCase(BT,(t,r)=>{var n;let{facetId:i,numberOfValues:a}=r.payload;Hy((n=t[i])==null?void 0:n.request,a)}).addCase(WT,(t,r)=>{var n;let{facetId:i,isFieldExpanded:a}=r.payload,o=(n=t[i])==null?void 0:n.request;!o||(o.isFieldExpanded=a)}).addCase(Me.fulfilled,(t,r)=>{r.payload.response.facets.forEach(n=>{var i;return Zs((i=t[n.facetId])==null?void 0:i.request,n)})}).addCase(Rr.fulfilled,(t,r)=>{var n,i;(((i=(n=r.payload.response)==null?void 0:n.facets)==null?void 0:i.results)||[]).forEach(a=>{var o;return Zs((o=t[a.facetId])==null?void 0:o.request,a)})}).addCase(jc.fulfilled,(t,r)=>{r.payload.response.facets.forEach(n=>{var i;return Zs((i=t[n.facetId])==null?void 0:i.request,n)})}).addCase(nb,(t,r)=>{var n;let{facetId:i,value:a}=r.payload,o=(n=t[i])==null?void 0:n.request;if(!o)return;let{rawValue:s}=a,{currentValues:l}=o,u=l.find(f=>f.value===s);if(u){u.state="selected";return}let d=yp(s);vp(o,d),o.freezeCurrentValues=!0,o.preventAutoSelect=!0}).addCase(Ni,(t,r)=>{if(!(r.payload in t))return;let{request:n}=t[r.payload];oa(n)})});function vp(e,t){let{currentValues:r}=e,n=r.findIndex(s=>s.state==="idle"),i=n===-1?r.length:n,a=r.slice(0,i),o=r.slice(i+1);e.currentValues=[...a,t,...o],e.numberOfValues=e.currentValues.length}function Zs(e,t){!e||(e.currentValues=t.values.map(qF),e.freezeCurrentValues=!1,e.preventAutoSelect=!1)}var IF={filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"automatic"};function EF(e){return{...IF,type:"specific",currentValues:[],freezeCurrentValues:!1,isFieldExpanded:!1,preventAutoSelect:!1,...e}}function qF(e){let{value:t,state:r}=e;return{value:t,state:r}}function yp(e){return{value:e,state:"selected"}}function RF(e){return{...e,state:"idle"}}var ib={filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"ascending",rangeAlgorithm:"even"};function ab(e,t){let{request:r}=t,{facetId:n}=r;if(n in e)return;let i=ub(r);r.numberOfValues=i,e[n]=t}function ob(e,t,r){var n;let i=(n=e[t])==null?void 0:n.request;!i||(i.currentValues=r,i.numberOfValues=ub(i))}function sb(e,t,r){var n;let i=(n=e[t])==null?void 0:n.request;if(!i)return;let a=iu(i.currentValues,r);if(!a)return;let o=a.state==="selected";a.state=o?"idle":"selected",i.preventAutoSelect=!0}function mn(e,t){var r;let n=(r=e[t])==null?void 0:r.request;!n||n.currentValues.forEach(i=>i.state="idle")}function lb(e,t){Object.entries(e).forEach(([r,{request:n}])=>{let i=t[r]||[];n.currentValues.forEach(s=>{let l=!!iu(i,s);return s.state=l?"selected":"idle",s});let a=i.filter(s=>!iu(n.currentValues,s)),o=n.currentValues;o.push(...a),n.numberOfValues=Math.max(n.numberOfValues,o.length)})}function to(e,t,r){t.forEach(n=>{var i;let a=n.facetId,o=(i=e[a])==null?void 0:i.request;if(!o)return;let s=r(n.values);o.currentValues=s,o.preventAutoSelect=!1})}function iu(e,t){let{start:r,end:n}=t;return e.find(i=>i.start===r&&i.end===n)}function ub(e){let{generateAutomaticRanges:t,currentValues:r,numberOfValues:n}=e;return t?Math.max(n,r.length):r.length}ie(ji(),e=>{e.addCase(Uy,(t,r)=>{let{payload:n}=r,i=AF(n);ab(t,aA(i))}).addCase(tt.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.dateFacetSet)!=null?i:t}).addCase(bt,(t,r)=>{let n=r.payload.df||{};lb(t,n)}).addCase(Vc,(t,r)=>{let{facetId:n,selection:i}=r.payload;sb(t,n,i)}).addCase(Ly,(t,r)=>{let{facetId:n,values:i}=r.payload;ob(t,n,i)}).addCase(eF,(t,r)=>{mn(t,r.payload)}).addCase(Nr,t=>{Object.keys(t).forEach(r=>{mn(t,r)})}).addCase(XT,(t,r)=>{Qc(t,r.payload)}).addCase(Me.fulfilled,(t,r)=>{let n=r.payload.response.facets;to(t,n,bp)}).addCase(Rr.fulfilled,(t,r)=>{var n,i;let a=((i=(n=r.payload.response)==null?void 0:n.facets)==null?void 0:i.results)||[];to(t,a,bp)}).addCase(Ni,(t,r)=>{mn(t,r.payload)})});function AF(e){return{...ib,currentValues:[],preventAutoSelect:!1,type:"dateRange",...e}}function bp(e){return e.map(t=>{let{numberOfResults:r,...n}=t;return n})}ie(Ti(),e=>{e.addCase(zy,(t,r)=>{let{payload:n}=r,i=DF(n);ab(t,oA(i))}).addCase(tt.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.numericFacetSet)!=null?i:t}).addCase(bt,(t,r)=>{let n=r.payload.nf||{};lb(t,n)}).addCase(zc,(t,r)=>{let{facetId:n,selection:i}=r.payload;sb(t,n,i)}).addCase(Ny,(t,r)=>{let{facetId:n,values:i}=r.payload;ob(t,n,i)}).addCase(iF,(t,r)=>{mn(t,r.payload)}).addCase(Nr,t=>{Object.keys(t).forEach(r=>{mn(t,r)})}).addCase(nF,(t,r)=>{Qc(t,r.payload)}).addCase(Me.fulfilled,(t,r)=>{let n=r.payload.response.facets;to(t,n,Sp)}).addCase(Rr.fulfilled,(t,r)=>{var n,i;let a=((i=(n=r.payload.response)==null?void 0:n.facets)==null?void 0:i.results)||[];to(t,a,Sp)}).addCase(Ni,(t,r)=>{mn(t,r.payload)})});function DF(e){return{...ib,currentValues:[],preventAutoSelect:!1,type:"numericalRange",...e}}function Sp(e){return e.map(t=>{let{numberOfResults:r,...n}=t;return n})}var jF={collectionField:new ue({emptyAllowed:!1,required:!1}),parentField:new ue({emptyAllowed:!1,required:!1}),childField:new ue({emptyAllowed:!1,required:!1}),numberOfFoldedResults:new fe({min:0,required:!1})},cb=_("folding/register",e=>N(e,jF)),Xs=$e("folding/loadCollection",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n}})=>{let i=t(),a=await xc(i),o=await n.search({...a,q:TF(i),enableQuerySyntax:!0,cq:`@${i.folding.fields.collection}="${e}"`,filterField:i.folding.fields.collection,childField:i.folding.fields.parent,parentField:i.folding.fields.child,filterFieldRange:100},{origin:"foldingCollection"});return vt(o)?r(o.error):{collectionId:e,results:o.success.results,rootResult:i.folding.collections[e].result}});function TF(e){return e.query.q===""?"":e.query.enableQuerySyntax?`${e.query.q} OR @uri`:`( <@- ${e.query.q} -@> ) OR @uri`}it("analytics/folding/showLess",et.Custom,e=>e.makeShowLessFoldedResults());var FF=new He({each:te,required:!0}),_F=_("fields/registerFieldsToInclude",e=>N(e,FF)),PF=_("fields/fetchall/enable"),MF=_("fields/fetchall/disable"),UF=$e("fields/fetchDescription",async(e,{extra:t,getState:r,rejectWithValue:n})=>{let i=r(),{accessToken:a,organizationId:o}=i.configuration,{apiBaseUrl:s}=i.configuration.search,l=await t.apiClient.fieldDescriptions({accessToken:a,organizationId:o,url:s});return vt(l)?n(l.error):l.success.fields});ie(_c(),e=>e.addCase(_F,(t,r)=>{t.fieldsToInclude=[...new Set(t.fieldsToInclude.concat(r.payload))]}).addCase(PF,t=>{t.fetchAllFields=!0}).addCase(MF,t=>{t.fetchAllFields=!1}).addCase(UF.fulfilled,(t,{payload:r})=>{t.fieldsDescription=r}).addCase(cb,(t,{payload:r})=>{var n,i,a;let o=Mc().fields;t.fieldsToInclude.push((n=r.collectionField)!=null?n:o.collection,(i=r.parentField)!=null?i:o.parent,(a=r.childField)!=null?a:o.child)}));function LF(e,t){return e.raw[t.collection]}function au(e,t){return e.raw[t.parent]}function Kn(e,t){let r=e.raw[t.child];return Tv(r)?r[0]:r}function VF(e,t){return(e||t)!==void 0&&e===t}function db(e,t,r,n=[]){let i=Kn(e,r);return i?n.indexOf(i)!==-1?[]:t.filter(a=>{let o=Kn(a,r)===Kn(e,r);return au(a,r)===i&&!o}).map(a=>({result:a,children:db(a,t,r,[...n,i])})):[]}function zF(e,t){return e.find(r=>{let n=au(r,t)===void 0,i=VF(au(r,t),Kn(r,t));return n||i})}function fb(e){return e.parentResult?fb(e.parentResult):e}function NF(e,t,r){var n;let i=Fv(e),a=(n=r!=null?r:zF(i,t))!=null?n:fb(e);return{result:a,children:db(a,i,t),moreResultsAvailable:!0,isLoadingMoreResults:!1}}function sa(e,t,r){let n={};return e.forEach(i=>{let a=LF(i,t);!a||!Kn(i,t)&&!i.parentResult||(n[a]=NF(i,t,r))}),n}function wp(e,t){if(!e.collections[t])throw new Error(`Missing collection ${t} from ${Object.keys(e.collections)}: Folding most probably in an invalid state...`);return e.collections[t]}ie(Mc(),e=>e.addCase(Me.fulfilled,(t,{payload:r})=>{t.collections=t.enabled?sa(r.response.results,t.fields):{}}).addCase(qr.fulfilled,(t,{payload:r})=>{t.collections=t.enabled?sa(r.response.results,t.fields):{}}).addCase(Jn.fulfilled,(t,{payload:r})=>{t.collections=t.enabled?{...t.collections,...sa(r.response.results,t.fields)}:{}}).addCase(cb,(t,{payload:r})=>{var n,i,a,o;return t.enabled?t:{enabled:!0,collections:{},fields:{collection:(n=r.collectionField)!=null?n:t.fields.collection,parent:(i=r.parentField)!=null?i:t.fields.parent,child:(a=r.childField)!=null?a:t.fields.child},filterFieldRange:(o=r.numberOfFoldedResults)!=null?o:t.filterFieldRange}}).addCase(Xs.pending,(t,{meta:r})=>{let n=r.arg;wp(t,n).isLoadingMoreResults=!0}).addCase(Xs.rejected,(t,{meta:r})=>{let n=r.arg;wp(t,n).isLoadingMoreResults=!1}).addCase(Xs.fulfilled,(t,{payload:{collectionId:r,results:n,rootResult:i}})=>{let a=sa(n,t.fields,i);if(!a||!a[r])throw new Error(`Unable to create collection ${r} from received results: ${JSON.stringify(n)}. Folding most probably in an invalid state... `);t.collections[r]=a[r],t.collections[r].moreResultsAvailable=!1}));var QF=Ke(EE());function HF(e,t,r=(n,i)=>n===i){return e.length===t.length&&e.findIndex((n,i)=>!r(t[i],n))===-1}(0,QF.createCustomEqual)(e=>(t,r)=>Array.isArray(t)&&Array.isArray(r)?t.length!==r.length?!1:t.every(n=>r.findIndex(i=>e(n,i))!==-1):e(t,r));ie(Wv(),e=>{e.addCase(wa,(t,r)=>BF(t,r.payload)?void 0:r.payload)});var BF=(e,t)=>WF(e.context,t.context)&&YF(e.dictionaryFieldContext,t.dictionaryFieldContext)&&e_(e.advancedSearchQueries,t.advancedSearchQueries)&&JF(e.tabSet,t.tabSet)&&KF(e.staticFilterSet,t.staticFilterSet)&&el(e.facetSet,t.facetSet)&&el(e.dateFacetSet,t.dateFacetSet)&&el(e.numericFacetSet,t.numericFacetSet)&&GF(e.categoryFacetSet,t.categoryFacetSet)&&ZF(e.pagination,t.pagination)&&XF(e.query,t.query)&&t_(e,t)&&r_(e.pipeline,t.pipeline)&&n_(e.searchHub,t.searchHub)&&i_(e.facetOrder,t.facetOrder)&&a_(e.debug,t.debug),WF=(e,t)=>JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues),YF=(e,t)=>JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues),JF=(e,t)=>{let r=Cp(e),n=Cp(t);return(r==null?void 0:r.id)===(n==null?void 0:n.id)},Cp=e=>Object.values(e).find(t=>t.isActive),KF=(e,t)=>{for(let[r,n]of Object.entries(t)){if(!e[r])return!1;let i=$p(e[r]),a=$p(n);if(JSON.stringify(i)!==JSON.stringify(a))return!1}return!0},$p=e=>e.values.filter(t=>t.state!=="idle"),el=(e,t)=>{for(let[r,n]of Object.entries(t)){if(!e[r])return!1;let i=e[r].request.currentValues.filter(o=>o.state==="selected"),a=n.request.currentValues.filter(o=>o.state==="selected");if(JSON.stringify(i)!==JSON.stringify(a))return!1}return!0},GF=(e,t)=>{var r;for(let[n,i]of Object.entries(t)){if(!e[n])return!1;let a=ii((r=e[n])==null?void 0:r.request.currentValues).parents.map(({value:s})=>s),o=ii(i==null?void 0:i.request.currentValues).parents.map(({value:s})=>s);if(JSON.stringify(a)!==JSON.stringify(o))return!1}return!0},ZF=(e,t)=>e.firstResult===t.firstResult&&e.numberOfResults===t.numberOfResults,XF=(e,t)=>JSON.stringify(e)===JSON.stringify(t),e_=(e,t)=>JSON.stringify(e)===JSON.stringify(t),t_=(e,t)=>e.sortCriteria===t.sortCriteria,r_=(e,t)=>e===t,n_=(e,t)=>e===t,i_=(e,t)=>HF(e,t),a_=(e,t)=>e===t,o_=_("insightConfiguration/set",e=>N(e,{insightId:te}));ie(Ij(),e=>{e.addCase(o_,(t,r)=>{t.insightId=r.payload.insightId})});var pb=_("searchHub/set",e=>N(e,new ue({required:!0,emptyAllowed:!0}))),tl=$e("insight/interface/fetch",async(e,{getState:t,dispatch:r,rejectWithValue:n,extra:{apiClient:i}})=>{let a=t(),o=await i.getInterface(s_(a));return vt(o)?n(o.error):(r(pb(o.success.searchHub)),{response:o.success})}),s_=e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.platformUrl,insightId:e.insightConfiguration.insightId});ie(Ej(),e=>{e.addCase(tl.pending,t=>{t.loading=!0,t.error=void 0}).addCase(tl.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(tl.fulfilled,(t,r)=>{t.loading=!1,t.error=void 0;let{searchHub:n,...i}=r.payload.response;t.config=i})});ie(Ec(),e=>{e.addCase(jD,(t,r)=>{let{id:n}=r.payload;t[n]||(t[n]={q:"",cache:{}})}),e.addCase(zv,(t,r)=>{let{q:n,id:i}=r.payload;!n||(t[i].q=n)}),e.addCase(TD,(t,r)=>{let{id:n}=r.payload;Object.entries(t[n].cache).forEach(([i,a])=>{zD(a)&&delete t[n].cache[i]})}),e.addCase(Qs.pending,(t,r)=>{for(let i in t)for(let a in t[i].cache)t[i].cache[a].isActive=!1;if(!la(t,r.meta)){l_(t,r.meta);return}let n=la(t,r.meta);n.isLoading=!0,n.isActive=!0,n.error=null}),e.addCase(Qs.fulfilled,(t,r)=>{let{results:n,searchUid:i}=r.payload,{cacheTimeout:a}=r.meta.arg,o=la(t,r.meta);o.isActive=!0,o.searchUid=i,o.isLoading=!1,o.error=null,o.results=n,o.expiresAt=a?a+Date.now():0}),e.addCase(Qs.rejected,(t,r)=>{let n=la(t,r.meta);n.error=r.error||null,n.isLoading=!1,n.isActive=!1})});var l_=(e,t)=>{let{q:r,id:n}=t.arg;e[n].cache[r]={isLoading:!0,error:null,results:[],expiresAt:0,isActive:!0,searchUid:""}},la=(e,t)=>{let{q:r,id:n}=t.arg;return e[n].cache[r]||null},u_=ie(In(),e=>{e.addCase(FD,(t,r)=>{let n=rl(t),i=r.payload;t.defaultNumberOfResults=t.numberOfResults=i,t.firstResult=Pn(n,i)}).addCase(_D,(t,r)=>{t.numberOfResults=r.payload,t.firstResult=0}).addCase(Nv,(t,r)=>{let n=r.payload;t.firstResult=Pn(n,t.numberOfResults)}).addCase(kc,(t,r)=>{let n=r.payload;t.firstResult=Pn(n,t.numberOfResults)}).addCase(Hv,t=>{let r=rl(t),n=Math.max(r-1,_o);t.firstResult=Pn(n,t.numberOfResults)}).addCase(Qv,t=>{let r=rl(t),n=c_(t),i=Math.min(r+1,n);t.firstResult=Pn(i,t.numberOfResults)}).addCase(tt.fulfilled,(t,r)=>{r.payload&&(t.numberOfResults=r.payload.pagination.numberOfResults,t.firstResult=r.payload.pagination.firstResult)}).addCase(bt,(t,r)=>{var n,i;t.firstResult=(n=r.payload.firstResult)!=null?n:t.firstResult,t.numberOfResults=(i=r.payload.numberOfResults)!=null?i:t.defaultNumberOfResults}).addCase(Me.fulfilled,(t,r)=>{let{response:n}=r.payload;t.totalCountFiltered=n.totalCountFiltered}).addCase(Rr.fulfilled,(t,r)=>{let{response:n}=r.payload;t.totalCountFiltered=n.pagination.totalCount}).addCase(Po,t=>{qt(t)}).addCase(Lc,t=>{qt(t)}).addCase(Ty,t=>{qt(t)}).addCase(jy,t=>{qt(t)}).addCase(Qy,t=>{qt(t)}).addCase(Vc,t=>{qt(t)}).addCase(zc,t=>{qt(t)}).addCase(Nr,t=>{qt(t)}).addCase(Ly,t=>{qt(t)}).addCase(Ny,t=>{qt(t)}).addCase(nb,t=>{qt(t)})});function qt(e){e.firstResult=In().firstResult}function rl(e){let{firstResult:t,numberOfResults:r}=e;return hb(t,r)}function c_(e){let{totalCountFiltered:t,numberOfResults:r}=e;return gb(t,r)}function Pn(e,t){return(e-1)*t}function hb(e,t){return Math.round(e/t)+1}function gb(e,t){let r=Math.min(e,eu);return Math.ceil(r/t)}var d_=_("pipeline/set",e=>N(e,new ue({required:!0,emptyAllowed:!0})));ie(_i(),e=>{e.addCase(d_,(t,r)=>r.payload).addCase(tt.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.pipeline)!=null?i:t}).addCase(Uc,(t,r)=>r.payload.pipeline||t)});ie(gy(),e=>{e.addCase(wF,(t,r)=>{t.url=r.payload.url}).addCase(CF,(t,r)=>{t.additionalFields=r.payload.additionalFields}).addCase(Rr.rejected,(t,r)=>{t.error=r.payload?r.payload:null,t.isLoading=!1}).addCase(Rr.fulfilled,(t,r)=>{t.error=null,t.facets=r.payload.response.facets,t.products=r.payload.response.products,t.responseId=r.payload.response.responseId,t.isLoading=!1}).addCase(Rr.pending,t=>{t.isLoading=!0})});ie(bc(),e=>{e.addCase(bD,(t,r)=>{t.id=r.payload.id}).addCase(SD,(t,r)=>{t.skus=r.payload.skus}).addCase(wD,(t,r)=>{t.filter.brand=r.payload.brand}).addCase(CD,(t,r)=>{t.filter.category=r.payload.category}).addCase(kD,(t,r)=>{t.maxNumberOfRecommendations=r.payload.number}).addCase($D,(t,r)=>{t.additionalFields=r.payload.additionalFields}).addCase(ba.rejected,(t,r)=>{t.error=r.payload?r.payload:null,t.isLoading=!1}).addCase(ba.fulfilled,(t,r)=>{t.error=null,t.searchUid=r.payload.searchUid,t.recommendations=r.payload.recommendations,t.isLoading=!1}).addCase(ba.pending,t=>{t.isLoading=!0})});var Qi={id:te},f_=_("querySuggest/register",e=>N(e,{...Qi,count:new fe({min:0})})),p_=_("querySuggest/unregister",e=>N(e,Qi)),mb=_("querySuggest/selectSuggestion",e=>N(e,{...Qi,expression:Ve})),h_=_("querySuggest/clear",e=>N(e,Qi)),nl=$e("querySuggest/fetch",async(e,{getState:t,rejectWithValue:r,extra:{apiClient:n,validatePayload:i}})=>{i(e,Qi);let a=e.id,o=await g_(a,t()),s=await n.querySuggest(o);return vt(s)?r(s.error):{id:a,q:o.q,...s.success}}),g_=async(e,t)=>({accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,url:t.configuration.search.apiBaseUrl,count:t.querySuggest[e].count,q:t.querySet[e],locale:t.configuration.search.locale,timezone:t.configuration.search.timezone,actionsHistory:t.configuration.analytics.enabled?On.getHistory():[],...t.context&&{context:t.context.contextValues},...t.pipeline&&{pipeline:t.pipeline},...t.searchHub&&{searchHub:t.searchHub},...t.configuration.analytics.enabled&&{visitorId:await Lt(t.configuration.analytics),...t.configuration.analytics.enabled&&await Do(t.configuration.analytics)},...t.configuration.search.authenticationProviders.length&&{authentication:t.configuration.search.authenticationProviders.join(",")}}),vb={id:te,query:Ve},m_=_("querySet/register",e=>N(e,vb)),v_=_("querySet/update",e=>N(e,vb));ie(qc(),e=>{e.addCase(m_,(t,r)=>{let{id:n,query:i}=r.payload;n in t||(t[n]=i)}).addCase(v_,(t,r)=>{let{id:n,query:i}=r.payload;il(t,n,i)}).addCase(mb,(t,r)=>{let{id:n,expression:i}=r.payload;il(t,n,i)}).addCase(Me.fulfilled,(t,r)=>{let{queryExecuted:n}=r.payload;kp(t,n)}).addCase(bt,(t,r)=>{ve(r.payload.q)||kp(t,r.payload.q)}).addCase(tt.fulfilled,(t,r)=>{if(r.payload)for(let[n,i]of Object.entries(r.payload.querySet))il(t,n,i)})});function kp(e,t){Object.keys(e).forEach(r=>e[r]=t)}var il=(e,t,r)=>{t in e&&(e[t]=r)};ie(qj(),e=>e.addCase(f_,(t,r)=>{let n=r.payload.id;n in t||(t[n]=y_(r.payload))}).addCase(p_,(t,r)=>{delete t[r.payload.id]}).addCase(nl.pending,(t,r)=>{let n=t[r.meta.arg.id];!n||(n.currentRequestId=r.meta.requestId,n.isLoading=!0)}).addCase(nl.fulfilled,(t,r)=>{let n=t[r.meta.arg.id];if(!n||r.meta.requestId!==n.currentRequestId)return;let{q:i}=r.payload;i&&n.partialQueries.push(i.replace(/;/,encodeURIComponent(";"))),n.responseId=r.payload.responseId,n.completions=r.payload.completions,n.isLoading=!1,n.error=null}).addCase(nl.rejected,(t,r)=>{let n=t[r.meta.arg.id];!n||(n.error=r.payload||null,n.isLoading=!1)}).addCase(h_,(t,r)=>{let n=t[r.payload.id];!n||(n.responseId="",n.completions=[],n.partialQueries=[])}));function y_(e){return{id:"",completions:[],responseId:"",count:5,currentRequestId:"",error:null,partialQueries:[],isLoading:!1,...e}}ie(Ur(),e=>e.addCase(Oc,(t,r)=>({...t,...r.payload})).addCase(Ic,(t,r)=>{t.q=r.payload}).addCase(mb,(t,r)=>{t.q=r.payload.expression}).addCase(tt.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.query)!=null?i:t}).addCase(bt,(t,r)=>{var n,i;t.q=(n=r.payload.q)!=null?n:t.q,t.enableQuerySyntax=(i=r.payload.enableQuerySyntax)!=null?i:t.enableQuerySyntax}));var Bc=()=>new pe({values:{questionAnswerId:te},options:{required:!0}}),yb=()=>new pe({values:{linkText:Ve,linkURL:Ve},options:{required:!0}});function bb(e){return N(e,Bc())}var b_=_("smartSnippet/expand"),S_=_("smartSnippet/collapse"),w_=_("smartSnippet/like"),C_=_("smartSnippet/dislike"),$_=_("smartSnippet/feedbackModal/open"),k_=_("smartSnippet/feedbackModal/close"),O_=_("smartSnippet/related/expand",e=>bb(e)),x_=_("smartSnippet/related/collapse",e=>bb(e)),Op=(e,t)=>e.findIndex(r=>r.questionAnswerId===t.questionAnswerId);function Sb({question:e,answerSnippet:t,documentId:{contentIdKey:r,contentIdValue:n}}){return oD({question:e,answerSnippet:t,contentIdKey:r,contentIdValue:n})}function I_(e,t){let r=Sb(e);return t&&r===t.questionAnswerId?t:{contentIdKey:e.documentId.contentIdKey,contentIdValue:e.documentId.contentIdValue,expanded:!1,questionAnswerId:r}}ie(nu(),e=>e.addCase(b_,t=>{t.expanded=!0}).addCase(S_,t=>{t.expanded=!1}).addCase(w_,t=>{t.liked=!0,t.disliked=!1,t.feedbackModalOpen=!1}).addCase(C_,t=>{t.liked=!1,t.disliked=!0}).addCase($_,t=>{t.feedbackModalOpen=!0}).addCase(k_,t=>{t.feedbackModalOpen=!1}).addCase(Me.fulfilled,(t,r)=>{let n=r.payload.response.questionAnswer.relatedQuestions.map((a,o)=>I_(a,t.relatedQuestions[o])),i=Sb(r.payload.response.questionAnswer);return t.questionAnswerId===i?{...t,relatedQuestions:n}:{...nu(),relatedQuestions:n,questionAnswerId:i}}).addCase(O_,(t,r)=>{let n=Op(t.relatedQuestions,r.payload);n!==-1&&(t.relatedQuestions[n].expanded=!0)}).addCase(x_,(t,r)=>{let n=Op(t.relatedQuestions,r.payload);n!==-1&&(t.relatedQuestions[n].expanded=!1)}));var E_={queries:new He({required:!0,each:new ue({emptyAllowed:!1})}),maxLength:new fe({required:!0,min:1,default:10})},q_=_("recentQueries/registerRecentQueries",e=>N(e,E_)),R_=_("recentQueries/clearRecentQueries");ie(yy(),e=>{e.addCase(q_,(t,r)=>{t.queries=r.payload.queries.slice(0,r.payload.maxLength),t.maxLength=r.payload.maxLength}).addCase(R_,t=>{t.queries=[]}).addCase(Me.fulfilled,(t,r)=>{let n=r.payload.queryExecuted.trim(),i=r.payload.response.results;if(!n.length||!i.length)return;t.queries=t.queries.filter(o=>o!==n);let a=t.queries.slice(0,t.maxLength-1);t.queries=[n,...a]})});var A_={results:new He({required:!0,each:new pe({values:wc})}),maxLength:new fe({required:!0,min:1,default:10})},D_=_("recentResults/registerRecentResults",e=>N(e,A_)),j_=_("recentResults/pushRecentResult",e=>(Mv(e),{payload:e})),T_=_("recentResults/clearRecentResults");ie(by(),e=>{e.addCase(D_,(t,r)=>{t.results=r.payload.results.slice(0,r.payload.maxLength),t.maxLength=r.payload.maxLength}).addCase(T_,t=>{t.results=[]}).addCase(j_,(t,r)=>{let n=r.payload;t.results=t.results.filter(a=>a.uniqueId!==n.uniqueId);let i=t.results.slice(0,t.maxLength-1);t.results=[n,...i]})});ie(Yn(),e=>{e.addCase(ED,(t,r)=>{t.id=r.payload.id}).addCase(Sa.rejected,(t,r)=>{t.error=r.payload?r.payload:null,t.isLoading=!1}).addCase(Sa.fulfilled,(t,r)=>{t.error=null,t.recommendations=r.payload.recommendations,t.duration=r.payload.duration,t.isLoading=!1,t.searchUid=r.payload.searchUid,t.splitTestRun=r.payload.splitTestRun,t.pipeline=r.payload.pipeline}).addCase(Sa.pending,t=>{t.isLoading=!0})});async function F_(e,t){var r;let{search:n,accessToken:i,organizationId:a,analytics:o}=e.configuration,s=((r=e.query)==null?void 0:r.q)||"";return{url:n.apiBaseUrl,accessToken:i,organizationId:a,enableNavigation:!1,...o.enabled&&{visitorId:await Lt(e.configuration.analytics)},q:s,...t,requestedOutputSize:t.requestedOutputSize||0,...n.authenticationProviders.length&&{authentication:n.authenticationProviders.join(",")}}}var xp=$e("resultPreview/fetchResultContent",async(e,{extra:t,getState:r,rejectWithValue:n})=>{let i=r(),a=await F_(i,e),o=await t.apiClient.html(a);return vt(o)?n(o.error):{content:o.success,uniqueId:e.uniqueId}}),__=_("resultPreview/next"),P_=_("resultPreview/previous"),M_=_("resultPreview/prepare",e=>N(e,{results:new He({required:!0})})),Ip=2048,U_=$e("resultPreview/updateContentURL",async(e,{getState:t,extra:r})=>{let n=t(),i=zA(await e.buildResultPreviewRequest(n,{uniqueId:e.uniqueId,requestedOutputSize:e.requestedOutputSize}),e.path);return(i==null?void 0:i.length)>Ip&&r.logger.error(`The content URL was truncated as it exceeds the maximum allowed length of ${Ip} characters.`),{contentURL:i}}),al=e=>e.filter(t=>t.hasHtmlVersion).map(t=>t.uniqueId);ie(Xa(),e=>{e.addCase(xp.pending,t=>{t.isLoading=!0}).addCase(xp.fulfilled,(t,r)=>{let{content:n,uniqueId:i}=r.payload;t.position=t.resultsWithPreview.indexOf(i),t.content=n,t.uniqueId=i,t.isLoading=!1}).addCase(Me.fulfilled,(t,r)=>{let{content:n,isLoading:i,uniqueId:a,contentURL:o}=Xa();t.content=n,t.isLoading=i,t.uniqueId=a,t.contentURL=o,t.resultsWithPreview=al(r.payload.response.results)}).addCase(Jn.fulfilled,(t,r)=>{t.resultsWithPreview=t.resultsWithPreview.concat(al(r.payload.response.results))}).addCase(M_,(t,r)=>{t.resultsWithPreview=al(r.payload.results)}).addCase(__,t=>{if(t.isLoading)return;let r=t.position+1;r>t.resultsWithPreview.length-1&&(r=0),t.position=r}).addCase(P_,t=>{if(t.isLoading)return;let r=t.position-1;r<0&&(r=t.resultsWithPreview.length-1),t.position=r}).addCase(U_.fulfilled,(t,r)=>{t.contentURL=r.payload.contentURL})});ie(Lr(),e=>{e.addCase(pb,(t,r)=>r.payload).addCase(tt.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.searchHub)!=null?i:t}).addCase(Uc,(t,r)=>r.payload.searchHub||t)});function ol(e,t){var r;let n=(r=t.payload)!=null?r:null;n&&(e.response=Ir().response,e.results=[],e.questionAnswer=Ka()),e.error=n,e.isLoading=!1}function ou(e,t){e.error=null,e.response=t.payload.response,e.queryExecuted=t.payload.queryExecuted,e.duration=t.payload.duration,e.isLoading=!1}function L_(e,t){ou(e,t),e.results=t.payload.response.results,e.searchResponseId=t.payload.response.searchUid,e.questionAnswer=t.payload.response.questionAnswer}function sl(e,t){e.isLoading=!0,e.requestId=t.meta.requestId}var V_=ie(Ir(),e=>{e.addCase(Me.rejected,(t,r)=>ol(t,r)),e.addCase(Jn.rejected,(t,r)=>ol(t,r)),e.addCase(qr.rejected,(t,r)=>ol(t,r)),e.addCase(Me.fulfilled,(t,r)=>{L_(t,r)}),e.addCase(Jn.fulfilled,(t,r)=>{ou(t,r),t.results=[...t.results,...r.payload.response.results]}),e.addCase(qr.fulfilled,(t,r)=>{ou(t,r),t.results=r.payload.response.results}),e.addCase(jc.fulfilled,(t,r)=>{t.response.facets=r.payload.response.facets,t.response.searchUid=r.payload.response.searchUid}),e.addCase(Me.pending,sl),e.addCase(Jn.pending,sl),e.addCase(qr.pending,sl)}),Ep={by:new mv({enum:Bv,required:!0})},z_=_("sortCriteria/register",e=>wb(e)),N_=_("sortCriteria/update",e=>wb(e)),wb=e=>gv(e)?(e.forEach(t=>N(t,Ep)),{payload:e}):N(e,Ep);ie(Rc(),e=>{e.addCase(z_,(t,r)=>Ga(r.payload)).addCase(N_,(t,r)=>Ga(r.payload)).addCase(tt.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.sortCriteria)!=null?i:t}).addCase(bt,(t,r)=>{var n;return(n=r.payload.sortCriteria)!=null?n:t})});var Q_={by:new mv({enum:eo,required:!0})},H_=_("sort/register",e=>Cb(e)),B_=_("sort/update",e=>Cb(e)),Cb=e=>N(e,Q_);ie(my(),e=>{e.addCase(H_,(t,r)=>r.payload).addCase(B_,(t,r)=>r.payload)});function W_(e){return e.type==="redirect"}var Y_=class{constructor(e){this.response=e}get basicExpression(){return this.response.parsedInput.basicExpression}get largeExpression(){return this.response.parsedInput.largeExpression}get redirectionUrl(){let e=this.response.preprocessingOutput.triggers.filter(W_);return e.length?e[0].content:null}},J_=_("standaloneSearchBox/register",e=>N(e,{id:te,redirectionUrl:te})),K_=_("standaloneSearchBox/reset",e=>N(e,{id:te})),G_=_("standaloneSearchBox/updateAnalyticsToSearchFromLink",e=>N(e,{id:te})),Z_=_("standaloneSearchBox/updateAnalyticsToOmniboxFromLink"),ll=$e("standaloneSearchBox/fetchRedirect",async(e,{dispatch:t,getState:r,rejectWithValue:n,extra:{apiClient:i,validatePayload:a}})=>{a(e,{id:new ue({emptyAllowed:!1})});let o=await eP(r()),s=await i.plan(o);if(vt(s))return n(s.error);let{redirectionUrl:l}=new Y_(s.success);return l&&t(X_(l)),l||""}),X_=e=>it("analytics/standaloneSearchBox/redirect",et.Custom,t=>t.makeTriggerRedirect({redirectedTo:e})),eP=async e=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,timezone:e.configuration.search.timezone,q:e.query.q,...e.context&&{context:e.context.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.searchHub&&{searchHub:e.searchHub},...e.configuration.analytics.enabled&&{visitorId:await Lt(e.configuration.analytics)},...e.configuration.analytics.enabled&&await Do(e.configuration.analytics),...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")}});ie(Sy(),e=>e.addCase(J_,(t,r)=>{let{id:n,redirectionUrl:i}=r.payload;n in t||(t[n]=qp(i))}).addCase(K_,(t,r)=>{let{id:n}=r.payload,i=t[n];if(i){t[n]=qp(i.defaultRedirectionUrl);return}}).addCase(ll.pending,(t,r)=>{let n=t[r.meta.arg.id];!n||(n.isLoading=!0)}).addCase(ll.fulfilled,(t,r)=>{let n=r.payload,i=t[r.meta.arg.id];!i||(i.redirectTo=n||i.defaultRedirectionUrl,i.isLoading=!1)}).addCase(ll.rejected,(t,r)=>{let n=t[r.meta.arg.id];!n||(n.isLoading=!1)}).addCase(G_,(t,r)=>{let n=t[r.payload.id];!n||(n.analytics.cause="searchFromLink")}).addCase(Z_,(t,r)=>{let n=t[r.payload.id];!n||(n.analytics.cause="omniboxFromLink",n.analytics.metadata=r.payload.metadata)}));function qp(e){return{defaultRedirectionUrl:e,redirectTo:"",isLoading:!1,analytics:{cause:"",metadata:null}}}var Wc=te,$b=new pe({options:{required:!0},values:{caption:Ve,expression:Ve,state:new ue({constrainTo:["idle","selected"]})}}),tP=new He({required:!0,each:$b}),rP=_("staticFilter/register",e=>N(e,{id:Wc,values:tP})),nP=_("staticFilter/toggleSelect",e=>N(e,{id:Wc,value:$b})),iP=_("staticFilter/deselectAllFilterValues",e=>N(e,Wc));ie(Ac(),e=>e.addCase(rP,(t,r)=>{let n=r.payload,{id:i}=n;i in t||(t[i]=n)}).addCase(nP,(t,r)=>{let{id:n,value:i}=r.payload,a=t[n];if(!a)return;let o=a.values.find(l=>l.caption===i.caption);if(!o)return;let s=o.state==="selected";o.state=s?"idle":"selected"}).addCase(iP,(t,r)=>{let n=r.payload,i=t[n];!i||i.values.forEach(a=>a.state="idle")}).addCase(Nr,t=>{Object.values(t).forEach(r=>{r.values.forEach(n=>n.state="idle")})}).addCase(bt,(t,r)=>{let n=r.payload.sf||{};Object.entries(t).forEach(([i,a])=>{let o=n[i]||[];a.values.forEach(s=>{s.state=o.includes(s.caption)?"selected":"idle"})})}));ie(Dc(),e=>{e.addCase(OT,(t,r)=>{let n=r.payload,{id:i}=n;i in t||(t[i]={...n,isActive:!1})}).addCase(qy,(t,r)=>{let n=r.payload;Rp(t,n)}).addCase(bt,(t,r)=>{let n=r.payload.tab||"";Rp(t,n)}).addCase(tt.fulfilled,(t,r)=>{var n,i;return(i=(n=r.payload)==null?void 0:n.tabSet)!=null?i:t})});function Rp(e,t){t in e&&Object.keys(e).forEach(r=>{e[r].isActive=r===t})}ie(wy(),e=>e.addCase(Me.pending,t=>{t.query="",t.queryModification={originalQuery:"",newQuery:"",queryToIgnore:t.queryModification.queryToIgnore}}).addCase(Me.fulfilled,(t,r)=>{var n;let i=[],a=[],o=[];r.payload.response.triggers.forEach(s=>{switch(s.type){case"redirect":i.push(s.content);break;case"query":break;case"execute":a.push({functionName:s.content.name,params:s.content.params});break;case"notify":o.push(s.content);break}}),t.redirectTo=(n=i[0])!=null?n:"",t.query=t.queryModification.newQuery,t.executions=a,t.notifications=o}).addCase(Jv,(t,r)=>{t.queryModification={...r.payload,queryToIgnore:""}}).addCase(Yv,(t,r)=>{t.queryModification.queryToIgnore=r.payload}));var aP=IT,oP=u_,sP=V_;Ke(xo());Ke(Tm());function kb(e){let t,r=new Map,n=()=>r.size===0,i=a=>{try{let o=JSON.stringify(a),s=t!==o;return t=o,s}catch(o){return console.warn('Could not detect if state has changed, check the controller "get state method"',o),!0}};return{subscribe(a){a();let o=Symbol(),s;return n()&&(t=JSON.stringify(this.state),s=e.subscribe(()=>{i(this.state)&&r.forEach(l=>l())})),r.set(o,a),()=>{r.delete(o),n()&&s&&s()}},get state(){return{}}}}var lP={facetId:ke,selection:new pe({values:Fy})};$e("facet/executeToggleSelect",({facetId:e,selection:t},r)=>{let{dispatch:n,extra:{validatePayload:i}}=r;i({facetId:e,selection:t},lP),n(Lc({facetId:e,selection:t})),n(Lo({freezeFacetOrder:!0}))});var Ob=_("rangeFacet/executeToggleSelect",e=>N(e,KT(e.selection))),uP={facetId:ke,selection:new pe({values:Uo})};$e("dateFacet/executeToggleSelect",(e,{dispatch:t,extra:{validatePayload:r}})=>{r(e,uP),t(Vc(e)),t(Ob(e)),t(Lo({freezeFacetOrder:!0}))});var cP={facetId:ke,selection:new pe({values:Mo})},dP="numericFacet/executeToggleSelect";$e(dP,(e,{dispatch:t,extra:{validatePayload:r}})=>{r(e,cP),t(zc(e)),t(Ob(e)),t(Lo({freezeFacetOrder:!0}))});function fP(e){return e.pagination.firstResult}function xb(e){return e.pagination.numberOfResults}function pP(e){return e.pagination.totalCountFiltered}var Hi=e=>{let t=fP(e),r=xb(e);return hb(t,r)},Ib=e=>{let t=pP(e),r=xb(e);return gb(t,r)},hP=(e,t)=>{let r=Hi(e),n=Ib(e),i=gP(r,t);return i=mP(i),i=vP(i,n),yP(i)};function gP(e,t){let r=t%2==0,n=Math.floor(t/2),i=r?n-1:n,a=e-n,o=e+i;return{start:a,end:o}}function mP(e){let t=Math.max(_o-e.start,0),r=e.start+t,n=e.end+t;return{start:r,end:n}}function vP(e,t){let r=Math.max(e.end-t,0),n=Math.max(e.start-r,_o),i=e.end-r;return{start:n,end:i}}function yP(e){let t=[];for(let r=e.start;r<=e.end;++r)t.push(r);return t}var bP=()=>it("analytics/pager/number",et.Search,(e,t)=>e.makePagerNumber({pagerNumber:Hi(t)})),SP=()=>it("analytics/pager/next",et.Search,(e,t)=>e.makePagerNext({pagerNumber:Hi(t)})),wP=()=>it("analytics/pager/previous",et.Search,(e,t)=>e.makePagerPrevious({pagerNumber:Hi(t)})),CP=new Ri({numberOfPages:new fe({default:5,min:0})}),$P=new Ri({page:new fe({min:1})});function kP(e,t={}){OP(e);let r=kb(e),{dispatch:n}=e,i=tD(e,CP,t.options,"buildPager"),a=eD(e,$P,t.initialState,"buildPager").page;a&&n(Nv(a));let o=()=>Hi(e.state),s=()=>{let{numberOfPages:u}=i;return hP(e.state,u)},l=()=>Ib(e.state);return{...r,get state(){let u=o(),d=l(),f=u>_o&&d>0,g=u<d;return{currentPage:u,currentPages:s(),maxPage:d,hasPreviousPage:f,hasNextPage:g}},selectPage(u){n(kc(u))},nextPage(){n(Qv())},previousPage(){n(Hv())},isCurrentPage(u){return u===this.state.currentPage}}}function OP(e){return e.addReducers({configuration:aP,pagination:oP}),!0}function xP(e,t={}){let{dispatch:r}=e,n=kP(e,t);return{...n,get state(){return n.state},selectPage(i){n.selectPage(i),r(qr(bP()))},nextPage(){n.nextPage(),r(qr(SP()))},previousPage(){n.previousPage(),r(qr(wP()))}}}function IP(e){EP(e);let t=kb(e),r=()=>e.state;return{...t,get state(){let n=r();return{hasError:n.search.error!==null,isLoading:n.search.isLoading,hasResults:!!n.search.results.length,firstSearchExecuted:lT(n)}}}}function EP(e){return e.addReducers({search:sP}),!0}var qP=e=>it("analytics/result/open",et.Click,(t,r)=>(Mv(e),t.makeDocumentOpen(Pi(e,r),Sc(e))));function RP(e){return IP(e)}function Vo(e,t){var r,n;let i=t!=null?t:(n=(r=e.search)==null?void 0:r.questionAnswer)==null?void 0:n.documentId;return i&&e.search&&uT(e,i.contentIdKey,i.contentIdValue)}function Eb(e,t){var r,n,i,a,o;let s=(n=(r=e.questionAnswering)==null?void 0:r.relatedQuestions.findIndex(u=>u.questionAnswerId===t))!=null?n:-1;if(s===-1)return null;let l=(o=(a=(i=e.search)==null?void 0:i.questionAnswer)==null?void 0:a.relatedQuestions)==null?void 0:o[s];return l!=null?l:null}function AP(){return it("analytics/smartSnippet/source/open",et.Click,(e,t)=>{let r=Vo(t);return e.makeOpenSmartSnippetSource(Pi(r,t),Sc(r))})}var DP=e=>it("analytics/smartSnippet/source/open",et.Click,(t,r)=>{N(e,yb());let n=Vo(r);return t.makeOpenSmartSnippetInlineLink(Pi(n,r),{...Sc(n),...e})}),jP=e=>it("analytics/smartSnippet/source/open",et.Click,(t,r)=>{N(e,Bc());let n=Eb(r,e.questionAnswerId);if(!n)return null;let i=Vo(r,n.documentId);return i?t.makeOpenSmartSnippetSuggestionSource(Pi(i,r),{question:n.question,answerSnippet:n.answerSnippet,documentId:n.documentId}):null}),TP=(e,t)=>it("analytics/smartSnippet/source/open",et.Click,(r,n)=>{N(e,Bc()),N(t,yb());let i=Eb(n,e.questionAnswerId);if(!i)return null;let a=Vo(n,i.documentId);return a?r.makeOpenSmartSnippetSuggestionInlineLink(Pi(a,n),{question:i.question,answerSnippet:i.answerSnippet,documentId:i.documentId,linkText:t.linkText,linkURL:t.linkURL}):null}),Ap;(e=>{e.getResultProperty=zi,e.fieldsMustBeDefined=iT,e.fieldsMustNotBeDefined=aT,e.fieldMustMatch=oT,e.fieldMustNotMatch=sT})(Ap||(Ap={}));function FP(e){return e.addReducers({}),{logDocumentOpen:qP,logOpenSmartSnippetSource:AP,logOpenSmartSnippetSuggestionSource:jP,logOpenSmartSnippetInlineLink:DP,logOpenSmartSnippetSuggestionInlineLink:TP}}var _P="nav{width:300px;display:flex;justify-content:space-around}button{color:var(--atomic-on-primary);background-color:var(--atomic-primary)}",PP=class extends ur{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.pagerUnsubscribe=()=>{},this.statusUnsubscribe=()=>{},this.i18nUnsubscribe=()=>{}}async connectedCallback(){try{await du(),this.bindings=await Rm(this.host);let e=RP(this.bindings.engine);this.pagerController=xP(this.bindings.engine),this.statusUnsubscribe=e.subscribe(()=>this.statusState=e.state),this.pagerUnsubscribe=this.pagerController.subscribe(()=>this.pagerState=this.pagerController.state);let t=()=>$0(this);this.bindings.i18n.on("languageChanged",t),this.i18nUnsubscribe=()=>this.bindings.i18n.off("languageChanged",t)}catch(e){console.error(e),this.error=e}}disconnectedCallback(){this.pagerUnsubscribe(),this.statusUnsubscribe(),this.i18nUnsubscribe()}get pages(){return this.pagerState.currentPages.map(t=>this.buildPage(t))}buildPage(e){let t=this.pagerController.isCurrentPage(e);return Y("button",{onClick:()=>{this.pagerController.selectPage(e)}},t?"\u2713 ":"",e.toLocaleString(this.bindings.i18n.language))}get previous(){return Y("button",{onClick:()=>{this.pagerController.previousPage()}},Y("atomic-text",{value:"previous"}))}get next(){return Y("button",{onClick:()=>{this.pagerController.nextPage()}},Y("atomic-text",{value:"next"}))}render(){if(this.error)return Y("p",null,"Error when initializing the component, please view the console for more information.");if(!(!this.bindings||!this.statusState.hasResults))return Y("nav",null,this.pagerState.hasPreviousPage&&this.previous,this.pages,this.pagerState.hasNextPage&&this.next)}get host(){return this}static get style(){return _P}},MP="b{color:var(--atomic-primary)}",UP=class extends ur{constructor(){super(),this.__registerHost(),this.__attachShadow()}async connectedCallback(){try{this.result=await $o(this.host)}catch(e){console.error(e),this.host.remove()}}render(){if(!this.result)return;let e=this.result.raw.author||"anonymous";return Y("h4",null,"Written by: ",Y("b",null,e))}get host(){return this}static get style(){return MP}},LP=class extends ur{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.filteredValues=[],this.errorMessage="",this.facetObserver=null,this.listObserver=null,this.handleClickOutside=e=>{var t;let r=(t=this.hostElement.shadowRoot)===null||t===void 0?void 0:t.querySelector("input");r&&!r.contains(e.target)&&this.clearInput()}}componentDidLoad(){if(!this.hostElement.shadowRoot)return;let e=this.hostElement.shadowRoot.querySelector("atomic-facet");if(e){if(this.facetElement=e,this.facetElement.style.display="none",this.clearButton&&this.clearButton.setAttribute("style","display: none"),!e.shadowRoot)return;this.facetObserver=new MutationObserver(()=>{let t=e.shadowRoot.querySelector('ul[part="values"]');t&&(this.buildNewList(),this.listObserver=new MutationObserver(()=>{this.buildNewList()}),this.listObserver.observe(t,{childList:!0}))}),this.facetObserver.observe(e.shadowRoot,{childList:!0})}document.addEventListener("click",this.handleClickOutside)}disconnectedCallback(){this.facetObserver&&(this.facetObserver.disconnect(),this.facetObserver=null),this.listObserver&&(this.listObserver.disconnect(),this.listObserver=null),document.removeEventListener("click",this.handleClickOutside)}buildNewList(){var e,t;let r=(e=this.facetElement.shadowRoot)===null||e===void 0?void 0:e.querySelector('ul[part="values"]'),n=(t=this.hostElement.shadowRoot)===null||t===void 0?void 0:t.querySelector("ul.clinical-trials-list");if(r&&n){n.style.display="none",n.setAttribute("part","sj-clinical-trial-search__list hydrated"),n.innerHTML="";let i=Array.from(r.querySelectorAll('button[part="value-link"]')),a=[];i.forEach(o=>{let s=this.buildListItems(o);s&&a.push(s)}),a.forEach(o=>{n.appendChild(o)})}}buildListItems(e){var t;let r=e.querySelector("span");if(r){let[n,i,a]=r.innerText.split("||").map(d=>d.trim()),o=document.createElement("li");o.setAttribute("part","sj-clinical-trial-search__list-item");let s=document.createElement("a");s.href=i,s.textContent=n,s.setAttribute("part","sj-clinical-trial-search__list-link");let l=document.createElement("div");l.innerHTML=a;let u=((t=l.textContent)===null||t===void 0?void 0:t.toLowerCase())||"";return s.setAttribute("data-diagnosis",u),o.appendChild(s),o}return null}handleInput(e){var t,r,n;let i=e.target,a=i.value.toLowerCase(),o=(t=this.hostElement.shadowRoot)===null||t===void 0?void 0:t.querySelector("ul.clinical-trials-list");(!a||a.length<2)&&(o&&(o.style.display="none",this.clearButton.setAttribute("style","display: none")),this.errorMessage=""),o&&(o.style.display="",this.clearButton.setAttribute("style","display: block"));let s=(r=this.hostElement.shadowRoot)===null||r===void 0?void 0:r.querySelectorAll("ul.clinical-trials-list li");s&&s.forEach(u=>{var d,f;let g=u,y=((d=g.textContent)===null||d===void 0?void 0:d.toLowerCase())||"",m=((f=g.querySelector("a"))===null||f===void 0?void 0:f.getAttribute("data-diagnosis"))||"";y.includes(a)||m.includes(a)?g.style.display="":g.style.display="none"});let l=(n=this.hostElement.shadowRoot)===null||n===void 0?void 0:n.querySelectorAll('ul.clinical-trials-list li:not([style*="display: none"])');l&&l.length===0?(this.errorMessage=`${this.errorMessageString}`,this.errorMessageUserInput=`${i.value}`,o.style.display="none"):(this.errorMessage="",o.style.display="")}handleClearButton(){var e;let t=(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelector("input");this.clearInput(),t.focus()}clearInput(){var e,t;let r=(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelector("ul.clinical-trials-list"),n=(t=this.hostElement.shadowRoot)===null||t===void 0?void 0:t.querySelector("input");n.value="",r&&(r.style.display="none",this.clearButton.setAttribute("style","display: none")),this.errorMessage=""}render(){return Y("div",{part:"sj-clinical-trial-search__container"},Y("div",{part:"sj-clinical-trial-search__input-label"},this.label),Y("div",{part:"sj-clinical-trial-search__input-wrapper"},Y("input",{id:"clinical-trial-search",part:"sj-clinical-trial-search__input",autocomplete:"off",type:"text",placeholder:this.searchTextPlaceholder,onInput:e=>this.handleInput(e)}),Y("button",{type:"reset",part:"sj-clinical-trial-search__clear-icon","aria-label":"Clear input",ref:e=>this.clearButton=e,onClick:()=>this.handleClearButton()}),Y("div",{part:"sj-clinical-trial-search__search-icon"})),Y("ul",{class:"clinical-trials-list",part:"sj-clinical-trial-search__list hidden"},this.filteredValues.map(e=>Y("li",null,e))),this.errorMessage&&Y("p",{part:"sj-clinical-trial-search__error-message"},this.errorMessage," ",Y("span",{part:"sj-clinical-trial-search__user-input"},this.errorMessageUserInput)),Y("atomic-facet",{"facet-id":"sj-clinical-trial-search",field:this.field,label:this.label,"with-search":this.withSearch,"number-of-values":this.numberOfValues,"display-values-as":this.displayValuesAs,"search-text-placeholder":this.searchTextPlaceholder,"error-message-string":this.errorMessageString}))}get hostElement(){return this}},VP=class extends ur{constructor(){super(),this.__registerHost(),this.__attachShadow()}async connectedCallback(){try{this.result=await $o(this.host)}catch(e){console.error(e),this.host.remove()}}render(){if(!this.result||!stjude)return;let e=this.result.raw.sj_clinical_trial_categories,t=this.result.raw.sj_clinical_trial_category_urls;var r=document.createElement("sj-clinical-trial-tags");if(e!=null&&typeof e=="object"&&t!=null&&typeof t=="object")for(var n=Array.from(Object.values(e)),i=Array.from(Object.values(t)),a=0;a<n.length;a++)if(i[a]!=null&&i[a]!=""&&i[a]!="null"){var o=document.createElement("a");o.href=i[a],o.innerText=n[a],this.result.raw.sj_site!==stjude.shared.sjSiteFacetName&&o.setAttribute("target","_blank"),o.setAttribute("part","clinical-trial-tags-link"),r.appendChild(o)}else{var s=document.createElement("span");s.innerText=n[a],s.setAttribute("part","clinical-trial-tags-nolink"),r.appendChild(s)}return Y("span",{innerHTML:r.innerHTML,class:"clinical-trial-categories"})}get host(){return this}},zP=class extends ur{constructor(){super(),this.__registerHost()}async connectedCallback(){try{this.result=await $o(this.host)}catch(e){console.error(e),this.host.remove()}}render(){if(!(!this.result||!stjude))return this.imageUrl!=null?this.result.raw.sj_site!==stjude.shared.sjSiteFacetName?Y("atomic-result-link",null,Y("a",{slot:"attributes",target:"_blank"}),Y("atomic-result-image",{field:"sj_pagethumbnail"})):Y("atomic-result-link",null,Y("atomic-result-image",{field:"sj_pagethumbnail"})):this.result.raw.sj_site!==stjude.shared.sjSiteFacetName?Y("atomic-result-link",null,Y("a",{slot:"attributes",target:"_blank"}),this.ctLink?Y("atomic-result-text",{field:"sj_clinical_trial_title"}):""):Y("atomic-result-link",null,this.ctLink?Y("atomic-result-text",{field:"sj_clinical_trial_title"}):"")}get host(){return this}},NP=class extends ur{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.isExpanded=!1,this.facetObserver=null,this.listObserver=null,this.facetDivObserver=null}componentDidLoad(){if(!this.hostElement.shadowRoot)return;let e=this.hostElement.shadowRoot.querySelector("atomic-facet");if(e){if(this.facetElement=e,!e.shadowRoot)return;let t=this.hostElement.parentNode;t&&t.replaceChild(this.facetElement,this.hostElement),this.facetObserver=new MutationObserver(()=>{this.observeOriginalList(),this.observeFacetDiv(),this.observeCollapseButton()}),this.facetObserver.observe(e.shadowRoot,{childList:!0})}}disconnectedCallback(){this.cleanupObservers()}cleanupObservers(){this.facetObserver&&(this.facetObserver.disconnect(),this.facetObserver=null),this.listObserver&&(this.listObserver.disconnect(),this.listObserver=null),this.facetDivObserver&&(this.facetDivObserver.disconnect(),this.facetDivObserver=null)}observeOriginalList(){let e=this.facetElement.shadowRoot.querySelector('ul[part="values"]');e&&(this.transformList(),this.listObserver=new MutationObserver(()=>{this.transformList()}),this.listObserver.observe(e,{childList:!0}))}observeFacetDiv(){let e=this.facetElement.shadowRoot.querySelector('div[part="facet"]');e&&(e.appendChild(this.toggleButton),this.facetDivObserver=new MutationObserver(()=>{this.observeOriginalList()}),this.facetDivObserver.observe(e,{childList:!0}))}observeCollapseButton(){let e=this.facetElement.shadowRoot.querySelector('button[part="label-button"]');e&&e.addEventListener("click",()=>{e.getAttribute("aria-expanded")==="true"&&this.toggleButton.parentNode&&(this.toggleButton.style.display="none")})}transformList(){let e=Array.from(this.facetElement.shadowRoot.querySelectorAll('ul[part="values"] li'));e.forEach((t,r)=>{t.style.display=r>=this.defaultNumberOfValuesToShow&&!this.isExpanded?"none":"flex"}),this.toggleButton.style.display=e.length<=this.defaultNumberOfValuesToShow?"none":"block"}toggleListVisibility(){this.isExpanded=!this.isExpanded,this.toggleButton.setAttribute("part",this.isExpanded?"show-all-button show-all-button-expanded":"show-all-button show-all-button-collapsed"),!this.isExpanded&&this.facetElement&&(this.facetElement.scrollIntoView({behavior:"smooth",block:"start"}),this.facetElement.focus({preventScroll:!0})),this.transformList()}render(){return Y("div",{class:"sj-show-all-facet"},Y("atomic-facet",{"facet-id":this.field,class:"sj-show-all-facet",field:this.field,label:this.label,"with-search":this.withSearch,"number-of-values":this.numberOfValues,"default-number-of-values-to-show":this.defaultNumberOfValuesToShow,"display-values-as":this.displayValuesAs}),Y("button",{class:"toggle-button",part:"show-all-button",ref:e=>this.toggleButton=e,onClick:()=>this.toggleListVisibility()},this.isExpanded?"Show less":"Show all"))}get hostElement(){return this}},QP="#image-container{position:relative;margin-right:var(--atomic-image-container-margin-right-mobile, 1rem)}#image-container img{width:100%;height:auto}#image-container .btn{background-color:transparent;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);color:white;font-size:16px;padding:12px 24px;border:none;cursor:pointer;border-radius:5px;text-align:center}#image-container .btn circle{fill-opacity:0.7}.video-link-title a{font-family:var(--atomic-font-family, 'SJ Sans','Open Sans', sans-serif);font-size:var(--atomic-video-link-title-font-size-mobile, 18px);font-weight:var(--atomic-video-link-title-font-weight, 600);color:var(--atomic-video-link-title-color, #000);line-height:var(--atomic-video-link-title-line-height, 120%);display:block;text-decoration:var(--atomic-video-link-title-text-decoration, underline)}.video-link-title a:hover{color:var(--atomic-video-link-title-hover-color, #d11947);text-decoration:var(--atomic-video-link-title-text-decoration-hover, underline)}.video-link-title a:hover atomic-result-text{color:var(--atomic-video-link-result-text-hover-color, inherit)}.video-link-title a b{font-weight:inherit}.coveo-modal{display:none;position:fixed;z-index:10000;left:0;top:0;width:100%;overflow:auto;background-color:rgb(0, 0, 0);background-color:rgba(0, 0, 0, 0.95);}.coveo-modal-content{border:none;background-color:transparent;margin:10vh auto;width:80vw;min-height:80vh}.close{color:white;cursor:pointer;font-size:48px;position:absolute;top:1rem;right:1.5rem}.coveo-opened{display:block}.coveo-opened>div{display:flex;align-items:stretch}.coveo-opened>div>iframe{border:none;flex-grow:1}.coveo-modal-content:not(:focus-within){background-color:transparent;transition:background-color 0.01s}@media only screen and (max-width: 768px){.coveo-modal-content{width:100vw;min-height:100vh;margin:0 auto}.coveo-opened>div>div{width:0px}}atomic-result-image{height:initial !important}atomic-field-condition{display:block;margin-right:1rem}@media screen and (min-width: 1024px){#image-container{width:var(--atomic-image-container-width, 160px);margin-right:var(--atomic-image-container-margin, 3rem)}atomic-field-condition{width:10rem}.video-link-title a{font-size:var(--atomic-video-link-title-font-size, 20px)}}@media screen and (max-width: 1023px){atomic-field-condition{width:24vw}}",HP=class extends ur{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.isActive=!1}async connectedCallback(){try{this.result=await $o(this.host),this.bindings=await Rm(this.host)}catch(e){console.error(e),this.host.remove()}}toggle(e){if(e.preventDefault(),e.stopPropagation(),this.result&&this.bindings&&!this.isActive){let{logDocumentOpen:t}=FP(this.bindings.engine);this.bindings.engine.dispatch(t(this.result))}this.isActive=!this.isActive,this.isActive?document.body.classList.add("coveo-video-modal-open"):document.body.classList.remove("coveo-video-modal-open")}renderContent(){var e;if(!this.isActive)return null;let t=((e=this.result)===null||e===void 0?void 0:e.clickUri.replace("watch?v=","embed/"))||"";return Y(j0,null,Y("iframe",{id:"youtube-player",src:t,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullScreen:!0}),Y("div",null,Y("span",{class:"close",onClick:r=>this.toggle(r),"aria-label":"Close"},"\xD7")))}render(){var e;if(this.result)return this.imageUrl?Y("atomic-field-condition",{id:"image-container","if-defined":this.imageUrl},Y("div",{role:"button",onClick:t=>this.toggle(t)},Y("atomic-result-image",{field:this.imageUrl}),Y("button",{class:"btn"},Y("svg",{xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink",version:"1.1",width:"30",height:"30",viewBox:"0 0 30 30",xmlSpace:"preserve"},Y("desc",null,"Created with Fabric.js 5.2.4"),Y("defs",null),Y("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"transparent"}),Y("g",{transform:"matrix(0 0 0 0 0 0)",id:"aaaac760-dad5-4e87-9ee1-31337586c174"}),Y("g",{transform:"matrix(1 0 0 1 15 15)",id:"9d883568-99c7-4be5-802a-150ce52b9a38"},Y("rect",{style:{stroke:"none",strokeWidth:"1",strokeDasharray:"none",strokeLinecap:"butt",strokeDashoffset:"0",strokeLinejoin:"miter",strokeMiterlimit:"4",fill:"rgb(255,255,255)",fillRule:"nonzero",opacity:"1",visibility:"hidden"},"vector-effect":"non-scaling-stroke",x:"-15",y:"-15",rx:"0",ry:"0",width:"30",height:"30"})),Y("g",{transform:"matrix(0.43 0 0 0.43 15.16 15.16)",id:"83855ea8-6128-402b-ba19-25197ac261bc"},Y("circle",{style:{stroke:"rgb(0,0,0)",strokeWidth:"0",strokeDasharray:"none",strokeLinecap:"butt",strokeDashoffset:"0",strokeLinejoin:"miter",strokeMiterlimit:"4",fill:"rgb(0,0,0)",fillRule:"nonzero",opacity:"1"},"vector-effect":"non-scaling-stroke",cx:"0",cy:"0",r:"35"})),Y("g",{transform:"matrix(0.12 0 0 0.12 15.42 15.52)",id:"44292b7c-e0d7-49aa-9da3-6bb52ce309d9"},Y("polygon",{style:{stroke:"rgb(0,0,0)",strokeWidth:"0",strokeDasharray:"none",strokeLinecap:"butt",strokeDashoffset:"0",strokeLinejoin:"miter",strokeMiterlimit:"4",fill:"rgb(101,101,101)",fillRule:"nonzero",opacity:"1"},"vector-effect":"non-scaling-stroke",points:"-30.68,-37.41 30.68,0 -30.68,37.41 "})),Y("g",{transform:"matrix(0.2 0 0 0.2 16.91 15.04)",id:"2628da7e-0cc8-4ebf-97fb-d3966ffbe8cb"},Y("polygon",{style:{stroke:"rgb(0,0,0)",strokeWidth:"0",strokeDasharray:"none",strokeLinecap:"butt",strokeDashoffset:"0",strokeLinejoin:"miter",strokeMiterlimit:"4",fill:"rgb(255,255,255)",fillRule:"nonzero",opacity:"1"},"vector-effect":"non-scaling-stroke",points:"-30.68,-37.41 30.68,0 -30.68,37.41 "}))))),Y("div",{class:this.isActive?"coveo-modal coveo-opened":"coveo-modal"},Y("div",{class:"coveo-modal-content"},this.renderContent()))):Y("div",{class:"video-link-title"},Y("a",{href:(e=this.result)===null||e===void 0?void 0:e.clickUri,onClick:t=>this.toggle(t)},Y("atomic-result-text",{field:"title","should-highlight":!0,default:"no-title"})),Y("div",{class:this.isActive?"coveo-modal coveo-opened":"coveo-modal"},Y("div",{class:"coveo-modal-content"},this.renderContent())))}get host(){return this}static get style(){return QP}},BP=cr(Q0,[0,"results-manager"]),WP=cr(PP,[1,"sample-component",{pagerState:[32],statusState:[32]}]),YP=cr(UP,[1,"sample-result-component",{result:[32]}]),JP=cr(LP,[1,"sj-clinical-trial-search",{field:[1],label:[1],displayValuesAs:[1,"display-values-as"],numberOfValues:[2,"number-of-values"],withSearch:[1,"with-search"],errorMessageString:[1,"error-message-string"],errorMessageUserInput:[1,"error-message-user-input"],searchTextPlaceholder:[1,"search-text-placeholder"],filteredValues:[32],errorMessage:[32]}]),KP=cr(VP,[1,"sj-clinical-trial-tags",{result:[32]}]),GP=cr(zP,[0,"sj-result-link",{imageUrl:[1,"image-url"],ctLink:[4,"ct-link"],result:[32]}]),ZP=cr(NP,[1,"sj-show-all-facet",{field:[1],label:[1],displayValuesAs:[1,"display-values-as"],numberOfValues:[2,"number-of-values"],defaultNumberOfValuesToShow:[2,"default-number-of-values-to-show"],withSearch:[1,"with-search"],isExpanded:[32]}]),XP=cr(HP,[1,"video-quick-view",{imageUrl:[1,"image-url"],result:[32],bindings:[32],isActive:[32]}]),eM=e=>{typeof customElements!="undefined"&&[BP,WP,YP,JP,KP,GP,ZP,XP].forEach(t=>{customElements.get(t.is)||customElements.define(t.is,t,e)})};eM();export{BP as ResultsManager,WP as SampleComponent,YP as SampleResultComponent,JP as SjClinicalTrialSearch,KP as SjClinicalTrialTags,GP as SjResultLink,ZP as SjShowAllFacet,XP as VideoQuickView,eM as defineCustomElements,rM as setAssetPath,nM as setPlatformOptions};
/*! @license DOMPurify 2.3.10 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.10/LICENSE */
/**
 * @license
 *
 * Copyright 2023 Coveo Solutions Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
